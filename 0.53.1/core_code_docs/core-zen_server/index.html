
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.53.1/core_code_docs/core-zen_server/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-8.5.10">
    
    
      
        <title>Zen Server - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#zen-server" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Zen Server
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Zen Server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Zen Server
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.zen_server" class="md-nav__link">
    zen_server
  </a>
  
    <nav class="md-nav" aria-label="zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth" class="md-nav__link">
    auth
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.AuthContext" class="md-nav__link">
    AuthContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.CookieOAuth2TokenBearer" class="md-nav__link">
    CookieOAuth2TokenBearer
  </a>
  
    <nav class="md-nav" aria-label="CookieOAuth2TokenBearer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.CookieOAuth2TokenBearer.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_api_key" class="md-nav__link">
    authenticate_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_credentials" class="md-nav__link">
    authenticate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_device" class="md-nav__link">
    authenticate_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_external_user" class="md-nav__link">
    authenticate_external_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authentication_provider" class="md-nav__link">
    authentication_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authorize" class="md-nav__link">
    authorize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.get_auth_context" class="md-nav__link">
    get_auth_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.http_authentication" class="md-nav__link">
    http_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.no_authentication" class="md-nav__link">
    no_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.oauth2_authentication" class="md-nav__link">
    oauth2_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.set_auth_context" class="md-nav__link">
    set_auth_context()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy" class="md-nav__link">
    deploy
  </a>
  
    <nav class="md-nav" aria-label="deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider" class="md-nav__link">
    base_provider
  </a>
  
    <nav class="md-nav" aria-label="base_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider" class="md-nav__link">
    BaseServerProvider
  </a>
  
    <nav class="md-nav" aria-label="BaseServerProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.deploy_server" class="md-nav__link">
    deploy_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server" class="md-nav__link">
    get_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server_logs" class="md-nav__link">
    get_server_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.list_servers" class="md-nav__link">
    list_servers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.register_as_provider" class="md-nav__link">
    register_as_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.remove_server" class="md-nav__link">
    remove_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.update_server" class="md-nav__link">
    update_server()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer" class="md-nav__link">
    deployer
  </a>
  
    <nav class="md-nav" aria-label="deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer" class="md-nav__link">
    ServerDeployer
  </a>
  
    <nav class="md-nav" aria-label="ServerDeployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.connect_to_server" class="md-nav__link">
    connect_to_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.deploy_server" class="md-nav__link">
    deploy_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.disconnect_from_server" class="md-nav__link">
    disconnect_from_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_provider" class="md-nav__link">
    get_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_server" class="md-nav__link">
    get_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_server_logs" class="md-nav__link">
    get_server_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.is_connected_to_server" class="md-nav__link">
    is_connected_to_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.list_servers" class="md-nav__link">
    list_servers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.register_provider" class="md-nav__link">
    register_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.remove_server" class="md-nav__link">
    remove_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.update_server" class="md-nav__link">
    update_server()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment" class="md-nav__link">
    deployment
  </a>
  
    <nav class="md-nav" aria-label="deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeployment" class="md-nav__link">
    ServerDeployment
  </a>
  
    <nav class="md-nav" aria-label="ServerDeployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeployment.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig" class="md-nav__link">
    ServerDeploymentConfig
  </a>
  
    <nav class="md-nav" aria-label="ServerDeploymentConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentStatus" class="md-nav__link">
    ServerDeploymentStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker" class="md-nav__link">
    docker
  </a>
  
    <nav class="md-nav" aria-label="docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_provider" class="md-nav__link">
    docker_provider
  </a>
  
    <nav class="md-nav" aria-label="docker_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_provider.DockerServerProvider" class="md-nav__link">
    DockerServerProvider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server" class="md-nav__link">
    docker_zen_server
  </a>
  
    <nav class="md-nav" aria-label="docker_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerServerDeploymentConfig" class="md-nav__link">
    DockerServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer" class="md-nav__link">
    DockerZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServerConfig" class="md-nav__link">
    DockerZenServerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentConfigurationError" class="md-nav__link">
    ServerDeploymentConfigurationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError" class="md-nav__link">
    ServerDeploymentError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentExistsError" class="md-nav__link">
    ServerDeploymentExistsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentNotFoundError" class="md-nav__link">
    ServerDeploymentNotFoundError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerProviderNotFoundError" class="md-nav__link">
    ServerProviderNotFoundError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_provider" class="md-nav__link">
    local_provider
  </a>
  
    <nav class="md-nav" aria-label="local_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_provider.LocalServerProvider" class="md-nav__link">
    LocalServerProvider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server" class="md-nav__link">
    local_zen_server
  </a>
  
    <nav class="md-nav" aria-label="local_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalServerDeploymentConfig" class="md-nav__link">
    LocalServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalZenServer" class="md-nav__link">
    LocalZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalZenServerConfig" class="md-nav__link">
    LocalZenServerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform" class="md-nav__link">
    terraform
  </a>
  
    <nav class="md-nav" aria-label="terraform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers" class="md-nav__link">
    providers
  </a>
  
    <nav class="md-nav" aria-label="providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.aws_provider" class="md-nav__link">
    aws_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.azure_provider" class="md-nav__link">
    azure_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.gcp_provider" class="md-nav__link">
    gcp_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.terraform_provider" class="md-nav__link">
    terraform_provider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server" class="md-nav__link">
    terraform_zen_server
  </a>
  
    <nav class="md-nav" aria-label="terraform_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" class="md-nav__link">
    TerraformServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer" class="md-nav__link">
    TerraformZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServerConfig" class="md-nav__link">
    TerraformZenServerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.get_helm_chart_path" class="md-nav__link">
    get_helm_chart_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.ErrorModel" class="md-nav__link">
    ErrorModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.error_detail" class="md-nav__link">
    error_detail()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.exception_from_response" class="md-nav__link">
    exception_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.http_exception_from_error" class="md-nav__link">
    http_exception_from_error()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt" class="md-nav__link">
    jwt
  </a>
  
    <nav class="md-nav" aria-label="jwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken" class="md-nav__link">
    JWTToken
  </a>
  
    <nav class="md-nav" aria-label="JWTToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken.decode_token" class="md-nav__link">
    decode_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken.encode" class="md-nav__link">
    encode()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac" class="md-nav__link">
    rbac
  </a>
  
    <nav class="md-nav" aria-label="rbac">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils" class="md-nav__link">
    endpoint_utils
  </a>
  
    <nav class="md-nav" aria-label="endpoint_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel]" class="md-nav__link">
    Page[AnyResponseModel]
  </a>
  
    <nav class="md-nav" aria-label="Page[AnyResponseModel]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_create_entity" class="md-nav__link">
    verify_permissions_and_create_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_delete_entity" class="md-nav__link">
    verify_permissions_and_delete_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_get_entity" class="md-nav__link">
    verify_permissions_and_get_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_list_entities" class="md-nav__link">
    verify_permissions_and_list_entities()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_update_entity" class="md-nav__link">
    verify_permissions_and_update_entity()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models" class="md-nav__link">
    models
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Action" class="md-nav__link">
    Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource" class="md-nav__link">
    Resource
  </a>
  
    <nav class="md-nav" aria-label="Resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.ResourceType" class="md-nav__link">
    ResourceType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface" class="md-nav__link">
    rbac_interface
  </a>
  
    <nav class="md-nav" aria-label="rbac_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface" class="md-nav__link">
    RBACInterface
  </a>
  
    <nav class="md-nav" aria-label="RBACInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface.check_permissions" class="md-nav__link">
    check_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface.list_allowed_resource_ids" class="md-nav__link">
    list_allowed_resource_ids()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any]" class="md-nav__link">
    BaseResponse[Any, Any]
  </a>
  
    <nav class="md-nav" aria-label="BaseResponse[Any, Any]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel]" class="md-nav__link">
    Page[AnyResponseModel]
  </a>
  
    <nav class="md-nav" aria-label="Page[AnyResponseModel]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.batch_verify_permissions" class="md-nav__link">
    batch_verify_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.batch_verify_permissions_for_models" class="md-nav__link">
    batch_verify_permissions_for_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.dehydrate_page" class="md-nav__link">
    dehydrate_page()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.dehydrate_response_model" class="md-nav__link">
    dehydrate_response_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_allowed_resource_ids" class="md-nav__link">
    get_allowed_resource_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model" class="md-nav__link">
    get_permission_denied_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model_v1" class="md-nav__link">
    get_permission_denied_model_v1()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model_v2" class="md-nav__link">
    get_permission_denied_model_v2()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_resource_for_model" class="md-nav__link">
    get_resource_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_resource_type_for_model" class="md-nav__link">
    get_resource_type_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_subresources_for_model" class="md-nav__link">
    get_subresources_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_surrogate_permission_model_for_model" class="md-nav__link">
    get_surrogate_permission_model_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.has_permissions_for_model" class="md-nav__link">
    has_permissions_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.is_owned_by_authenticated_user" class="md-nav__link">
    is_owned_by_authenticated_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.verify_permission" class="md-nav__link">
    verify_permission()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.verify_permission_for_model" class="md-nav__link">
    verify_permission_for_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac" class="md-nav__link">
    zenml_cloud_rbac
  </a>
  
    <nav class="md-nav" aria-label="zenml_cloud_rbac">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC" class="md-nav__link">
    ZenMLCloudRBAC
  </a>
  
    <nav class="md-nav" aria-label="ZenMLCloudRBAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.session" class="md-nav__link">
    session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.check_permissions" class="md-nav__link">
    check_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.list_allowed_resource_ids" class="md-nav__link">
    list_allowed_resource_ids()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration" class="md-nav__link">
    ZenMLCloudRBACConfiguration
  </a>
  
    <nav class="md-nav" aria-label="ZenMLCloudRBACConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.from_environment" class="md-nav__link">
    from_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers" class="md-nav__link">
    routers
  </a>
  
    <nav class="md-nav" aria-label="routers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint" class="md-nav__link">
    artifact_endpoint
  </a>
  
    <nav class="md-nav" aria-label="artifact_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.update_artifact" class="md-nav__link">
    update_artifact()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints" class="md-nav__link">
    artifact_version_endpoints
  </a>
  
    <nav class="md-nav" aria-label="artifact_version_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.create_artifact_version" class="md-nav__link">
    create_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.delete_artifact_version" class="md-nav__link">
    delete_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.get_artifact_version" class="md-nav__link">
    get_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.get_artifact_visualization" class="md-nav__link">
    get_artifact_visualization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.list_artifact_versions" class="md-nav__link">
    list_artifact_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.update_artifact_version" class="md-nav__link">
    update_artifact_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints" class="md-nav__link">
    auth_endpoints
  </a>
  
    <nav class="md-nav" aria-label="auth_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm" class="md-nav__link">
    OAuthLoginRequestForm
  </a>
  
    <nav class="md-nav" aria-label="OAuthLoginRequestForm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.api_token" class="md-nav__link">
    api_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.device_authorization" class="md-nav__link">
    device_authorization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.generate_access_token" class="md-nav__link">
    generate_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.token" class="md-nav__link">
    token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints" class="md-nav__link">
    code_repositories_endpoints
  </a>
  
    <nav class="md-nav" aria-label="code_repositories_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints" class="md-nav__link">
    devices_endpoints
  </a>
  
    <nav class="md-nav" aria-label="devices_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.delete_authorized_device" class="md-nav__link">
    delete_authorized_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.get_authorization_device" class="md-nav__link">
    get_authorization_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.list_authorized_devices" class="md-nav__link">
    list_authorized_devices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.update_authorized_device" class="md-nav__link">
    update_authorized_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.verify_authorized_device" class="md-nav__link">
    verify_authorized_device()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints" class="md-nav__link">
    flavors_endpoints
  </a>
  
    <nav class="md-nav" aria-label="flavors_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.sync_flavors" class="md-nav__link">
    sync_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
    <nav class="md-nav" aria-label="update_flavor()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.update_flavor--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints" class="md-nav__link">
    model_versions_endpoints
  </a>
  
    <nav class="md-nav" aria-label="model_versions_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version" class="md-nav__link">
    delete_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version_artifact_link" class="md-nav__link">
    delete_model_version_artifact_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version_pipeline_run_link" class="md-nav__link">
    delete_model_version_pipeline_run_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.get_model_version" class="md-nav__link">
    get_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_version_artifact_links" class="md-nav__link">
    list_model_version_artifact_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_version_pipeline_run_links" class="md-nav__link">
    list_model_version_pipeline_run_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_versions" class="md-nav__link">
    list_model_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.update_model_version" class="md-nav__link">
    update_model_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints" class="md-nav__link">
    models_endpoints
  </a>
  
    <nav class="md-nav" aria-label="models_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.delete_model" class="md-nav__link">
    delete_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.get_model" class="md-nav__link">
    get_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.list_model_versions" class="md-nav__link">
    list_model_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.list_models" class="md-nav__link">
    list_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.update_model" class="md-nav__link">
    update_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints" class="md-nav__link">
    pipeline_builds_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipeline_builds_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints" class="md-nav__link">
    pipeline_deployments_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipeline_deployments_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints" class="md-nav__link">
    pipelines_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipelines_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.get_pipeline_spec" class="md-nav__link">
    get_pipeline_spec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.list_pipeline_runs" class="md-nav__link">
    list_pipeline_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints" class="md-nav__link">
    run_metadata_endpoints
  </a>
  
    <nav class="md-nav" aria-label="run_metadata_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints.get_run_metadata" class="md-nav__link">
    get_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints" class="md-nav__link">
    runs_endpoints
  </a>
  
    <nav class="md-nav" aria-label="runs_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_pipeline_configuration" class="md-nav__link">
    get_pipeline_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_dag" class="md-nav__link">
    get_run_dag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_status" class="md-nav__link">
    get_run_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_steps" class="md-nav__link">
    get_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints" class="md-nav__link">
    schedule_endpoints
  </a>
  
    <nav class="md-nav" aria-label="schedule_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints" class="md-nav__link">
    secrets_endpoints
  </a>
  
    <nav class="md-nav" aria-label="secrets_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints" class="md-nav__link">
    server_endpoints
  </a>
  
    <nav class="md-nav" aria-label="server_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints.server_info" class="md-nav__link">
    server_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints" class="md-nav__link">
    service_accounts_endpoints
  </a>
  
    <nav class="md-nav" aria-label="service_accounts_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.create_api_key" class="md-nav__link">
    create_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.create_service_account" class="md-nav__link">
    create_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.delete_api_key" class="md-nav__link">
    delete_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.delete_service_account" class="md-nav__link">
    delete_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.get_api_key" class="md-nav__link">
    get_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.get_service_account" class="md-nav__link">
    get_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.list_api_keys" class="md-nav__link">
    list_api_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.list_service_accounts" class="md-nav__link">
    list_service_accounts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.rotate_api_key" class="md-nav__link">
    rotate_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.update_api_key" class="md-nav__link">
    update_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.update_service_account" class="md-nav__link">
    update_service_account()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints" class="md-nav__link">
    service_connectors_endpoints
  </a>
  
    <nav class="md-nav" aria-label="service_connectors_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector" class="md-nav__link">
    validate_and_verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector_config" class="md-nav__link">
    validate_and_verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints" class="md-nav__link">
    stack_components_endpoints
  </a>
  
    <nav class="md-nav" aria-label="stack_components_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.deregister_stack_component" class="md-nav__link">
    deregister_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.get_stack_component_types" class="md-nav__link">
    get_stack_component_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints" class="md-nav__link">
    stacks_endpoints
  </a>
  
    <nav class="md-nav" aria-label="stacks_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints" class="md-nav__link">
    steps_endpoints
  </a>
  
    <nav class="md-nav" aria-label="steps_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_configuration" class="md-nav__link">
    get_step_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_logs" class="md-nav__link">
    get_step_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_status" class="md-nav__link">
    get_step_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.update_step" class="md-nav__link">
    update_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints" class="md-nav__link">
    tags_endpoints
  </a>
  
    <nav class="md-nav" aria-label="tags_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.create_tag" class="md-nav__link">
    create_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.delete_tag" class="md-nav__link">
    delete_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.get_tag" class="md-nav__link">
    get_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.list_tags" class="md-nav__link">
    list_tags()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.update_tag" class="md-nav__link">
    update_tag()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints" class="md-nav__link">
    users_endpoints
  </a>
  
    <nav class="md-nav" aria-label="users_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.activate_user" class="md-nav__link">
    activate_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.create_user" class="md-nav__link">
    create_user()
  </a>
  
    <nav class="md-nav" aria-label="create_user()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.create_user--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.deactivate_user" class="md-nav__link">
    deactivate_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.email_opt_in_response" class="md-nav__link">
    email_opt_in_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.get_current_user" class="md-nav__link">
    get_current_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.update_myself" class="md-nav__link">
    update_myself()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints" class="md-nav__link">
    workspaces_endpoints
  </a>
  
    <nav class="md-nav" aria-label="workspaces_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model" class="md-nav__link">
    create_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version" class="md-nav__link">
    create_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version_artifact_link" class="md-nav__link">
    create_model_version_artifact_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version_pipeline_run_link" class="md-nav__link">
    create_model_version_pipeline_run_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_pipeline_run" class="md-nav__link">
    create_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
    <nav class="md-nav" aria-label="create_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_or_create_pipeline_run" class="md-nav__link">
    get_or_create_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
    <nav class="md-nav" aria-label="get_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics" class="md-nav__link">
    get_workspace_statistics()
  </a>
  
    <nav class="md-nav" aria-label="get_workspace_statistics()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds" class="md-nav__link">
    list_workspace_builds()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_builds()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories" class="md-nav__link">
    list_workspace_code_repositories()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_code_repositories()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments" class="md-nav__link">
    list_workspace_deployments()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_deployments()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines" class="md-nav__link">
    list_workspace_pipelines()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_pipelines()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors" class="md-nav__link">
    list_workspace_service_connectors()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_service_connectors()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components" class="md-nav__link">
    list_workspace_stack_components()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_stack_components()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks" class="md-nav__link">
    list_workspace_stacks()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_stacks()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
    <nav class="md-nav" aria-label="update_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.update_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_active_deployment" class="md-nav__link">
    get_active_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_active_server_details" class="md-nav__link">
    get_active_server_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_ip_location" class="md-nav__link">
    get_ip_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.handle_exceptions" class="md-nav__link">
    handle_exceptions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.initialize_rbac" class="md-nav__link">
    initialize_rbac()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.initialize_zen_store" class="md-nav__link">
    initialize_zen_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.make_dependable" class="md-nav__link">
    make_dependable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.rbac" class="md-nav__link">
    rbac()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.server_config" class="md-nav__link">
    server_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.zen_store" class="md-nav__link">
    zen_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api" class="md-nav__link">
    zen_server_api
  </a>
  
    <nav class="md-nav" aria-label="zen_server_api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.catch_all" class="md-nav__link">
    catch_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.dashboard" class="md-nav__link">
    dashboard()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.get_root_static_files" class="md-nav__link">
    get_root_static_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.health" class="md-nav__link">
    health()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.infer_source_context" class="md-nav__link">
    infer_source_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.initialize" class="md-nav__link">
    initialize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.invalid_api" class="md-nav__link">
    invalid_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.relative_path" class="md-nav__link">
    relative_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.validation_exception_handler" class="md-nav__link">
    validation_exception_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.zen_server" class="md-nav__link">
    zen_server
  </a>
  
    <nav class="md-nav" aria-label="zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth" class="md-nav__link">
    auth
  </a>
  
    <nav class="md-nav" aria-label="auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.AuthContext" class="md-nav__link">
    AuthContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.CookieOAuth2TokenBearer" class="md-nav__link">
    CookieOAuth2TokenBearer
  </a>
  
    <nav class="md-nav" aria-label="CookieOAuth2TokenBearer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.CookieOAuth2TokenBearer.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_api_key" class="md-nav__link">
    authenticate_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_credentials" class="md-nav__link">
    authenticate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_device" class="md-nav__link">
    authenticate_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authenticate_external_user" class="md-nav__link">
    authenticate_external_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authentication_provider" class="md-nav__link">
    authentication_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.authorize" class="md-nav__link">
    authorize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.get_auth_context" class="md-nav__link">
    get_auth_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.http_authentication" class="md-nav__link">
    http_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.no_authentication" class="md-nav__link">
    no_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.oauth2_authentication" class="md-nav__link">
    oauth2_authentication()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.auth.set_auth_context" class="md-nav__link">
    set_auth_context()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy" class="md-nav__link">
    deploy
  </a>
  
    <nav class="md-nav" aria-label="deploy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider" class="md-nav__link">
    base_provider
  </a>
  
    <nav class="md-nav" aria-label="base_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider" class="md-nav__link">
    BaseServerProvider
  </a>
  
    <nav class="md-nav" aria-label="BaseServerProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.deploy_server" class="md-nav__link">
    deploy_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server" class="md-nav__link">
    get_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server_logs" class="md-nav__link">
    get_server_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.list_servers" class="md-nav__link">
    list_servers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.register_as_provider" class="md-nav__link">
    register_as_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.remove_server" class="md-nav__link">
    remove_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.base_provider.BaseServerProvider.update_server" class="md-nav__link">
    update_server()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer" class="md-nav__link">
    deployer
  </a>
  
    <nav class="md-nav" aria-label="deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer" class="md-nav__link">
    ServerDeployer
  </a>
  
    <nav class="md-nav" aria-label="ServerDeployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.connect_to_server" class="md-nav__link">
    connect_to_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.deploy_server" class="md-nav__link">
    deploy_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.disconnect_from_server" class="md-nav__link">
    disconnect_from_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_provider" class="md-nav__link">
    get_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_server" class="md-nav__link">
    get_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.get_server_logs" class="md-nav__link">
    get_server_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.is_connected_to_server" class="md-nav__link">
    is_connected_to_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.list_servers" class="md-nav__link">
    list_servers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.register_provider" class="md-nav__link">
    register_provider()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.remove_server" class="md-nav__link">
    remove_server()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployer.ServerDeployer.update_server" class="md-nav__link">
    update_server()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment" class="md-nav__link">
    deployment
  </a>
  
    <nav class="md-nav" aria-label="deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeployment" class="md-nav__link">
    ServerDeployment
  </a>
  
    <nav class="md-nav" aria-label="ServerDeployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeployment.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig" class="md-nav__link">
    ServerDeploymentConfig
  </a>
  
    <nav class="md-nav" aria-label="ServerDeploymentConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.deployment.ServerDeploymentStatus" class="md-nav__link">
    ServerDeploymentStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker" class="md-nav__link">
    docker
  </a>
  
    <nav class="md-nav" aria-label="docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_provider" class="md-nav__link">
    docker_provider
  </a>
  
    <nav class="md-nav" aria-label="docker_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_provider.DockerServerProvider" class="md-nav__link">
    DockerServerProvider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server" class="md-nav__link">
    docker_zen_server
  </a>
  
    <nav class="md-nav" aria-label="docker_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerServerDeploymentConfig" class="md-nav__link">
    DockerServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer" class="md-nav__link">
    DockerZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServerConfig" class="md-nav__link">
    DockerZenServerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentConfigurationError" class="md-nav__link">
    ServerDeploymentConfigurationError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError" class="md-nav__link">
    ServerDeploymentError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentExistsError" class="md-nav__link">
    ServerDeploymentExistsError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerDeploymentNotFoundError" class="md-nav__link">
    ServerDeploymentNotFoundError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.exceptions.ServerProviderNotFoundError" class="md-nav__link">
    ServerProviderNotFoundError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_provider" class="md-nav__link">
    local_provider
  </a>
  
    <nav class="md-nav" aria-label="local_provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_provider.LocalServerProvider" class="md-nav__link">
    LocalServerProvider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server" class="md-nav__link">
    local_zen_server
  </a>
  
    <nav class="md-nav" aria-label="local_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalServerDeploymentConfig" class="md-nav__link">
    LocalServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalZenServer" class="md-nav__link">
    LocalZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.local.local_zen_server.LocalZenServerConfig" class="md-nav__link">
    LocalZenServerConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform" class="md-nav__link">
    terraform
  </a>
  
    <nav class="md-nav" aria-label="terraform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers" class="md-nav__link">
    providers
  </a>
  
    <nav class="md-nav" aria-label="providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.aws_provider" class="md-nav__link">
    aws_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.azure_provider" class="md-nav__link">
    azure_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.gcp_provider" class="md-nav__link">
    gcp_provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.providers.terraform_provider" class="md-nav__link">
    terraform_provider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server" class="md-nav__link">
    terraform_zen_server
  </a>
  
    <nav class="md-nav" aria-label="terraform_zen_server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" class="md-nav__link">
    TerraformServerDeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer" class="md-nav__link">
    TerraformZenServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServerConfig" class="md-nav__link">
    TerraformZenServerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.deploy.terraform.terraform_zen_server.get_helm_chart_path" class="md-nav__link">
    get_helm_chart_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions" class="md-nav__link">
    exceptions
  </a>
  
    <nav class="md-nav" aria-label="exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.ErrorModel" class="md-nav__link">
    ErrorModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.error_detail" class="md-nav__link">
    error_detail()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.exception_from_response" class="md-nav__link">
    exception_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.exceptions.http_exception_from_error" class="md-nav__link">
    http_exception_from_error()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt" class="md-nav__link">
    jwt
  </a>
  
    <nav class="md-nav" aria-label="jwt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken" class="md-nav__link">
    JWTToken
  </a>
  
    <nav class="md-nav" aria-label="JWTToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken.decode_token" class="md-nav__link">
    decode_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.jwt.JWTToken.encode" class="md-nav__link">
    encode()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac" class="md-nav__link">
    rbac
  </a>
  
    <nav class="md-nav" aria-label="rbac">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils" class="md-nav__link">
    endpoint_utils
  </a>
  
    <nav class="md-nav" aria-label="endpoint_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel]" class="md-nav__link">
    Page[AnyResponseModel]
  </a>
  
    <nav class="md-nav" aria-label="Page[AnyResponseModel]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_create_entity" class="md-nav__link">
    verify_permissions_and_create_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_delete_entity" class="md-nav__link">
    verify_permissions_and_delete_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_get_entity" class="md-nav__link">
    verify_permissions_and_get_entity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_list_entities" class="md-nav__link">
    verify_permissions_and_list_entities()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_update_entity" class="md-nav__link">
    verify_permissions_and_update_entity()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models" class="md-nav__link">
    models
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Action" class="md-nav__link">
    Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource" class="md-nav__link">
    Resource
  </a>
  
    <nav class="md-nav" aria-label="Resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.Resource.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.models.ResourceType" class="md-nav__link">
    ResourceType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface" class="md-nav__link">
    rbac_interface
  </a>
  
    <nav class="md-nav" aria-label="rbac_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface" class="md-nav__link">
    RBACInterface
  </a>
  
    <nav class="md-nav" aria-label="RBACInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface.check_permissions" class="md-nav__link">
    check_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.rbac_interface.RBACInterface.list_allowed_resource_ids" class="md-nav__link">
    list_allowed_resource_ids()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any]" class="md-nav__link">
    BaseResponse[Any, Any]
  </a>
  
    <nav class="md-nav" aria-label="BaseResponse[Any, Any]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.BaseResponse[Any, Any].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel]" class="md-nav__link">
    Page[AnyResponseModel]
  </a>
  
    <nav class="md-nav" aria-label="Page[AnyResponseModel]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel].Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.Page[AnyResponseModel].__json_encoder__" class="md-nav__link">
    __json_encoder__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.batch_verify_permissions" class="md-nav__link">
    batch_verify_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.batch_verify_permissions_for_models" class="md-nav__link">
    batch_verify_permissions_for_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.dehydrate_page" class="md-nav__link">
    dehydrate_page()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.dehydrate_response_model" class="md-nav__link">
    dehydrate_response_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_allowed_resource_ids" class="md-nav__link">
    get_allowed_resource_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model" class="md-nav__link">
    get_permission_denied_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model_v1" class="md-nav__link">
    get_permission_denied_model_v1()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_permission_denied_model_v2" class="md-nav__link">
    get_permission_denied_model_v2()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_resource_for_model" class="md-nav__link">
    get_resource_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_resource_type_for_model" class="md-nav__link">
    get_resource_type_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_subresources_for_model" class="md-nav__link">
    get_subresources_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.get_surrogate_permission_model_for_model" class="md-nav__link">
    get_surrogate_permission_model_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.has_permissions_for_model" class="md-nav__link">
    has_permissions_for_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.is_owned_by_authenticated_user" class="md-nav__link">
    is_owned_by_authenticated_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.verify_permission" class="md-nav__link">
    verify_permission()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.utils.verify_permission_for_model" class="md-nav__link">
    verify_permission_for_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac" class="md-nav__link">
    zenml_cloud_rbac
  </a>
  
    <nav class="md-nav" aria-label="zenml_cloud_rbac">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC" class="md-nav__link">
    ZenMLCloudRBAC
  </a>
  
    <nav class="md-nav" aria-label="ZenMLCloudRBAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.session" class="md-nav__link">
    session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.check_permissions" class="md-nav__link">
    check_permissions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.list_allowed_resource_ids" class="md-nav__link">
    list_allowed_resource_ids()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration" class="md-nav__link">
    ZenMLCloudRBACConfiguration
  </a>
  
    <nav class="md-nav" aria-label="ZenMLCloudRBACConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.from_environment" class="md-nav__link">
    from_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers" class="md-nav__link">
    routers
  </a>
  
    <nav class="md-nav" aria-label="routers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint" class="md-nav__link">
    artifact_endpoint
  </a>
  
    <nav class="md-nav" aria-label="artifact_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_endpoint.update_artifact" class="md-nav__link">
    update_artifact()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints" class="md-nav__link">
    artifact_version_endpoints
  </a>
  
    <nav class="md-nav" aria-label="artifact_version_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.create_artifact_version" class="md-nav__link">
    create_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.delete_artifact_version" class="md-nav__link">
    delete_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.get_artifact_version" class="md-nav__link">
    get_artifact_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.get_artifact_visualization" class="md-nav__link">
    get_artifact_visualization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.list_artifact_versions" class="md-nav__link">
    list_artifact_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.artifact_version_endpoints.update_artifact_version" class="md-nav__link">
    update_artifact_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints" class="md-nav__link">
    auth_endpoints
  </a>
  
    <nav class="md-nav" aria-label="auth_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm" class="md-nav__link">
    OAuthLoginRequestForm
  </a>
  
    <nav class="md-nav" aria-label="OAuthLoginRequestForm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.api_token" class="md-nav__link">
    api_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.device_authorization" class="md-nav__link">
    device_authorization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.generate_access_token" class="md-nav__link">
    generate_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.auth_endpoints.token" class="md-nav__link">
    token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints" class="md-nav__link">
    code_repositories_endpoints
  </a>
  
    <nav class="md-nav" aria-label="code_repositories_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.code_repositories_endpoints.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints" class="md-nav__link">
    devices_endpoints
  </a>
  
    <nav class="md-nav" aria-label="devices_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.delete_authorized_device" class="md-nav__link">
    delete_authorized_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.get_authorization_device" class="md-nav__link">
    get_authorization_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.list_authorized_devices" class="md-nav__link">
    list_authorized_devices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.update_authorized_device" class="md-nav__link">
    update_authorized_device()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.devices_endpoints.verify_authorized_device" class="md-nav__link">
    verify_authorized_device()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints" class="md-nav__link">
    flavors_endpoints
  </a>
  
    <nav class="md-nav" aria-label="flavors_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.sync_flavors" class="md-nav__link">
    sync_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
    <nav class="md-nav" aria-label="update_flavor()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.flavors_endpoints.update_flavor--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints" class="md-nav__link">
    model_versions_endpoints
  </a>
  
    <nav class="md-nav" aria-label="model_versions_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version" class="md-nav__link">
    delete_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version_artifact_link" class="md-nav__link">
    delete_model_version_artifact_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.delete_model_version_pipeline_run_link" class="md-nav__link">
    delete_model_version_pipeline_run_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.get_model_version" class="md-nav__link">
    get_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_version_artifact_links" class="md-nav__link">
    list_model_version_artifact_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_version_pipeline_run_links" class="md-nav__link">
    list_model_version_pipeline_run_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.list_model_versions" class="md-nav__link">
    list_model_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.model_versions_endpoints.update_model_version" class="md-nav__link">
    update_model_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints" class="md-nav__link">
    models_endpoints
  </a>
  
    <nav class="md-nav" aria-label="models_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.delete_model" class="md-nav__link">
    delete_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.get_model" class="md-nav__link">
    get_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.list_model_versions" class="md-nav__link">
    list_model_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.list_models" class="md-nav__link">
    list_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.models_endpoints.update_model" class="md-nav__link">
    update_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints" class="md-nav__link">
    pipeline_builds_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipeline_builds_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_builds_endpoints.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints" class="md-nav__link">
    pipeline_deployments_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipeline_deployments_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipeline_deployments_endpoints.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints" class="md-nav__link">
    pipelines_endpoints
  </a>
  
    <nav class="md-nav" aria-label="pipelines_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.get_pipeline_spec" class="md-nav__link">
    get_pipeline_spec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.list_pipeline_runs" class="md-nav__link">
    list_pipeline_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.pipelines_endpoints.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints" class="md-nav__link">
    run_metadata_endpoints
  </a>
  
    <nav class="md-nav" aria-label="run_metadata_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints.get_run_metadata" class="md-nav__link">
    get_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.run_metadata_endpoints.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints" class="md-nav__link">
    runs_endpoints
  </a>
  
    <nav class="md-nav" aria-label="runs_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_pipeline_configuration" class="md-nav__link">
    get_pipeline_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_dag" class="md-nav__link">
    get_run_dag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_status" class="md-nav__link">
    get_run_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.get_run_steps" class="md-nav__link">
    get_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.runs_endpoints.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints" class="md-nav__link">
    schedule_endpoints
  </a>
  
    <nav class="md-nav" aria-label="schedule_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.schedule_endpoints.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints" class="md-nav__link">
    secrets_endpoints
  </a>
  
    <nav class="md-nav" aria-label="secrets_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.secrets_endpoints.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints" class="md-nav__link">
    server_endpoints
  </a>
  
    <nav class="md-nav" aria-label="server_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints.server_info" class="md-nav__link">
    server_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.server_endpoints.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints" class="md-nav__link">
    service_accounts_endpoints
  </a>
  
    <nav class="md-nav" aria-label="service_accounts_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.create_api_key" class="md-nav__link">
    create_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.create_service_account" class="md-nav__link">
    create_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.delete_api_key" class="md-nav__link">
    delete_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.delete_service_account" class="md-nav__link">
    delete_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.get_api_key" class="md-nav__link">
    get_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.get_service_account" class="md-nav__link">
    get_service_account()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.list_api_keys" class="md-nav__link">
    list_api_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.list_service_accounts" class="md-nav__link">
    list_service_accounts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.rotate_api_key" class="md-nav__link">
    rotate_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.update_api_key" class="md-nav__link">
    update_api_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_accounts_endpoints.update_service_account" class="md-nav__link">
    update_service_account()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints" class="md-nav__link">
    service_connectors_endpoints
  </a>
  
    <nav class="md-nav" aria-label="service_connectors_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector" class="md-nav__link">
    validate_and_verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector_config" class="md-nav__link">
    validate_and_verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints" class="md-nav__link">
    stack_components_endpoints
  </a>
  
    <nav class="md-nav" aria-label="stack_components_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.deregister_stack_component" class="md-nav__link">
    deregister_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.get_stack_component_types" class="md-nav__link">
    get_stack_component_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stack_components_endpoints.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints" class="md-nav__link">
    stacks_endpoints
  </a>
  
    <nav class="md-nav" aria-label="stacks_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.stacks_endpoints.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints" class="md-nav__link">
    steps_endpoints
  </a>
  
    <nav class="md-nav" aria-label="steps_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step" class="md-nav__link">
    get_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_configuration" class="md-nav__link">
    get_step_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_logs" class="md-nav__link">
    get_step_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.get_step_status" class="md-nav__link">
    get_step_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.steps_endpoints.update_step" class="md-nav__link">
    update_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints" class="md-nav__link">
    tags_endpoints
  </a>
  
    <nav class="md-nav" aria-label="tags_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.create_tag" class="md-nav__link">
    create_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.delete_tag" class="md-nav__link">
    delete_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.get_tag" class="md-nav__link">
    get_tag()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.list_tags" class="md-nav__link">
    list_tags()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.tags_endpoints.update_tag" class="md-nav__link">
    update_tag()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints" class="md-nav__link">
    users_endpoints
  </a>
  
    <nav class="md-nav" aria-label="users_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.activate_user" class="md-nav__link">
    activate_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.create_user" class="md-nav__link">
    create_user()
  </a>
  
    <nav class="md-nav" aria-label="create_user()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.create_user--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.deactivate_user" class="md-nav__link">
    deactivate_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.email_opt_in_response" class="md-nav__link">
    email_opt_in_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.get_current_user" class="md-nav__link">
    get_current_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.update_myself" class="md-nav__link">
    update_myself()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.users_endpoints.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints" class="md-nav__link">
    workspaces_endpoints
  </a>
  
    <nav class="md-nav" aria-label="workspaces_endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model" class="md-nav__link">
    create_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version" class="md-nav__link">
    create_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version_artifact_link" class="md-nav__link">
    create_model_version_artifact_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_model_version_pipeline_run_link" class="md-nav__link">
    create_model_version_pipeline_run_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_pipeline_run" class="md-nav__link">
    create_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
    <nav class="md-nav" aria-label="create_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.create_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_or_create_pipeline_run" class="md-nav__link">
    get_or_create_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
    <nav class="md-nav" aria-label="get_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics" class="md-nav__link">
    get_workspace_statistics()
  </a>
  
    <nav class="md-nav" aria-label="get_workspace_statistics()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds" class="md-nav__link">
    list_workspace_builds()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_builds()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories" class="md-nav__link">
    list_workspace_code_repositories()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_code_repositories()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments" class="md-nav__link">
    list_workspace_deployments()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_deployments()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines" class="md-nav__link">
    list_workspace_pipelines()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_pipelines()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors" class="md-nav__link">
    list_workspace_service_connectors()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_service_connectors()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components" class="md-nav__link">
    list_workspace_stack_components()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_stack_components()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks" class="md-nav__link">
    list_workspace_stacks()
  </a>
  
    <nav class="md-nav" aria-label="list_workspace_stacks()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
    <nav class="md-nav" aria-label="update_workspace()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.routers.workspaces_endpoints.update_workspace--noqa-dar401" class="md-nav__link">
    noqa: DAR401
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_active_deployment" class="md-nav__link">
    get_active_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_active_server_details" class="md-nav__link">
    get_active_server_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.get_ip_location" class="md-nav__link">
    get_ip_location()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.handle_exceptions" class="md-nav__link">
    handle_exceptions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.initialize_rbac" class="md-nav__link">
    initialize_rbac()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.initialize_zen_store" class="md-nav__link">
    initialize_zen_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.make_dependable" class="md-nav__link">
    make_dependable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.rbac" class="md-nav__link">
    rbac()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.server_config" class="md-nav__link">
    server_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.utils.zen_store" class="md-nav__link">
    zen_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api" class="md-nav__link">
    zen_server_api
  </a>
  
    <nav class="md-nav" aria-label="zen_server_api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.catch_all" class="md-nav__link">
    catch_all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.dashboard" class="md-nav__link">
    dashboard()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.get_root_static_files" class="md-nav__link">
    get_root_static_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.health" class="md-nav__link">
    health()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.infer_source_context" class="md-nav__link">
    infer_source_context()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.initialize" class="md-nav__link">
    initialize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.invalid_api" class="md-nav__link">
    invalid_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.relative_path" class="md-nav__link">
    relative_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_server.zen_server_api.validation_exception_handler" class="md-nav__link">
    validation_exception_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-zen_server.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="zen-server">Zen Server</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.zen_server" class="doc doc-heading">
        <code>zenml.zen_server</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>ZenML Server Implementation.</p>
<p>The ZenML Server is a centralized service meant for use in a collaborative
setting in which stacks, stack components, flavors, pipeline and pipeline runs
can be shared over the network with other users.</p>
<p>You can use the <code>zenml server up</code> command to spin up ZenML server instances
that are either running locally as daemon processes or docker containers, or
to deploy a ZenML server remotely on a managed cloud platform. The other CLI
commands in the same <code>zenml server</code> group can be used to manage the server
instances deployed from your local machine.</p>
<p>To connect the local ZenML client to one of the managed ZenML servers, call
<code>zenml server connect</code> with the name of the server you want to connect to.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.auth" class="doc doc-heading">
        <code>auth</code>



</h3>

    <div class="doc doc-contents ">

      <p>Authentication module for ZenML server.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_server.auth.AuthContext" class="doc doc-heading">
        <code>
AuthContext            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>The authentication context.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthContext</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The authentication context.&quot;&quot;&quot;</span>

    <span class="n">user</span><span class="p">:</span> <span class="n">UserResponse</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">JWTToken</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">encoded_access_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OAuthDeviceInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">api_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">APIKeyInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_server.auth.CookieOAuth2TokenBearer" class="doc doc-heading">
        <code>
CookieOAuth2TokenBearer            (<span title="fastapi.security.oauth2.OAuth2PasswordBearer">OAuth2PasswordBearer</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>OAuth2 token bearer authentication scheme that uses a cookie.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CookieOAuth2TokenBearer</span><span class="p">(</span><span class="n">OAuth2PasswordBearer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;OAuth2 token bearer authentication scheme that uses a cookie.&quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract the bearer token from the request.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The bearer token extracted from the request cookie or header.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># First, try to get the token from the cookie</span>
        <span class="n">authorization</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">cookies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">get_auth_cookie_name</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">authorization</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got token from cookie&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">authorization</span>

        <span class="c1"># If the token is not present in the cookie, try to get it from the</span>
        <span class="c1"># Authorization header</span>
        <span class="k">return</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_server.auth.CookieOAuth2TokenBearer.__call__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Extract the bearer token from the request.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>The request.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The bearer token extracted from the request cookie or header.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract the bearer token from the request.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The bearer token extracted from the request cookie or header.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First, try to get the token from the cookie</span>
    <span class="n">authorization</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">cookies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">get_auth_cookie_name</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">authorization</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Got token from cookie&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">authorization</span>

    <span class="c1"># If the token is not present in the cookie, try to get it from the</span>
    <span class="c1"># Authorization header</span>
    <span class="k">return</span> <span class="k">await</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authenticate_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authenticate_api_key</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Implement service account API key authentication.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>api_key</code></td>
        <td><code>str</code></td>
        <td><p>The service account API key.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the authenticated service account.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the service account could not be authorized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">authenticate_api_key</span><span class="p">(</span>
    <span class="n">api_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement service account API key authentication.</span>

<span class="sd">    Args:</span>
<span class="sd">        api_key: The service account API key.</span>


<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the authenticated service account.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the service account could not be authorized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">decoded_api_key</span> <span class="o">=</span> <span class="n">APIKey</span><span class="o">.</span><span class="n">decode_api_key</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Authentication error: error decoding API key&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="n">internal_api_key</span> <span class="o">=</span> <span class="n">_fetch_and_verify_api_key</span><span class="p">(</span>
        <span class="n">api_key_id</span><span class="o">=</span><span class="n">decoded_api_key</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">key_to_verify</span><span class="o">=</span><span class="n">decoded_api_key</span><span class="o">.</span><span class="n">key</span>
    <span class="p">)</span>

    <span class="c1"># For now, a lot of code still relies on the active user in the auth</span>
    <span class="c1"># context being a UserResponse object, which is a superset of the</span>
    <span class="c1"># ServiceAccountResponse object. So we need to convert the service</span>
    <span class="c1"># account to a user here.</span>
    <span class="n">user_model</span> <span class="o">=</span> <span class="n">internal_api_key</span><span class="o">.</span><span class="n">service_account</span><span class="o">.</span><span class="n">to_user_model</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">AuthContext</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user_model</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="n">internal_api_key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authenticate_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authenticate_credentials</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">access_token</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">activation_token</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Verify if user authentication credentials are valid.</p>
<p>This function can be used to validate all supplied user credentials to
cover a range of possibilities:</p>
<ul>
<li>username only - only when the no-auth scheme is used</li>
<li>username+password - for basic HTTP authentication or the OAuth2 password
   grant</li>
<li>access token (with embedded user id) - after successful authentication
   using one of the supported grants</li>
<li>username+activation token - for user activation</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The username or user ID.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The password.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>access_token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The access token.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>activation_token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The activation token.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authenticated account details.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the credentials are invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">authenticate_credentials</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">activation_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify if user authentication credentials are valid.</span>

<span class="sd">    This function can be used to validate all supplied user credentials to</span>
<span class="sd">    cover a range of possibilities:</span>

<span class="sd">     * username only - only when the no-auth scheme is used</span>
<span class="sd">     * username+password - for basic HTTP authentication or the OAuth2 password</span>
<span class="sd">       grant</span>
<span class="sd">     * access token (with embedded user id) - after successful authentication</span>
<span class="sd">       using one of the supported grants</span>
<span class="sd">     * username+activation token - for user activation</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The username or user ID.</span>
<span class="sd">        password: The password.</span>
<span class="sd">        access_token: The access token.</span>
<span class="sd">        activation_token: The activation token.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authenticated account details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the credentials are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UserAuthModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AuthContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">user_name_or_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># NOTE: this method will not return a user if the user name or ID</span>
            <span class="c1"># identifies a service account instead of a regular user. This</span>
            <span class="c1"># is intentional because service accounts are not allowed to</span>
            <span class="c1"># be used to authenticate to the API using a username and password,</span>
            <span class="c1"># or an activation token.</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_auth_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>
            <span class="n">user_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="n">auth_context</span> <span class="o">=</span> <span class="n">AuthContext</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user_model</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="c1"># even when the user does not exist, we still want to execute the</span>
            <span class="c1"># password/token verification to protect against response discrepancy</span>
            <span class="c1"># attacks (https://cwe.mitre.org/data/definitions/204.html)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: error retrieving account &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">user_name_or_id</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">pass</span>

    <span class="k">if</span> <span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">UserAuthModel</span><span class="o">.</span><span class="n">verify_password</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Authentication error: invalid username or password&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">user</span><span class="o">.</span><span class="n">active</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Authentication error: user </span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not active&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">activation_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">UserAuthModel</span><span class="o">.</span><span class="n">verify_activation_token</span><span class="p">(</span><span class="n">activation_token</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: invalid activation token for user &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">user_name_or_id</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">access_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">decoded_token</span> <span class="o">=</span> <span class="n">JWTToken</span><span class="o">.</span><span class="n">decode_token</span><span class="p">(</span>
                <span class="n">token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">AuthorizationException</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Authentication error: error decoding access token&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: error retrieving token account &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">user_model</span><span class="o">.</span><span class="n">active</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: account </span><span class="si">{</span><span class="n">user_model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> is not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;active&quot;</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

        <span class="n">api_key_model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">APIKeyInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">decoded_token</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">:</span>
            <span class="c1"># The API token was generated from an API key. We still have to</span>
            <span class="c1"># verify if the API key hasn&#39;t been deactivated or deleted in the</span>
            <span class="c1"># meantime.</span>
            <span class="n">api_key_model</span> <span class="o">=</span> <span class="n">_fetch_and_verify_api_key</span><span class="p">(</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">)</span>

        <span class="n">device_model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OAuthDeviceInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span><span class="p">:</span>
            <span class="c1"># Access tokens that have been issued for a device are only valid</span>
            <span class="c1"># for that device, so we need to check if the device ID matches any</span>
            <span class="c1"># of the valid devices in the database.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">device_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_internal_authorized_device</span><span class="p">(</span>
                    <span class="n">device_id</span><span class="o">=</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Authentication error: error retrieving token device &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">device_model</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="ow">or</span> <span class="n">device_model</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">user_model</span><span class="o">.</span><span class="n">id</span>
            <span class="p">):</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Authentication error: device </span><span class="si">{</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;does not belong to user </span><span class="si">{</span><span class="n">user_model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Authentication error: device </span><span class="si">{</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is not active&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span>
                <span class="ow">and</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span>
            <span class="p">):</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Authentication error: device </span><span class="si">{</span><span class="n">decoded_token</span><span class="o">.</span><span class="n">device_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;has expired&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
                <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">update</span><span class="o">=</span><span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
                    <span class="n">update_last_login</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>

        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">AuthContext</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user_model</span><span class="p">,</span>
            <span class="n">access_token</span><span class="o">=</span><span class="n">decoded_token</span><span class="p">,</span>
            <span class="n">encoded_access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">device</span><span class="o">=</span><span class="n">device_model</span><span class="p">,</span>
            <span class="n">api_key</span><span class="o">=</span><span class="n">api_key_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># IMPORTANT: the ONLY way we allow the authentication process to</span>
        <span class="c1"># continue without any credentials (i.e. no password, activation</span>
        <span class="c1"># token or access token) is if authentication is explicitly disabled</span>
        <span class="c1"># by setting the auth_scheme to NO_AUTH.</span>
        <span class="k">if</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">auth_scheme</span> <span class="o">!=</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">NO_AUTH</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Authentication error: no credentials provided&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">auth_context</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;Authentication error: invalid credentials&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">auth_context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authenticate_device" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authenticate_device</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">device_code</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Verify if device authorization credentials are valid.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The OAuth2 client ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>device_code</code></td>
        <td><code>str</code></td>
        <td><p>The device code.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authenticated account details.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>OAuthError</code></td>
        <td><p>If the device authorization credentials are invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">authenticate_device</span><span class="p">(</span><span class="n">client_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">device_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify if device authorization credentials are valid.</span>

<span class="sd">    Args:</span>
<span class="sd">        client_id: The OAuth2 client ID.</span>
<span class="sd">        device_code: The device code.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authenticated account details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        OAuthError: If the device authorization credentials are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># This is the part of the OAuth2 device code grant flow where a client</span>
    <span class="c1"># device is continuously polling the server to check if the user has</span>
    <span class="c1"># authorized a device. The following needs to happen to successfully</span>
    <span class="c1"># authenticate the device and return a valid access token:</span>
    <span class="c1">#</span>
    <span class="c1"># 1. the device code and client ID must match a device in the DB</span>
    <span class="c1"># 2. the device must be in the VERIFIED state, meaning that the user</span>
    <span class="c1"># has successfully authorized the device via the user code but the</span>
    <span class="c1"># device client hasn&#39;t yet fetched the associated API access token yet.</span>
    <span class="c1"># 3. the device must not be expired</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_internal_authorized_device</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Authentication error: error retrieving device with client ID &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">OAuthError</span><span class="p">(</span>
            <span class="n">error</span><span class="o">=</span><span class="s2">&quot;invalid_client&quot;</span><span class="p">,</span>
            <span class="n">error_description</span><span class="o">=</span><span class="n">error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">VERIFIED</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Authentication error: device with client ID </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2"> is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">device_model</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">:</span>
            <span class="n">oauth_error</span> <span class="o">=</span> <span class="s2">&quot;authorization_pending&quot;</span>
        <span class="k">elif</span> <span class="n">device_model</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">:</span>
            <span class="n">oauth_error</span> <span class="o">=</span> <span class="s2">&quot;access_denied&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">oauth_error</span> <span class="o">=</span> <span class="s2">&quot;expired_token&quot;</span>
        <span class="k">raise</span> <span class="n">OAuthError</span><span class="p">(</span>
            <span class="n">error</span><span class="o">=</span><span class="n">oauth_error</span><span class="p">,</span>
            <span class="n">error_description</span><span class="o">=</span><span class="n">error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span> <span class="ow">and</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Authentication error: device for client ID </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2"> has &quot;</span>
            <span class="s2">&quot;expired&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">OAuthError</span><span class="p">(</span>
            <span class="n">error</span><span class="o">=</span><span class="s2">&quot;expired_token&quot;</span><span class="p">,</span>
            <span class="n">error_description</span><span class="o">=</span><span class="n">error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Check the device code</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">device_model</span><span class="o">.</span><span class="n">verify_device_code</span><span class="p">(</span><span class="n">device_code</span><span class="p">):</span>
        <span class="c1"># If the device code is invalid, increment the failed auth attempts</span>
        <span class="c1"># counter and lock the device if the maximum number of failed auth</span>
        <span class="c1"># attempts has been reached.</span>
        <span class="n">failed_auth_attempts</span> <span class="o">=</span> <span class="n">device_model</span><span class="o">.</span><span class="n">failed_auth_attempts</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
            <span class="n">failed_auth_attempts</span><span class="o">=</span><span class="n">failed_auth_attempts</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">failed_auth_attempts</span> <span class="o">&gt;=</span> <span class="n">config</span><span class="o">.</span><span class="n">max_failed_device_auth_attempts</span><span class="p">:</span>
            <span class="n">update</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">store</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
            <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">failed_auth_attempts</span> <span class="o">&gt;=</span> <span class="n">config</span><span class="o">.</span><span class="n">max_failed_device_auth_attempts</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: device for client ID </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;has been locked due to too many failed authentication &quot;</span>
                <span class="s2">&quot;attempts.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authentication error: device for client ID </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;has an invalid device code.&quot;</span>
            <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">OAuthError</span><span class="p">(</span>
            <span class="n">error</span><span class="o">=</span><span class="s2">&quot;access_denied&quot;</span><span class="p">,</span>
            <span class="n">error_description</span><span class="o">=</span><span class="n">error</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># The device is valid, so we can return the user associated with it.</span>
    <span class="c1"># This is the one and only time we return an AuthContext authorized by</span>
    <span class="c1"># a device code in order to be exchanged for an access token. Subsequent</span>
    <span class="c1"># requests to the API will be authenticated using the access token.</span>
    <span class="c1">#</span>
    <span class="c1"># Update the device state to ACTIVE and set an expiration date for it</span>
    <span class="c1"># past which it can no longer be used for authentication. The expiration</span>
    <span class="c1"># date also determines the expiration date of the access token issued</span>
    <span class="c1"># for this device.</span>
    <span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">trusted_device</span><span class="p">:</span>
            <span class="n">expires_in</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">trusted_device_expiration_minutes</span> <span class="ow">or</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">expires_in</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">device_expiration_minutes</span> <span class="ow">or</span> <span class="mi">0</span>

    <span class="n">update</span> <span class="o">=</span> <span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
        <span class="n">status</span><span class="o">=</span><span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span> <span class="o">*</span> <span class="mi">60</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">device_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># This can never happen because the VERIFIED state is only set if</span>
    <span class="c1"># a user verified and has been associated with the device.</span>
    <span class="k">assert</span> <span class="n">device_model</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">AuthContext</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device_model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authenticate_external_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authenticate_external_user</span><span class="p">(</span><span class="n">external_access_token</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Implement external authentication.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>external_access_token</code></td>
        <td><code>str</code></td>
        <td><p>The access token used to authenticate the user
to the external authenticator.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the authenticated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the external user could not be authorized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">authenticate_external_user</span><span class="p">(</span><span class="n">external_access_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implement external authentication.</span>

<span class="sd">    Args:</span>
<span class="sd">        external_access_token: The access token used to authenticate the user</span>
<span class="sd">            to the external authenticator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the authenticated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the external user could not be authorized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>

    <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">external_user_info_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="c1"># Use the external access token to extract the user information and</span>
    <span class="c1"># permissions</span>

    <span class="c1"># Get the user information from the external authenticator</span>
    <span class="n">user_info_url</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">external_user_info_url</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">external_access_token</span><span class="p">}</span>
    <span class="n">query_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">server_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get_external_server_id</span><span class="p">()))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">auth_response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">user_info_url</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">urlencode</span><span class="p">(</span><span class="n">query_params</span><span class="p">),</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">EXTERNAL_AUTHENTICATOR_TIMEOUT</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching user information from external authenticator: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Error fetching user information from external authenticator.&quot;</span>
        <span class="p">)</span>

    <span class="n">external_user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExternalUserModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="mi">200</span> <span class="o">&lt;=</span> <span class="n">auth_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">auth_response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
                <span class="s2">&quot;Error decoding JSON response from external authenticator.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Unknown external authenticator error&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">external_user</span> <span class="o">=</span> <span class="n">ExternalUserModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error parsing user information from external &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;authenticator: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">pass</span>

    <span class="k">elif</span> <span class="n">auth_response</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">401</span><span class="p">,</span> <span class="mi">403</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="s2">&quot;Not authorized to access this server.&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">auth_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;External authenticator did not recognize this server.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching user information from external authenticator. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Status code: </span><span class="si">{</span><span class="n">auth_response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Response: </span><span class="si">{</span><span class="n">auth_response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Error fetching user information from external authenticator. &quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">external_user</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="s2">&quot;Unknown external authenticator error&quot;</span><span class="p">)</span>

    <span class="c1"># With an external user object, we can now authenticate the user against</span>
    <span class="c1"># the ZenML server</span>

    <span class="c1"># Check if the external user already exists in the ZenML server database</span>
    <span class="c1"># If not, create a new user. If yes, update the existing user.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_external_user</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="c1"># Update the user information</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user_update</span><span class="o">=</span><span class="n">UserUpdate</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                <span class="n">full_name</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">email_opted_in</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;External user with ID </span><span class="si">{</span><span class="n">external_user</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> not found in ZenML &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;server database. Creating a new user.&quot;</span>
        <span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">UserRequest</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                <span class="n">full_name</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="n">external_user_id</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">email_opted_in</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="n">AnalyticsContext</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span>
            <span class="n">context</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span>
                <span class="n">traits</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;external_auth&quot;</span><span class="p">}</span>
            <span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">previous_id</span><span class="o">=</span><span class="n">external_user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">AuthContext</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authentication_provider" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authentication_provider</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the authentication provider.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[..., zenml.zen_server.auth.AuthContext]</code></td>
      <td><p>The authentication provider.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the authentication scheme is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">authentication_provider</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">AuthContext</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the authentication provider.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication provider.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the authentication scheme is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_scheme</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">auth_scheme</span>
    <span class="k">if</span> <span class="n">auth_scheme</span> <span class="o">==</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">NO_AUTH</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">no_authentication</span>
    <span class="k">elif</span> <span class="n">auth_scheme</span> <span class="o">==</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">HTTP_BASIC</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">http_authentication</span>
    <span class="k">elif</span> <span class="n">auth_scheme</span> <span class="o">==</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">OAUTH2_PASSWORD_BEARER</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">oauth2_authentication</span>
    <span class="k">elif</span> <span class="n">auth_scheme</span> <span class="o">==</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">EXTERNAL</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">oauth2_authentication</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown authentication scheme: </span><span class="si">{</span><span class="n">auth_scheme</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.authorize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">authorize</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">CookieOAuth2TokenBearer</span><span class="p">))</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Authenticates any request to the ZenML server with OAuth2 JWT tokens.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>str</code></td>
        <td><p>The JWT bearer token to be authenticated.</p></td>
        <td><code>Depends(CookieOAuth2TokenBearer)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the authenticated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the JWT token could not be authorized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">oauth2_authentication</span><span class="p">(</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">CookieOAuth2TokenBearer</span><span class="p">(</span>
            <span class="n">tokenUrl</span><span class="o">=</span><span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">root_url_path</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">LOGIN</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates any request to the ZenML server with OAuth2 JWT tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: The JWT bearer token to be authenticated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the authenticated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the JWT token could not be authorized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_credentials</span><span class="p">(</span><span class="n">access_token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_401_UNAUTHORIZED</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;WWW-Authenticate&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">auth_context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.get_auth_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_auth_context</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the current authentication context.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[AuthContext]</code></td>
      <td><p>The authentication context.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_auth_context</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;AuthContext&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the current authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">_auth_context</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">auth_context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.http_authentication" class="doc doc-heading">
<code class="highlight language-python"><span class="n">http_authentication</span><span class="p">(</span><span class="n">credentials</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">HTTPBasic</span><span class="p">))</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Authenticates any request to the ZenML Server with basic HTTP authentication.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>credentials</code></td>
        <td><code>HTTPBasicCredentials</code></td>
        <td><p>HTTP basic auth credentials passed to the request.</p></td>
        <td><code>Depends(HTTPBasic)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the authenticated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the credentials are invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">http_authentication</span><span class="p">(</span>
    <span class="n">credentials</span><span class="p">:</span> <span class="n">HTTPBasicCredentials</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">HTTPBasic</span><span class="p">()),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates any request to the ZenML Server with basic HTTP authentication.</span>

<span class="sd">    Args:</span>
<span class="sd">        credentials: HTTP basic auth credentials passed to the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the authenticated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the credentials are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">authenticate_credentials</span><span class="p">(</span>
            <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">password</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_401_UNAUTHORIZED</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;WWW-Authenticate&quot;</span><span class="p">:</span> <span class="s2">&quot;Basic&quot;</span><span class="p">},</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.no_authentication" class="doc doc-heading">
<code class="highlight language-python"><span class="n">no_authentication</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Doesn't authenticate requests to the ZenML server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the default user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">no_authentication</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Doesn&#39;t authenticate requests to the ZenML server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the default user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">authenticate_credentials</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="o">=</span><span class="n">DEFAULT_USERNAME</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.oauth2_authentication" class="doc doc-heading">
<code class="highlight language-python"><span class="n">oauth2_authentication</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">CookieOAuth2TokenBearer</span><span class="p">))</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Authenticates any request to the ZenML server with OAuth2 JWT tokens.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>str</code></td>
        <td><p>The JWT bearer token to be authenticated.</p></td>
        <td><code>Depends(CookieOAuth2TokenBearer)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context reflecting the authenticated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the JWT token could not be authorized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">oauth2_authentication</span><span class="p">(</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">CookieOAuth2TokenBearer</span><span class="p">(</span>
            <span class="n">tokenUrl</span><span class="o">=</span><span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">root_url_path</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">LOGIN</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AuthContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticates any request to the ZenML server with OAuth2 JWT tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: The JWT bearer token to be authenticated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context reflecting the authenticated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the JWT token could not be authorized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_credentials</span><span class="p">(</span><span class="n">access_token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_401_UNAUTHORIZED</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;WWW-Authenticate&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">auth_context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.auth.set_auth_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_auth_context</span><span class="p">(</span><span class="n">auth_context</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Sets the current authentication context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AuthContext</code></td>
      <td><p>The authentication context.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/auth.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_auth_context</span><span class="p">(</span><span class="n">auth_context</span><span class="p">:</span> <span class="s2">&quot;AuthContext&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AuthContext&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the current authentication context.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The authentication context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_auth_context</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">auth_context</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">auth_context</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.deploy" class="doc doc-heading">
        <code>deploy</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>ZenML server deployments.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.base_provider" class="doc doc-heading">
        <code>base_provider</code>



</h4>

    <div class="doc doc-contents ">

      <p>Base ZenML server provider class.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.base_provider.BaseServerProvider" class="doc doc-heading">
        <code>
BaseServerProvider            (<span title="abc.ABC">ABC</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Base ZenML server provider class.</p>
<p>All ZenML server providers must extend and implement this base class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseServerProvider</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base ZenML server provider class.</span>

<span class="sd">    All ZenML server providers must extend and implement this base class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">ServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">ServerDeploymentConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">register_as_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register the class as a server provider.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_server.deploy.deployer</span> <span class="kn">import</span> <span class="n">ServerDeployer</span>

        <span class="n">ServerDeployer</span><span class="o">.</span><span class="n">register_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_convert_config</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a generic server deployment config into a provider specific config.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The generic server deployment config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The provider specific server deployment config.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentConfigurationError: If the configuration is not</span>
<span class="sd">                valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CONFIG_TYPE</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">config</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CONFIG_TYPE</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentConfigurationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid configuration for provider </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deploy_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deploy a new ZenML server.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The generic server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">                successful. If not supplied, the default timeout value specified</span>
<span class="sd">                by the provider is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created server deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentExistsError: If a deployment with the same name</span>
<span class="sd">                already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;exists&quot;</span>
            <span class="p">)</span>

        <span class="c1"># convert the generic deployment config to a provider specific</span>
        <span class="c1"># deployment config</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_service</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The new generic server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the update is</span>
<span class="sd">                successful. If not supplied, the default timeout value specified</span>
<span class="sd">                by the provider is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated server deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">                doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
            <span class="p">)</span>

        <span class="c1"># convert the generic deployment config to a provider specific</span>
        <span class="c1"># deployment config</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">old_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment_config</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">old_config</span> <span class="o">==</span> <span class="n">config</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server is already configured with &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the same parameters.&quot;</span>
            <span class="p">)</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updating the </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span><span class="p">)</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tears down and removes all resources and files associated with a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The generic server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the server is</span>
<span class="sd">                removed. If not supplied, the default timeout value specified</span>
<span class="sd">                by the provider is used.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">                doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
            <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing the </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve information about a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The generic server deployment configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">                doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all server deployments managed by this provider.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of server deployments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span> <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_services</span><span class="p">()</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_server_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the logs of a ZenML server.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The generic server deployment configuration.</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">                doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span><span class="o">.</span><span class="n">get_logs</span><span class="p">(</span><span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="n">tail</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_deployment_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentStatus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the status of a server deployment from its service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The server deployment service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The status of the server deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="c1"># all services must have an endpoint</span>
            <span class="k">assert</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">url</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span>
        <span class="n">connected</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span> <span class="o">==</span> <span class="n">url</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">ServerDeploymentStatus</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="n">status_message</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="p">,</span>
            <span class="n">connected</span><span class="o">=</span><span class="n">connected</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the server deployment associated with a service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment_config</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ServerDeployment</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment_status</span><span class="p">(</span><span class="n">service</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_service_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">server_config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
        <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">,</span>
    <span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct the service configuration from a server deployment configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_config: server deployment configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service, service endpoint and endpoint monitor configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_create_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create, start and return a service instance for a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running. If not supplied, a default timeout value specified</span>
<span class="sd">                by the provider implementation should be used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_update_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing service instance for a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            config: The new server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the updated service is</span>
<span class="sd">                running. If not supplied, a default timeout value specified</span>
<span class="sd">                by the provider implementation should be used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_start_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a service instance for a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running. If not supplied, a default timeout value specified</span>
<span class="sd">                by the provider implementation should be used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_stop_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop a service instance for a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                stopped. If not supplied, a default timeout value specified</span>
<span class="sd">                by the provider implementation should be used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_delete_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove a service instance for a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                removed. If not supplied, a default timeout value specified</span>
<span class="sd">                by the provider implementation should be used.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the service instance associated with a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the server deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_list_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all service instances for all deployed ZenML servers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of service instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_deployment_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Recreate the server deployment config from a service instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment config.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Generic server deployment configuration.</p>
<p>All server deployment configurations should inherit from this class and
handle extra attributes as provider specific attributes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the server deployment.</p></td>
      </tr>
      <tr>
        <td><code>provider</code></td>
        <td><code>ServerProviderType</code></td>
        <td><p>The server provider type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic server deployment configuration.</span>

<span class="sd">    All server deployment configurations should inherit from this class and</span>
<span class="sd">    handle extra attributes as provider specific attributes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: Name of the server deployment.</span>
<span class="sd">        provider: The server provider type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">provider</span><span class="p">:</span> <span class="n">ServerProviderType</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
        <span class="c1"># to have a mix of mutable and immutable attributes</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Allow extra attributes to be set in the base class. The concrete</span>
        <span class="c1"># classes are responsible for validating the attributes.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
    <span class="c1"># to have a mix of mutable and immutable attributes</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Allow extra attributes to be set in the base class. The concrete</span>
    <span class="c1"># classes are responsible for validating the attributes.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.deploy_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deploy a new ZenML server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The generic server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the deployment is
successful. If not supplied, the default timeout value specified
by the provider is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The newly created server deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentExistsError</code></td>
        <td><p>If a deployment with the same name
already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deploy a new ZenML server.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The generic server deployment configuration.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">            successful. If not supplied, the default timeout value specified</span>
<span class="sd">            by the provider is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created server deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentExistsError: If a deployment with the same name</span>
<span class="sd">            already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;exists&quot;</span>
        <span class="p">)</span>

    <span class="c1"># convert the generic deployment config to a provider specific</span>
    <span class="c1"># deployment config</span>
    <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_service</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve information about a ZenML server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The generic server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The server deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentNotFoundError</code></td>
        <td><p>If a deployment with the given name
doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve information about a ZenML server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The generic server deployment configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The server deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">            doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.get_server_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_server_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the logs of a ZenML server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The generic server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentNotFoundError</code></td>
        <td><p>If a deployment with the given name
doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the logs of a ZenML server.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The generic server deployment configuration.</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">            doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">service</span><span class="o">.</span><span class="n">get_logs</span><span class="p">(</span><span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="n">tail</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.list_servers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all server deployments managed by this provider.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_server.deploy.deployment.ServerDeployment]</code></td>
      <td><p>The list of server deployments.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all server deployments managed by this provider.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of server deployments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span> <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_services</span><span class="p">()</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.register_as_provider" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_as_provider</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Register the class as a server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">register_as_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register the class as a server provider.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_server.deploy.deployer</span> <span class="kn">import</span> <span class="n">ServerDeployer</span>

    <span class="n">ServerDeployer</span><span class="o">.</span><span class="n">register_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.remove_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Tears down and removes all resources and files associated with a ZenML server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The generic server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the server is
removed. If not supplied, the default timeout value specified
by the provider is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentNotFoundError</code></td>
        <td><p>If a deployment with the given name
doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tears down and removes all resources and files associated with a ZenML server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The generic server deployment configuration.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the server is</span>
<span class="sd">            removed. If not supplied, the default timeout value specified</span>
<span class="sd">            by the provider is used.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">            doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Removing the </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.base_provider.BaseServerProvider.update_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update an existing ZenML server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The new generic server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the update is
successful. If not supplied, the default timeout value specified
by the provider is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The updated server deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentNotFoundError</code></td>
        <td><p>If a deployment with the given name
doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/base_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing ZenML server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The new generic server deployment configuration.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the update is</span>
<span class="sd">            successful. If not supplied, the default timeout value specified</span>
<span class="sd">            by the provider is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated server deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentNotFoundError: If a deployment with the given name</span>
<span class="sd">            doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML server deployment with name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; was not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found&quot;</span>
        <span class="p">)</span>

    <span class="c1"># convert the generic deployment config to a provider specific</span>
    <span class="c1"># deployment config</span>
    <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="n">old_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment_config</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">old_config</span> <span class="o">==</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server is already configured with &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;the same parameters.&quot;</span>
        <span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updating the </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span><span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_service</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_deployment</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.deployer" class="doc doc-heading">
        <code>deployer</code>



</h4>

    <div class="doc doc-contents ">

      <p>ZenML server deployer singleton implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.deployer.ServerDeployer" class="doc doc-heading">
        <code>
ServerDeployer        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Server deployer singleton.</p>
<p>This class is responsible for managing the various server provider
implementations and for directing server deployment lifecycle requests to
the responsible provider. It acts as a facade built on top of the various
server providers.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeployer</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">SingletonMetaClass</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Server deployer singleton.</span>

<span class="sd">    This class is responsible for managing the various server provider</span>
<span class="sd">    implementations and for directing server deployment lifecycle requests to</span>
<span class="sd">    the responsible provider. It acts as a facade built on top of the various</span>
<span class="sd">    server providers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_providers</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">,</span> <span class="n">BaseServerProvider</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">register_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">provider</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseServerProvider</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a server provider.</span>

<span class="sd">        Args:</span>
<span class="sd">            provider: The server provider to register.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If a provider with the same type is already registered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Server provider &#39;</span><span class="si">{</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">&#39; is already registered.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registering server provider &#39;</span><span class="si">{</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">[</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">provider</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_provider</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">provider_type</span><span class="p">:</span> <span class="n">ServerProviderType</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseServerProvider</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the server provider associated with a provider type.</span>

<span class="sd">        Args:</span>
<span class="sd">            provider_type: The server provider type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server provider associated with the provider type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerProviderNotFoundError: If no provider is registered for the</span>
<span class="sd">                given provider type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">provider_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerProviderNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Server provider &#39;</span><span class="si">{</span><span class="n">provider_type</span><span class="si">}</span><span class="s2">&#39; is not registered.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">[</span><span class="n">provider_type</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">deploy_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deploy a new ZenML server or update an existing deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">                successful. If not supplied, the default timeout value specified</span>
<span class="sd">                by the provider is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We do this here to ensure that the zenml store is always initialized</span>
        <span class="c1"># before the server is deployed. This is necessary because the server</span>
        <span class="c1"># may require access to the local store configuration or database.</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="n">_</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_server</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

        <span class="n">provider_name</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
        <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Deploying a </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server with name &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">deploy_server</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The new server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">                successful. If not supplied, a default timeout value of 30</span>
<span class="sd">                seconds is used.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated server deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentExistsError: If an existing deployment with the same</span>
<span class="sd">                name but a different provider type is found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">existing_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
        <span class="n">existing_provider</span> <span class="o">=</span> <span class="n">existing_server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span>

        <span class="k">if</span> <span class="n">existing_provider</span> <span class="o">!=</span> <span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A server deployment with the same name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; but &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with a different provider &#39;</span><span class="si">{</span><span class="n">existing_provider</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;is already provisioned. Please choose a different name or &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;tear down the existing deployment.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">update_server</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Tears down and removes all resources and files associated with a ZenML server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">                successfully torn down. If not supplied, a provider specific</span>
<span class="sd">                default timeout value is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

        <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
        <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected_to_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disconnect_from_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to disconnect from the server: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Tearing down the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
        <span class="p">)</span>
        <span class="n">provider</span><span class="o">.</span><span class="n">remove_server</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected_to_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the ZenML client is currently connected to a ZenML server.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the ZenML client is connected to the ZenML server, False</span>
<span class="sd">            otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span> <span class="o">==</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">connect_to_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to a ZenML server instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>
<span class="sd">            username: The username to use to connect to the server.</span>
<span class="sd">            password: The password to use to connect to the server.</span>
<span class="sd">            verify_ssl: Either a boolean, in which case it controls whether we</span>
<span class="sd">                verify the server&#39;s TLS certificate, or a string, in which case</span>
<span class="sd">                it must be a path to a CA bundle to use or the CA bundle value</span>
<span class="sd">                itself.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentError: If the ZenML server is not running or</span>
<span class="sd">                is unreachable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
        <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ServerDeploymentError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2"> ZenML &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;server is not currently running or is unreachable.&quot;</span>
            <span class="p">)</span>

        <span class="n">store_config</span> <span class="o">=</span> <span class="n">RestZenStoreConfiguration</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
            <span class="n">verify_ssl</span><span class="o">=</span><span class="n">verify_ssl</span><span class="p">,</span>
            <span class="n">secrets_store</span><span class="o">=</span><span class="n">RestSecretsStoreConfiguration</span><span class="p">(),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="o">==</span> <span class="n">store_config</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML is already connected to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Connecting ZenML to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
        <span class="p">)</span>

        <span class="n">gc</span><span class="o">.</span><span class="n">set_store</span><span class="p">(</span><span class="n">store_config</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Connected ZenML to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">disconnect_from_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disconnect from a ZenML server instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name. If supplied, the deployer</span>
<span class="sd">                will check if the ZenML client is indeed connected to the server</span>
<span class="sd">                and disconnect only if that is the case. Otherwise the deployer</span>
<span class="sd">                will disconnect from any ZenML server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">or</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML is not currently connected to a ZenML server.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">server_name</span><span class="p">:</span>
            <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
            <span class="c1"># does not exist</span>
            <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
            <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected_to_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;ZenML is not currently connected to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Disconnecting ZenML from the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Disconnecting ZenML from the </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
            <span class="p">)</span>

        <span class="n">gc</span><span class="o">.</span><span class="n">set_default_store</span><span class="p">()</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Disconnected ZenML from the ZenML server.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a server deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested server deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ServerDeploymentNotFoundError: If no server deployment with the</span>
<span class="sd">                given name is found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">provider</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_providers</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span>
                    <span class="n">ServerDeploymentConfig</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Server deployment &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_servers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">provider_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all server deployments.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name to filter by.</span>
<span class="sd">            provider_type: The server provider type to filter by.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of server deployments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">providers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseServerProvider</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">provider_type</span><span class="p">:</span>
            <span class="n">providers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">provider_type</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">providers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_providers</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="n">servers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">provider</span> <span class="ow">in</span> <span class="n">providers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">server_name</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">provider</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span>
                            <span class="n">ServerDeploymentConfig</span><span class="p">(</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span>
                                <span class="n">provider</span><span class="o">=</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">servers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">provider</span><span class="o">.</span><span class="n">list_servers</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">servers</span>

    <span class="k">def</span> <span class="nf">get_server_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the logs of a ZenML server.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

        <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
        <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Fetching logs from the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;server...&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_server_logs</span><span class="p">(</span>
            <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="n">tail</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.connect_to_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect_to_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Connect to a ZenML server instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The server deployment name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>The username to use to connect to the server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>str</code></td>
        <td><p>The password to use to connect to the server.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>verify_ssl</code></td>
        <td><code>Union[bool, str]</code></td>
        <td><p>Either a boolean, in which case it controls whether we
verify the server's TLS certificate, or a string, in which case
it must be a path to a CA bundle to use or the CA bundle value
itself.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentError</code></td>
        <td><p>If the ZenML server is not running or
is unreachable.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect_to_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Connect to a ZenML server instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name.</span>
<span class="sd">        username: The username to use to connect to the server.</span>
<span class="sd">        password: The password to use to connect to the server.</span>
<span class="sd">        verify_ssl: Either a boolean, in which case it controls whether we</span>
<span class="sd">            verify the server&#39;s TLS certificate, or a string, in which case</span>
<span class="sd">            it must be a path to a CA bundle to use or the CA bundle value</span>
<span class="sd">            itself.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentError: If the ZenML server is not running or</span>
<span class="sd">            is unreachable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
    <span class="c1"># does not exist</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
    <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2"> ZenML &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;server is not currently running or is unreachable.&quot;</span>
        <span class="p">)</span>

    <span class="n">store_config</span> <span class="o">=</span> <span class="n">RestZenStoreConfiguration</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
        <span class="n">verify_ssl</span><span class="o">=</span><span class="n">verify_ssl</span><span class="p">,</span>
        <span class="n">secrets_store</span><span class="o">=</span><span class="n">RestSecretsStoreConfiguration</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="o">==</span> <span class="n">store_config</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;ZenML is already connected to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Connecting ZenML to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
    <span class="p">)</span>

    <span class="n">gc</span><span class="o">.</span><span class="n">set_store</span><span class="p">(</span><span class="n">store_config</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Connected ZenML to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.deploy_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deploy_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deploy a new ZenML server or update an existing deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the deployment is
successful. If not supplied, the default timeout value specified
by the provider is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The server deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deploy_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deploy a new ZenML server or update an existing deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The server deployment configuration.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">            successful. If not supplied, the default timeout value specified</span>
<span class="sd">            by the provider is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The server deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We do this here to ensure that the zenml store is always initialized</span>
    <span class="c1"># before the server is deployed. This is necessary because the server</span>
    <span class="c1"># may require access to the local store configuration or database.</span>
    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_server</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="n">provider_name</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
    <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Deploying a </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server with name &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">deploy_server</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.disconnect_from_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disconnect_from_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Disconnect from a ZenML server instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The server deployment name. If supplied, the deployer
will check if the ZenML client is indeed connected to the server
and disconnect only if that is the case. Otherwise the deployer
will disconnect from any ZenML server.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disconnect_from_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disconnect from a ZenML server instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name. If supplied, the deployer</span>
<span class="sd">            will check if the ZenML client is indeed connected to the server</span>
<span class="sd">            and disconnect only if that is the case. Otherwise the deployer</span>
<span class="sd">            will disconnect from any ZenML server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">or</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML is not currently connected to a ZenML server.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">server_name</span><span class="p">:</span>
        <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
        <span class="c1"># does not exist</span>
        <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
        <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected_to_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;ZenML is not currently connected to the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Disconnecting ZenML from the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server (</span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">).&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Disconnecting ZenML from the </span><span class="si">{</span><span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
        <span class="p">)</span>

    <span class="n">gc</span><span class="o">.</span><span class="n">set_default_store</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Disconnected ZenML from the ZenML server.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.get_provider" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_provider</span><span class="p">(</span><span class="n">provider_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the server provider associated with a provider type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>provider_type</code></td>
        <td><code>ServerProviderType</code></td>
        <td><p>The server provider type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseServerProvider</code></td>
      <td><p>The server provider associated with the provider type.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerProviderNotFoundError</code></td>
        <td><p>If no provider is registered for the
given provider type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_provider</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">provider_type</span><span class="p">:</span> <span class="n">ServerProviderType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseServerProvider</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the server provider associated with a provider type.</span>

<span class="sd">    Args:</span>
<span class="sd">        provider_type: The server provider type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The server provider associated with the provider type.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerProviderNotFoundError: If no provider is registered for the</span>
<span class="sd">            given provider type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">provider_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerProviderNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Server provider &#39;</span><span class="si">{</span><span class="n">provider_type</span><span class="si">}</span><span class="s2">&#39; is not registered.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">[</span><span class="n">provider_type</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.get_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The server deployment name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The requested server deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentNotFoundError</code></td>
        <td><p>If no server deployment with the
given name is found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested server deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentNotFoundError: If no server deployment with the</span>
<span class="sd">            given name is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">provider</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_providers</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span>
                <span class="n">ServerDeploymentConfig</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">raise</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Server deployment &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.get_server_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_server_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the logs of a ZenML server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The server deployment name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the logs of a ZenML server.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name.</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
    <span class="c1"># does not exist</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

    <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
    <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Fetching logs from the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;server...&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_server_logs</span><span class="p">(</span>
        <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="n">follow</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="n">tail</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.is_connected_to_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected_to_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check if the ZenML client is currently connected to a ZenML server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The server deployment name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the ZenML client is connected to the ZenML server, False
otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected_to_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the ZenML client is currently connected to a ZenML server.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the ZenML client is connected to the ZenML server, False</span>
<span class="sd">        otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
    <span class="c1"># does not exist</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span> <span class="o">==</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.list_servers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">provider_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all server deployments.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The server deployment name to filter by.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>provider_type</code></td>
        <td><code>Optional[zenml.enums.ServerProviderType]</code></td>
        <td><p>The server provider type to filter by.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.zen_server.deploy.deployment.ServerDeployment]</code></td>
      <td><p>The list of server deployments.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_servers</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">provider_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all server deployments.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name to filter by.</span>
<span class="sd">        provider_type: The server provider type to filter by.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of server deployments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">providers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseServerProvider</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">provider_type</span><span class="p">:</span>
        <span class="n">providers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">provider_type</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">providers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_providers</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="n">servers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServerDeployment</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">provider</span> <span class="ow">in</span> <span class="n">providers</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">server_name</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">provider</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span>
                        <span class="n">ServerDeploymentConfig</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">server_name</span><span class="p">,</span>
                            <span class="n">provider</span><span class="o">=</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">servers</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">provider</span><span class="o">.</span><span class="n">list_servers</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">servers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.register_provider" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_provider</span><span class="p">(</span><span class="n">provider</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Register a server provider.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>provider</code></td>
        <td><code>Type[zenml.zen_server.deploy.base_provider.BaseServerProvider]</code></td>
        <td><p>The server provider to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If a provider with the same type is already registered.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">register_provider</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">provider</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseServerProvider</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a server provider.</span>

<span class="sd">    Args:</span>
<span class="sd">        provider: The server provider to register.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If a provider with the same type is already registered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Server provider &#39;</span><span class="si">{</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">&#39; is already registered.&quot;</span>
        <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registering server provider &#39;</span><span class="si">{</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_providers</span><span class="p">[</span><span class="n">provider</span><span class="o">.</span><span class="n">TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">provider</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.remove_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Tears down and removes all resources and files associated with a ZenML server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The server deployment name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the deployment is
successfully torn down. If not supplied, a provider specific
default timeout value is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tears down and removes all resources and files associated with a ZenML server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        server_name: The server deployment name.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">            successfully torn down. If not supplied, a provider specific</span>
<span class="sd">            default timeout value is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
    <span class="c1"># does not exist</span>
    <span class="n">server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>

    <span class="n">provider_name</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">value</span>
    <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected_to_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disconnect_from_server</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to disconnect from the server: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Tearing down the &#39;</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">provider_name</span><span class="si">}</span><span class="s2"> ZenML server.&quot;</span>
    <span class="p">)</span>
    <span class="n">provider</span><span class="o">.</span><span class="n">remove_server</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.deploy.deployer.ServerDeployer.update_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update an existing ZenML server deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The new server deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The timeout in seconds to wait until the deployment is
successful. If not supplied, a default timeout value of 30
seconds is used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerDeployment</code></td>
      <td><p>The updated server deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ServerDeploymentExistsError</code></td>
        <td><p>If an existing deployment with the same
name but a different provider type is found.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_server</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeployment</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing ZenML server deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The new server deployment configuration.</span>
<span class="sd">        timeout: The timeout in seconds to wait until the deployment is</span>
<span class="sd">            successful. If not supplied, a default timeout value of 30</span>
<span class="sd">            seconds is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated server deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ServerDeploymentExistsError: If an existing deployment with the same</span>
<span class="sd">            name but a different provider type is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># this will also raise ServerDeploymentNotFoundError if the server</span>
    <span class="c1"># does not exist</span>
    <span class="n">existing_server</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_server</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">provider</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_provider</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">)</span>
    <span class="n">existing_provider</span> <span class="o">=</span> <span class="n">existing_server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span>

    <span class="k">if</span> <span class="n">existing_provider</span> <span class="o">!=</span> <span class="n">config</span><span class="o">.</span><span class="n">provider</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerDeploymentExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;A server deployment with the same name &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; but &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;with a different provider &#39;</span><span class="si">{</span><span class="n">existing_provider</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;is already provisioned. Please choose a different name or &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tear down the existing deployment.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">provider</span><span class="o">.</span><span class="n">update_server</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.deployment" class="doc doc-heading">
        <code>deployment</code>



</h4>

    <div class="doc doc-contents ">

      <p>Zen Server deployment definitions.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.deployment.ServerDeployment" class="doc doc-heading">
        <code>
ServerDeployment            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Server deployment.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServerDeploymentConfig</code></td>
        <td><p>The server deployment configuration.</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>Optional[zenml.zen_server.deploy.deployment.ServerDeploymentStatus]</code></td>
        <td><p>The server deployment status.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeployment</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Server deployment.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The server deployment configuration.</span>
<span class="sd">        status: The server deployment status.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServerDeploymentStatus</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the server is running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the server is running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_server.deploy.deployment.ServerDeployment.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Check if the server is running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the server is running.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>











  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" class="doc doc-heading">
        <code>
ServerDeploymentConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Generic server deployment configuration.</p>
<p>All server deployment configurations should inherit from this class and
handle extra attributes as provider specific attributes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the server deployment.</p></td>
      </tr>
      <tr>
        <td><code>provider</code></td>
        <td><code>ServerProviderType</code></td>
        <td><p>The server provider type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic server deployment configuration.</span>

<span class="sd">    All server deployment configurations should inherit from this class and</span>
<span class="sd">    handle extra attributes as provider specific attributes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: Name of the server deployment.</span>
<span class="sd">        provider: The server provider type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">provider</span><span class="p">:</span> <span class="n">ServerProviderType</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
        <span class="c1"># to have a mix of mutable and immutable attributes</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Allow extra attributes to be set in the base class. The concrete</span>
        <span class="c1"># classes are responsible for validating the attributes.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.deployment.ServerDeploymentConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
    <span class="c1"># to have a mix of mutable and immutable attributes</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Allow extra attributes to be set in the base class. The concrete</span>
    <span class="c1"># classes are responsible for validating the attributes.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.deployment.ServerDeploymentStatus" class="doc doc-heading">
        <code>
ServerDeploymentStatus            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Server deployment status.</p>
<p>Ideally this should convey the following information:</p>
<ul>
<li>whether the server's deployment is managed by this client (i.e. if
the server was deployed with <code>zenml up</code>)</li>
<li>for a managed deployment, the status of the deployment/tear-down, e.g.
not deployed, deploying, running, deleting, deployment timeout/error,
tear-down timeout/error etc.</li>
<li>for an unmanaged deployment, the operational status (i.e. whether the
server is reachable)</li>
<li>the URL of the server</li>
</ul>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>status</code></td>
        <td><code>ServiceState</code></td>
        <td><p>The status of the server deployment.</p></td>
      </tr>
      <tr>
        <td><code>status_message</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A message describing the last status.</p></td>
      </tr>
      <tr>
        <td><code>connected</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the client is currently connected to this server.</p></td>
      </tr>
      <tr>
        <td><code>url</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The URL of the server.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentStatus</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Server deployment status.</span>

<span class="sd">    Ideally this should convey the following information:</span>

<span class="sd">    * whether the server&#39;s deployment is managed by this client (i.e. if</span>
<span class="sd">    the server was deployed with `zenml up`)</span>
<span class="sd">    * for a managed deployment, the status of the deployment/tear-down, e.g.</span>
<span class="sd">    not deployed, deploying, running, deleting, deployment timeout/error,</span>
<span class="sd">    tear-down timeout/error etc.</span>
<span class="sd">    * for an unmanaged deployment, the operational status (i.e. whether the</span>
<span class="sd">    server is reachable)</span>
<span class="sd">    * the URL of the server</span>

<span class="sd">    Attributes:</span>
<span class="sd">        status: The status of the server deployment.</span>
<span class="sd">        status_message: A message describing the last status.</span>
<span class="sd">        connected: Whether the client is currently connected to this server.</span>
<span class="sd">        url: The URL of the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">status</span><span class="p">:</span> <span class="n">ServiceState</span>
    <span class="n">status_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">connected</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ca_crt</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.docker" class="doc doc-heading">
        <code>docker</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>ZenML Server Docker Deployment.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.docker.docker_provider" class="doc doc-heading">
        <code>docker_provider</code>



</h5>

    <div class="doc doc-contents ">

      <p>Zen Server docker deployer implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.docker.docker_provider.DockerServerProvider" class="doc doc-heading">
        <code>
DockerServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.base_provider.BaseServerProvider" href="#zenml.zen_server.deploy.base_provider.BaseServerProvider">BaseServerProvider</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Docker ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerServerProvider</span><span class="p">(</span><span class="n">BaseServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">DOCKER</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">ServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">DockerServerDeploymentConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_service_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">server_config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
        <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">,</span>
    <span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct the service configuration from a server deployment configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_config: server deployment configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service, service endpoint and endpoint monitor configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">server_config</span><span class="p">,</span> <span class="n">DockerServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">DockerZenServerConfig</span><span class="p">(</span>
                <span class="n">root_runtime_path</span><span class="o">=</span><span class="n">DockerZenServer</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span>
                <span class="n">singleton</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">image</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">server</span><span class="o">=</span><span class="n">server_config</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ContainerServiceEndpointConfig</span><span class="p">(</span>
                <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                <span class="n">port</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="n">allocate_port</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="n">ZEN_SERVER_HEALTHCHECK_URL_PATH</span><span class="p">,</span>
                <span class="n">use_head_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create, start and return the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If a docker service is already running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">DockerServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span> <span class="o">=</span> <span class="n">DockerZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="n">existing_service</span> <span class="o">=</span> <span class="n">DockerZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_service</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A docker ZenML server with name &#39;</span><span class="si">{</span><span class="n">existing_service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;is already running. Please stop it first before starting a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;new one.&quot;</span>
            <span class="p">)</span>

        <span class="p">(</span>
            <span class="n">service_config</span><span class="p">,</span>
            <span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">ContainerServiceEndpoint</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">monitor_cfg</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">DockerZenServer</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">service_config</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">)</span>

        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_update_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            config: The new server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the updated service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="p">(</span>
            <span class="n">new_config</span><span class="p">,</span>
            <span class="n">new_endpoint_cfg</span><span class="p">,</span>
            <span class="n">new_monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span>
        <span class="k">assert</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="p">(</span>
            <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">new_config</span><span class="p">,</span>
            <span class="n">new_endpoint_cfg</span><span class="p">,</span>
            <span class="n">new_monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_start_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_stop_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_delete_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">DockerZenServer</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">DockerZenServer</span><span class="o">.</span><span class="n">config_path</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_get_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the docker ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the server deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">DockerZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;The docker ZenML server is not deployed.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">server_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="s2">&quot;The docker ZenML server is deployed but with a different name.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_list_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all service instances for all deployed ZenML servers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of service instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">DockerZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">service</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_get_deployment_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Recreate the server deployment configuration from a service instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DockerZenServer</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.docker.docker_provider.DockerServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Docker server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>The TCP port number where the server is accepting connections.</p></td>
      </tr>
      <tr>
        <td><code>image</code></td>
        <td><code>str</code></td>
        <td><p>The Docker image to use for the server.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        port: The TCP port number where the server is accepting connections.</span>
<span class="sd">        image: The Docker image to use for the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8238</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_IMAGE</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.docker.docker_provider.DockerServerProvider.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h8>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.docker.docker_zen_server" class="doc doc-heading">
        <code>docker_zen_server</code>



</h5>

    <div class="doc doc-contents ">

      <p>Service implementation for the ZenML docker server deployment.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerServerDeploymentConfig" class="doc doc-heading">
        <code>
DockerServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Docker server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>The TCP port number where the server is accepting connections.</p></td>
      </tr>
      <tr>
        <td><code>image</code></td>
        <td><code>str</code></td>
        <td><p>The Docker image to use for the server.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        port: The TCP port number where the server is accepting connections.</span>
<span class="sd">        image: The Docker image to use for the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8238</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_IMAGE</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerServerDeploymentConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer" class="doc doc-heading">
        <code>
DockerZenServer            (<a class="autorefs autorefs-internal" title="zenml.services.container.container_service.ContainerService" href="../core-services/#zenml.services.container.container_service.ContainerService">ContainerService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service that can be used to start a docker ZenServer.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>DockerZenServerConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>ContainerServiceEndpoint</code></td>
        <td><p>service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerZenServer</span><span class="p">(</span><span class="n">ContainerService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Service that can be used to start a docker ZenServer.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        endpoint: service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;docker_zenml_server&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;docker&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Docker ZenML server deployment&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">DockerZenServerConfig</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">ContainerServiceEndpoint</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">config_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path to the directory where the docker ZenML server files are located.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the docker ZenML server runtime directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
            <span class="s2">&quot;docker&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_global_config_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path to the global configuration directory used by this server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the global configuration directory used by this server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="n">SERVICE_CONTAINER_GLOBAL_CONFIG_DIR</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_copy_global_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the global configuration to the docker ZenML server location.</span>

<span class="sd">        The docker ZenML server global configuration is a copy of the docker</span>
<span class="sd">        global configuration. If a store configuration is explicitly set in</span>
<span class="sd">        the server configuration, it will be used. Otherwise, the store</span>
<span class="sd">        configuration is set to point to the local store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="c1"># this creates a copy of the global configuration and saves it to the</span>
        <span class="c1"># server configuration path. The store is set to where the default local</span>
        <span class="c1"># store is mounted in the docker container unless a custom store</span>
        <span class="c1"># configuration is explicitly supplied with the server configuration.</span>
        <span class="n">gc</span><span class="o">.</span><span class="n">copy_configuration</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_global_config_path</span><span class="p">,</span>
            <span class="n">store_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">store</span><span class="p">,</span>
            <span class="n">empty_store</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;DockerZenServer&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load and return the docker ZenML server service, if present.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docker ZenML server service or None, if the docker server</span>
<span class="sd">            deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

        <span class="n">config_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="s2">&quot;service.json&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                    <span class="n">DockerZenServer</span><span class="p">,</span>
                    <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_get_container_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the command to run the service container.</span>

<span class="sd">        Override the inherited method to use a ZenML global config path inside</span>
<span class="sd">        the container that points to the global config copy instead of the</span>
<span class="sd">        one mounted from the local host.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Command needed to launch the docker container and the environment</span>
<span class="sd">            variables to set, in the formats accepted by subprocess.Popen.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="n">cmd</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_container_cmd</span><span class="p">()</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">SERVICE_CONTAINER_PATH</span><span class="p">,</span>
            <span class="n">SERVICE_CONTAINER_GLOBAL_CONFIG_DIR</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_SERVER_DEPLOYMENT_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerDeploymentType</span><span class="o">.</span><span class="n">DOCKER</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_ANALYTICS_OPT_IN</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">)</span>

        <span class="c1"># Set the local stores path to point to where the client&#39;s local stores</span>
        <span class="c1"># path is mounted in the container. This ensures that the server&#39;s store</span>
        <span class="c1"># configuration is initialized with the same path as the client.</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">SERVICE_CONTAINER_GLOBAL_CONFIG_PATH</span><span class="p">,</span>
            <span class="n">LOCAL_STORES_DIRECTORY_NAME</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_DISABLE_DATABASE_MIGRATION</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span>

        <span class="k">return</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the ZenML Server.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if started with a global configuration that connects to</span>
<span class="sd">                another ZenML server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">uvicorn</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The ZenML server cannot be started with REST store type.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting ZenML Server as blocking &quot;</span>
            <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">ZEN_SERVER_ENTRYPOINT</span><span class="p">,</span>
                <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>  <span class="c1"># nosec</span>
                <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="mi">8000</span><span class="p">,</span>
                <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML Server stopped. Resuming normal execution.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer.config_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_path</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Path to the directory where the docker ZenML server files are located.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the docker ZenML server runtime directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">config_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Path to the directory where the docker ZenML server files are located.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Path to the docker ZenML server runtime directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">get_global_config_directory</span><span class="p">(),</span>
        <span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
        <span class="s2">&quot;docker&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer.get_service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Load and return the docker ZenML server service, if present.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[DockerZenServer]</code></td>
      <td><p>The docker ZenML server service or None, if the docker server
deployment is not found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;DockerZenServer&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load and return the docker ZenML server service, if present.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The docker ZenML server service or None, if the docker server</span>
<span class="sd">        deployment is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

    <span class="n">config_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="s2">&quot;service.json&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">DockerZenServer</span><span class="p">,</span>
                <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServer.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Run the ZenML Server.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if started with a global configuration that connects to
another ZenML server.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the ZenML Server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if started with a global configuration that connects to</span>
<span class="sd">            another ZenML server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">uvicorn</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The ZenML server cannot be started with REST store type.&quot;</span>
        <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting ZenML Server as blocking &quot;</span>
        <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">ZEN_SERVER_ENTRYPOINT</span><span class="p">,</span>
            <span class="n">host</span><span class="o">=</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>  <span class="c1"># nosec</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="mi">8000</span><span class="p">,</span>
            <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML Server stopped. Resuming normal execution.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.docker.docker_zen_server.DockerZenServerConfig" class="doc doc-heading">
        <code>
DockerZenServerConfig            (<a class="autorefs autorefs-internal" title="zenml.services.container.container_service.ContainerServiceConfig" href="../core-services/#zenml.services.container.container_service.ContainerServiceConfig">ContainerServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Docker Zen server configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server</code></td>
        <td><code>DockerServerDeploymentConfig</code></td>
        <td><p>The deployment configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/docker/docker_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerZenServerConfig</span><span class="p">(</span><span class="n">ContainerServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker Zen server configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        server: The deployment configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">server</span><span class="p">:</span> <span class="n">DockerServerDeploymentConfig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.exceptions" class="doc doc-heading">
        <code>exceptions</code>



</h4>

    <div class="doc doc-contents ">

      <p>ZenML server deployment exceptions.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.exceptions.ServerDeploymentConfigurationError" class="doc doc-heading">
        <code>
ServerDeploymentConfigurationError            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.exceptions.ServerDeploymentError" href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError">ServerDeploymentError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when there is a ZenML server deployment configuration error .</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentConfigurationError</span><span class="p">(</span><span class="n">ServerDeploymentError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when there is a ZenML server deployment configuration error .&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.exceptions.ServerDeploymentError" class="doc doc-heading">
        <code>
ServerDeploymentError            (<a class="autorefs autorefs-internal" title="zenml.exceptions.ZenMLBaseException" href="../core-exceptions/#zenml.exceptions.ZenMLBaseException">ZenMLBaseException</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Base exception class for all ZenML server deployment related errors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentError</span><span class="p">(</span><span class="n">ZenMLBaseException</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base exception class for all ZenML server deployment related errors.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.exceptions.ServerDeploymentExistsError" class="doc doc-heading">
        <code>
ServerDeploymentExistsError            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.exceptions.ServerDeploymentError" href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError">ServerDeploymentError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when trying to deploy a new ZenML server with the same name.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentExistsError</span><span class="p">(</span><span class="n">ServerDeploymentError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when trying to deploy a new ZenML server with the same name.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.exceptions.ServerDeploymentNotFoundError" class="doc doc-heading">
        <code>
ServerDeploymentNotFoundError            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.exceptions.ServerDeploymentError" href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError">ServerDeploymentError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when trying to fetch a ZenML server deployment that doesn't exist.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerDeploymentNotFoundError</span><span class="p">(</span><span class="n">ServerDeploymentError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when trying to fetch a ZenML server deployment that doesn&#39;t exist.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.deploy.exceptions.ServerProviderNotFoundError" class="doc doc-heading">
        <code>
ServerProviderNotFoundError            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.exceptions.ServerDeploymentError" href="#zenml.zen_server.deploy.exceptions.ServerDeploymentError">ServerDeploymentError</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Raised when using a ZenML server provider that doesn't exist.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServerProviderNotFoundError</span><span class="p">(</span><span class="n">ServerDeploymentError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when using a ZenML server provider that doesn&#39;t exist.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.local" class="doc doc-heading">
        <code>local</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>ZenML Server Local Deployment.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.local.local_provider" class="doc doc-heading">
        <code>local_provider</code>



</h5>

    <div class="doc doc-contents ">

      <p>Zen Server local provider implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.local.local_provider.LocalServerProvider" class="doc doc-heading">
        <code>
LocalServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.base_provider.BaseServerProvider" href="#zenml.zen_server.deploy.base_provider.BaseServerProvider">BaseServerProvider</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Local ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalServerProvider</span><span class="p">(</span><span class="n">BaseServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">LOCAL</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">ServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">LocalServerDeploymentConfig</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_local_server_dependencies</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if local server dependencies are installed.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the dependencies are not installed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Make sure the ZenML Server dependencies are installed</span>
            <span class="kn">import</span> <span class="nn">fastapi</span>  <span class="c1"># noqa</span>
            <span class="kn">import</span> <span class="nn">fastapi_utils</span>  <span class="c1"># noqa</span>
            <span class="kn">import</span> <span class="nn">jwt</span>  <span class="c1"># noqa</span>
            <span class="kn">import</span> <span class="nn">multipart</span>  <span class="c1"># noqa</span>
            <span class="kn">import</span> <span class="nn">uvicorn</span>  <span class="c1"># noqa</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="c1"># Unable to import the ZenML Server dependencies.</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The local ZenML server provider is unavailable because the &quot;</span>
                <span class="s2">&quot;ZenML server requirements seems to be unavailable on your machine. &quot;</span>
                <span class="s2">&quot;This is probably because ZenML was installed without the optional &quot;</span>
                <span class="s2">&quot;ZenML Server dependencies. To install the missing dependencies &quot;</span>
                <span class="sa">f</span><span class="s1">&#39;run `pip install &quot;zenml[server]==</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&quot;`.&#39;</span>
            <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_service_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">server_config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
        <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">,</span>
    <span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct the service configuration from a server deployment configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_config: server deployment configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service, service endpoint and endpoint monitor configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">server_config</span><span class="p">,</span> <span class="n">LocalServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">LocalZenServerConfig</span><span class="p">(</span>
                <span class="n">root_runtime_path</span><span class="o">=</span><span class="n">LocalZenServer</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span>
                <span class="n">singleton</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">blocking</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">blocking</span><span class="p">,</span>
                <span class="n">server</span><span class="o">=</span><span class="n">server_config</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">LocalDaemonServiceEndpointConfig</span><span class="p">(</span>
                <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                <span class="n">ip_address</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">server_config</span><span class="o">.</span><span class="n">ip_address</span><span class="p">),</span>
                <span class="n">port</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                <span class="n">allocate_port</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="n">ZEN_SERVER_HEALTHCHECK_URL_PATH</span><span class="p">,</span>
                <span class="n">use_head_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create, start and return the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If a local service is already running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">LocalServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">LOCAL_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_local_server_dependencies</span><span class="p">()</span>
        <span class="n">existing_service</span> <span class="o">=</span> <span class="n">LocalZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_service</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A local ZenML server with name &#39;</span><span class="si">{</span><span class="n">existing_service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;is already running. Please stop it first before starting a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;new one.&quot;</span>
            <span class="p">)</span>

        <span class="p">(</span>
            <span class="n">service_config</span><span class="p">,</span>
            <span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">LocalDaemonServiceEndpoint</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">monitor_cfg</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">LocalZenServer</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">service_config</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_update_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            config: The new server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the updated service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">LOCAL_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="p">(</span>
            <span class="n">new_config</span><span class="p">,</span>
            <span class="n">new_endpoint_cfg</span><span class="p">,</span>
            <span class="n">new_monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span>
        <span class="k">assert</span> <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span>
        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="p">(</span>
            <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">service</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">new_config</span><span class="p">,</span>
            <span class="n">new_endpoint_cfg</span><span class="p">,</span>
            <span class="n">new_monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_start_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">LOCAL_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_stop_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">LOCAL_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_delete_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">LocalZenServer</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">LOCAL_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">LocalZenServer</span><span class="o">.</span><span class="n">config_path</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_get_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the local ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the server deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">LocalZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;The local ZenML server is not deployed.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">server_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="s2">&quot;The local ZenML server is deployed but with a different name.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_list_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all service instances for all deployed ZenML servers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of service instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">LocalZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">service</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_get_deployment_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Recreate the server deployment configuration from a service instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">LocalZenServer</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.local.local_provider.LocalServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Local server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>The TCP port number where the server is accepting connections.</p></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td></td>
        <td><p>The IP address where the server is reachable.</p></td>
      </tr>
      <tr>
        <td><code>blocking</code></td>
        <td><code>bool</code></td>
        <td><p>Run the server in blocking mode instead of using a daemon
process.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        port: The TCP port number where the server is accepting connections.</span>
<span class="sd">        address: The IP address where the server is reachable.</span>
<span class="sd">        blocking: Run the server in blocking mode instead of using a daemon</span>
<span class="sd">            process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8237</span>
    <span class="n">ip_address</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">,</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv6Address</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">(</span><span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span><span class="p">)</span>
    <span class="n">blocking</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.local.local_provider.LocalServerProvider.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h8>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_provider.LocalServerProvider.check_local_server_dependencies" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_local_server_dependencies</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Check if local server dependencies are installed.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the dependencies are not installed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">check_local_server_dependencies</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if local server dependencies are installed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the dependencies are not installed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Make sure the ZenML Server dependencies are installed</span>
        <span class="kn">import</span> <span class="nn">fastapi</span>  <span class="c1"># noqa</span>
        <span class="kn">import</span> <span class="nn">fastapi_utils</span>  <span class="c1"># noqa</span>
        <span class="kn">import</span> <span class="nn">jwt</span>  <span class="c1"># noqa</span>
        <span class="kn">import</span> <span class="nn">multipart</span>  <span class="c1"># noqa</span>
        <span class="kn">import</span> <span class="nn">uvicorn</span>  <span class="c1"># noqa</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="c1"># Unable to import the ZenML Server dependencies.</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The local ZenML server provider is unavailable because the &quot;</span>
            <span class="s2">&quot;ZenML server requirements seems to be unavailable on your machine. &quot;</span>
            <span class="s2">&quot;This is probably because ZenML was installed without the optional &quot;</span>
            <span class="s2">&quot;ZenML Server dependencies. To install the missing dependencies &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;run `pip install &quot;zenml[server]==</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&quot;`.&#39;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.local.local_zen_server" class="doc doc-heading">
        <code>local_zen_server</code>



</h5>

    <div class="doc doc-contents ">

      <p>Local ZenML server deployment service implementation.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.local.local_zen_server.LocalServerDeploymentConfig" class="doc doc-heading">
        <code>
LocalServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Local server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>The TCP port number where the server is accepting connections.</p></td>
      </tr>
      <tr>
        <td><code>address</code></td>
        <td></td>
        <td><p>The IP address where the server is reachable.</p></td>
      </tr>
      <tr>
        <td><code>blocking</code></td>
        <td><code>bool</code></td>
        <td><p>Run the server in blocking mode instead of using a daemon
process.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        port: The TCP port number where the server is accepting connections.</span>
<span class="sd">        address: The IP address where the server is reachable.</span>
<span class="sd">        blocking: Run the server in blocking mode instead of using a daemon</span>
<span class="sd">            process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8237</span>
    <span class="n">ip_address</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">,</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv6Address</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">ipaddress</span><span class="o">.</span><span class="n">IPv4Address</span><span class="p">(</span><span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span><span class="p">)</span>
    <span class="n">blocking</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalServerDeploymentConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer" class="doc doc-heading">
        <code>
LocalZenServer            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonService" href="../core-services/#zenml.services.local.local_service.LocalDaemonService">LocalDaemonService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service daemon that can be used to start a local ZenML Server.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>LocalZenServerConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>LocalDaemonServiceEndpoint</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalZenServer</span><span class="p">(</span><span class="n">LocalDaemonService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Service daemon that can be used to start a local ZenML Server.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;local_zenml_server&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Local ZenML server deployment&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">LocalZenServerConfig</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">LocalDaemonServiceEndpoint</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">config_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path to the directory where the local ZenML server files are located.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the local ZenML server runtime directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">get_global_config_directory</span><span class="p">(),</span>
            <span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
            <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_global_config_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Path to the global configuration directory used by this server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path to the global configuration directory used by this server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="s2">&quot;.zenconfig&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_copy_global_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the global configuration to the local ZenML server location.</span>

<span class="sd">        The local ZenML server global configuration is a copy of the local</span>
<span class="sd">        global configuration. If a store configuration is explicitly set in</span>
<span class="sd">        the server configuration, it will be used. Otherwise, the store</span>
<span class="sd">        configuration is set to point to the local store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>

        <span class="c1"># this creates a copy of the global configuration and saves it to</span>
        <span class="c1"># the server configuration path. The store is set to point to the local</span>
        <span class="c1"># default database unless a custom store configuration is explicitly</span>
        <span class="c1"># supplied with the server configuration.</span>
        <span class="n">gc</span><span class="o">.</span><span class="n">copy_configuration</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_global_config_path</span><span class="p">,</span>
            <span class="n">store_config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">store</span><span class="p">,</span>
            <span class="n">empty_store</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LocalZenServer&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load and return the local ZenML server service, if present.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The local ZenML server service or None, if the local server</span>
<span class="sd">            deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

        <span class="n">config_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="s2">&quot;service.json&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                    <span class="n">LocalZenServer</span><span class="p">,</span>
                    <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_get_daemon_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the command to start the daemon.</span>

<span class="sd">        Overrides the base class implementation to add the environment variable</span>
<span class="sd">        that forces the ZenML server to use the copied global config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The command to start the daemon and the environment variables to</span>
<span class="sd">            set for the command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmd</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_get_daemon_cmd</span><span class="p">()</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_global_config_path</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_SERVER_DEPLOYMENT_TYPE</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerDeploymentType</span><span class="o">.</span><span class="n">LOCAL</span>
        <span class="c1"># Set the local stores path to the same path used by the client. This</span>
        <span class="c1"># ensures that the server&#39;s store configuration is initialized with</span>
        <span class="c1"># the same path as the client.</span>
        <span class="n">env</span><span class="p">[</span>
            <span class="n">ENV_ZENML_LOCAL_STORES_PATH</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span>
        <span class="n">env</span><span class="p">[</span><span class="n">ENV_ZENML_DISABLE_DATABASE_MIGRATION</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span>

        <span class="k">return</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to become active.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">blocking</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
            <span class="n">local_stores_path</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span>
            <span class="n">GlobalConfiguration</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
            <span class="n">Client</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
            <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_global_config_path</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_stores_path</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">config_path</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">config_path</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span>
                <span class="k">del</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">]</span>
                <span class="n">GlobalConfiguration</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
                <span class="n">Client</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the ZenML Server.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if started with a global configuration that connects to</span>
<span class="sd">                another ZenML server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">uvicorn</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The ZenML server cannot be started with REST store type.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting ZenML Server as blocking &quot;</span>
            <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">ZEN_SERVER_ENTRYPOINT</span><span class="p">,</span>
                <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ip_address</span><span class="p">,</span>
                <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="mi">8000</span><span class="p">,</span>
                <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML Server stopped. Resuming normal execution.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer.config_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_path</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Path to the directory where the local ZenML server files are located.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Path to the local ZenML server runtime directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">config_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Path to the directory where the local ZenML server files are located.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Path to the local ZenML server runtime directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">get_global_config_directory</span><span class="p">(),</span>
        <span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
        <span class="s2">&quot;local&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer.get_service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Load and return the local ZenML server service, if present.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[LocalZenServer]</code></td>
      <td><p>The local ZenML server service or None, if the local server
deployment is not found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LocalZenServer&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load and return the local ZenML server service, if present.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local ZenML server service or None, if the local server</span>
<span class="sd">        deployment is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

    <span class="n">config_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_path</span><span class="p">(),</span> <span class="s2">&quot;service.json&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">LocalZenServer</span><span class="p">,</span>
                <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Run the ZenML Server.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if started with a global configuration that connects to
another ZenML server.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the ZenML Server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if started with a global configuration that connects to</span>
<span class="sd">            another ZenML server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">uvicorn</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The ZenML server cannot be started with REST store type.&quot;</span>
        <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Starting ZenML Server as blocking &quot;</span>
        <span class="s2">&quot;process... press CTRL+C once to stop it.&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">ZEN_SERVER_ENTRYPOINT</span><span class="p">,</span>
            <span class="n">host</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ip_address</span><span class="p">,</span>
            <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="mi">8000</span><span class="p">,</span>
            <span class="n">log_level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;ZenML Server stopped. Resuming normal execution.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServer.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Start the service and optionally wait for it to become active.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to become active.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to become active.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">blocking</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_copy_global_configuration</span><span class="p">()</span>
        <span class="n">local_stores_path</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span>
        <span class="n">GlobalConfiguration</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
        <span class="n">Client</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
        <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_global_config_path</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_stores_path</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config_path</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="n">config_path</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span>
            <span class="k">del</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">]</span>
            <span class="n">GlobalConfiguration</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
            <span class="n">Client</span><span class="o">.</span><span class="n">_reset_instance</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.local.local_zen_server.LocalZenServerConfig" class="doc doc-heading">
        <code>
LocalZenServerConfig            (<a class="autorefs autorefs-internal" title="zenml.services.local.local_service.LocalDaemonServiceConfig" href="../core-services/#zenml.services.local.local_service.LocalDaemonServiceConfig">LocalDaemonServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Local Zen server configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server</code></td>
        <td><code>LocalServerDeploymentConfig</code></td>
        <td><p>The deployment configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/local/local_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalZenServerConfig</span><span class="p">(</span><span class="n">LocalDaemonServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local Zen server configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        server: The deployment configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">server</span><span class="p">:</span> <span class="n">LocalServerDeploymentConfig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.deploy.terraform" class="doc doc-heading">
        <code>terraform</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>ZenML Server Terraform Deployment.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.terraform.providers" class="doc doc-heading">
        <code>providers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>ZenML Server Terraform Providers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h6 id="zenml.zen_server.deploy.terraform.providers.aws_provider" class="doc doc-heading">
        <code>aws_provider</code>



</h6>

    <div class="doc doc-contents ">

      <p>Zen Server AWS Terraform deployer implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.aws_provider.AWSServerDeploymentConfig" class="doc doc-heading">
        <code>
AWSServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>AWS server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>region</code></td>
        <td><code>str</code></td>
        <td><p>The AWS region to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>rds_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the RDS instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_type</code></td>
        <td><code>str</code></td>
        <td><p>Type of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_version</code></td>
        <td><code>str</code></td>
        <td><p>Version of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_class</code></td>
        <td><code>str</code></td>
        <td><p>Instance class of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_allocated_storage</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of RDS database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/aws_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;AWS server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        region: The AWS region to deploy to.</span>
<span class="sd">        rds_name: The name of the RDS instance to create</span>
<span class="sd">        db_name: Name of RDS database to create.</span>
<span class="sd">        db_type: Type of RDS database to create.</span>
<span class="sd">        db_version: Version of RDS database to create.</span>
<span class="sd">        db_instance_class: Instance class of RDS database to create.</span>
<span class="sd">        db_allocated_storage: Allocated storage of RDS database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;eu-west-1&quot;</span>
    <span class="n">rds_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql&quot;</span>
    <span class="n">db_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;5.7.38&quot;</span>
    <span class="n">db_instance_class</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;db.t3.micro&quot;</span>
    <span class="n">db_allocated_storage</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.aws_provider.AWSServerProvider" class="doc doc-heading">
        <code>
AWSServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider" href="#zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider">TerraformServerProvider</a>)
        </code>



</h7>

    <div class="doc doc-contents ">

      <p>AWS ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/aws_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSServerProvider</span><span class="p">(</span><span class="n">TerraformServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;AWS ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">AWS</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">AWSServerDeploymentConfig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.terraform.providers.aws_provider.AWSServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h8>

    <div class="doc doc-contents ">

      <p>AWS server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>region</code></td>
        <td><code>str</code></td>
        <td><p>The AWS region to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>rds_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the RDS instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_type</code></td>
        <td><code>str</code></td>
        <td><p>Type of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_version</code></td>
        <td><code>str</code></td>
        <td><p>Version of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_class</code></td>
        <td><code>str</code></td>
        <td><p>Instance class of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_allocated_storage</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of RDS database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/aws_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;AWS server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        region: The AWS region to deploy to.</span>
<span class="sd">        rds_name: The name of the RDS instance to create</span>
<span class="sd">        db_name: Name of RDS database to create.</span>
<span class="sd">        db_type: Type of RDS database to create.</span>
<span class="sd">        db_version: Version of RDS database to create.</span>
<span class="sd">        db_instance_class: Instance class of RDS database to create.</span>
<span class="sd">        db_allocated_storage: Allocated storage of RDS database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;eu-west-1&quot;</span>
    <span class="n">rds_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mysql&quot;</span>
    <span class="n">db_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;5.7.38&quot;</span>
    <span class="n">db_instance_class</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;db.t3.micro&quot;</span>
    <span class="n">db_allocated_storage</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 id="zenml.zen_server.deploy.terraform.providers.azure_provider" class="doc doc-heading">
        <code>azure_provider</code>



</h6>

    <div class="doc doc-contents ">

      <p>Zen Server Azure Terraform deployer implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.azure_provider.AzureServerDeploymentConfig" class="doc doc-heading">
        <code>
AzureServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Azure server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_group</code></td>
        <td><code>str</code></td>
        <td><p>The Azure resource_group to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the Flexible MySQL instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_version</code></td>
        <td><code>str</code></td>
        <td><p>Version of MySQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_sku_name</code></td>
        <td><code>str</code></td>
        <td><p>The sku_name for the database resource.</p></td>
      </tr>
      <tr>
        <td><code>db_disk_size</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of MySQL database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/azure_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        resource_group: The Azure resource_group to deploy to.</span>
<span class="sd">        db_instance_name: The name of the Flexible MySQL instance to create</span>
<span class="sd">        db_name: Name of RDS database to create.</span>
<span class="sd">        db_version: Version of MySQL database to create.</span>
<span class="sd">        db_sku_name: The sku_name for the database resource.</span>
<span class="sd">        db_disk_size: Allocated storage of MySQL database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
    <span class="n">db_instance_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;5.7&quot;</span>
    <span class="n">db_sku_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;B_Standard_B1s&quot;</span>
    <span class="n">db_disk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.azure_provider.AzureServerProvider" class="doc doc-heading">
        <code>
AzureServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider" href="#zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider">TerraformServerProvider</a>)
        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Azure ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/azure_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureServerProvider</span><span class="p">(</span><span class="n">TerraformServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">AZURE</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">AzureServerDeploymentConfig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.terraform.providers.azure_provider.AzureServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h8>

    <div class="doc doc-contents ">

      <p>Azure server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_group</code></td>
        <td><code>str</code></td>
        <td><p>The Azure resource_group to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the Flexible MySQL instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of RDS database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_version</code></td>
        <td><code>str</code></td>
        <td><p>Version of MySQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_sku_name</code></td>
        <td><code>str</code></td>
        <td><p>The sku_name for the database resource.</p></td>
      </tr>
      <tr>
        <td><code>db_disk_size</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of MySQL database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/azure_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        resource_group: The Azure resource_group to deploy to.</span>
<span class="sd">        db_instance_name: The name of the Flexible MySQL instance to create</span>
<span class="sd">        db_name: Name of RDS database to create.</span>
<span class="sd">        db_version: Version of MySQL database to create.</span>
<span class="sd">        db_sku_name: The sku_name for the database resource.</span>
<span class="sd">        db_disk_size: Allocated storage of MySQL database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml&quot;</span>
    <span class="n">db_instance_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;5.7&quot;</span>
    <span class="n">db_sku_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;B_Standard_B1s&quot;</span>
    <span class="n">db_disk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 id="zenml.zen_server.deploy.terraform.providers.gcp_provider" class="doc doc-heading">
        <code>gcp_provider</code>



</h6>

    <div class="doc doc-contents ">

      <p>Zen Server GCP Terraform deployer implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.gcp_provider.GCPServerDeploymentConfig" class="doc doc-heading">
        <code>
GCPServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>GCP server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>project_id</code></td>
        <td><code>str</code></td>
        <td><p>The project in GCP to deploy the server to.</p></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>str</code></td>
        <td><p>The GCP region to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>cloudsql_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the CloudSQL instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of CloudSQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_tier</code></td>
        <td><code>str</code></td>
        <td><p>Instance class of CloudSQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_disk_size</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of CloudSQL database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/gcp_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;GCP server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        project_id: The project in GCP to deploy the server to.</span>
<span class="sd">        region: The GCP region to deploy to.</span>
<span class="sd">        cloudsql_name: The name of the CloudSQL instance to create</span>
<span class="sd">        db_name: Name of CloudSQL database to create.</span>
<span class="sd">        db_instance_tier: Instance class of CloudSQL database to create.</span>
<span class="sd">        db_disk_size: Allocated storage of CloudSQL database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">project_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;europe-west3&quot;</span>
    <span class="n">cloudsql_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_instance_tier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;db-n1-standard-1&quot;</span>
    <span class="n">db_disk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.gcp_provider.GCPServerProvider" class="doc doc-heading">
        <code>
GCPServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider" href="#zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider">TerraformServerProvider</a>)
        </code>



</h7>

    <div class="doc doc-contents ">

      <p>GCP ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/gcp_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPServerProvider</span><span class="p">(</span><span class="n">TerraformServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;GCP ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServerProviderType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">GCP</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">GCPServerDeploymentConfig</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.terraform.providers.gcp_provider.GCPServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" href="#zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig">TerraformServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h8>

    <div class="doc doc-contents ">

      <p>GCP server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>project_id</code></td>
        <td><code>str</code></td>
        <td><p>The project in GCP to deploy the server to.</p></td>
      </tr>
      <tr>
        <td><code>region</code></td>
        <td><code>str</code></td>
        <td><p>The GCP region to deploy to.</p></td>
      </tr>
      <tr>
        <td><code>cloudsql_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the CloudSQL instance to create</p></td>
      </tr>
      <tr>
        <td><code>db_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of CloudSQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_instance_tier</code></td>
        <td><code>str</code></td>
        <td><p>Instance class of CloudSQL database to create.</p></td>
      </tr>
      <tr>
        <td><code>db_disk_size</code></td>
        <td><code>int</code></td>
        <td><p>Allocated storage of CloudSQL database to create.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/gcp_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPServerDeploymentConfig</span><span class="p">(</span><span class="n">TerraformServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;GCP server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        project_id: The project in GCP to deploy the server to.</span>
<span class="sd">        region: The GCP region to deploy to.</span>
<span class="sd">        cloudsql_name: The name of the CloudSQL instance to create</span>
<span class="sd">        db_name: Name of CloudSQL database to create.</span>
<span class="sd">        db_instance_tier: Instance class of CloudSQL database to create.</span>
<span class="sd">        db_disk_size: Allocated storage of CloudSQL database to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">project_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;europe-west3&quot;</span>
    <span class="n">cloudsql_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">db_instance_tier</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;db-n1-standard-1&quot;</span>
    <span class="n">db_disk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 id="zenml.zen_server.deploy.terraform.providers.terraform_provider" class="doc doc-heading">
        <code>terraform_provider</code>



</h6>

    <div class="doc doc-contents ">

      <p>Zen Server terraform deployer implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider" class="doc doc-heading">
        <code>
TerraformServerProvider            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.base_provider.BaseServerProvider" href="#zenml.zen_server.deploy.base_provider.BaseServerProvider">BaseServerProvider</a>)
        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Terraform ZenML server provider.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/terraform_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformServerProvider</span><span class="p">(</span><span class="n">BaseServerProvider</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform ZenML server provider.&quot;&quot;&quot;</span>

    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">ServerDeploymentConfig</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">TerraformServerDeploymentConfig</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_server_recipe_root_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the server recipe root path.</span>

<span class="sd">        The Terraform recipe files for all terraform server providers are</span>
<span class="sd">        located in a folder relative to the `zenml.zen_server.deploy.terraform`</span>
<span class="sd">        Python module.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server recipe root path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">zenml.zen_server.deploy.terraform</span> <span class="k">as</span> <span class="nn">terraform_module</span>

        <span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">terraform_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">),</span>
            <span class="n">TERRAFORM_ZENML_SERVER_RECIPE_SUBPATH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">root_path</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_service_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">server_config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
        <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointConfig</span><span class="p">,</span>
        <span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">,</span>
    <span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct the service configuration from a server deployment configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_config: server deployment configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">server_config</span><span class="p">,</span> <span class="n">TerraformServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">TerraformZenServerConfig</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">root_runtime_path</span><span class="o">=</span><span class="n">TERRAFORM_ZENML_SERVER_CONFIG_PATH</span><span class="p">,</span>
                <span class="n">singleton</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">directory_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="bp">cls</span><span class="o">.</span><span class="n">_get_server_recipe_root_path</span><span class="p">(),</span>
                    <span class="n">server_config</span><span class="o">.</span><span class="n">provider</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">log_level</span><span class="o">=</span><span class="n">server_config</span><span class="o">.</span><span class="n">log_level</span><span class="p">,</span>
                <span class="n">variables_file_path</span><span class="o">=</span><span class="n">TERRAFORM_VALUES_FILE_PATH</span><span class="p">,</span>
                <span class="n">server</span><span class="o">=</span><span class="n">server_config</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ServiceEndpointConfig</span><span class="p">(</span>
                <span class="n">protocol</span><span class="o">=</span><span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
                <span class="n">allocate_port</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span>
                <span class="n">healthcheck_uri_path</span><span class="o">=</span><span class="n">ZEN_SERVER_HEALTHCHECK_URL_PATH</span><span class="p">,</span>
                <span class="n">use_head_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create, start and return the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If a terraform service is already running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">TerraformServerDeploymentConfig</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">TERRAFORM_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">existing_service</span> <span class="o">=</span> <span class="n">TerraformZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_service</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A terraform ZenML server with name &#39;</span><span class="si">{</span><span class="n">existing_service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;is already running. Please stop it first before starting a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;new one.&quot;</span>
            <span class="p">)</span>

        <span class="p">(</span>
            <span class="n">service_config</span><span class="p">,</span>
            <span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="n">service</span> <span class="o">=</span> <span class="n">TerraformZenServer</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">service_config</span><span class="p">)</span>

        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_update_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServerDeploymentConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            config: The new server deployment configuration.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the updated service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">TERRAFORM_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="p">(</span>
            <span class="n">new_config</span><span class="p">,</span>
            <span class="n">endpoint_cfg</span><span class="p">,</span>
            <span class="n">monitor_cfg</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_service_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_config</span><span class="p">,</span> <span class="n">TerraformZenServerConfig</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">TerraformZenServer</span><span class="p">)</span>

        <span class="c1"># preserve the server ID across updates</span>
        <span class="n">service</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">new_config</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_start_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">TERRAFORM_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_stop_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                stopped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">TERRAFORM_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_delete_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>
<span class="sd">            timeout: The timeout in seconds to wait until the service is</span>
<span class="sd">                removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">TerraformZenServer</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="n">TERRAFORM_ZENML_SERVER_DEFAULT_TIMEOUT</span>

        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the terraform ZenML server deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            server_name: The server deployment name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the server deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">TerraformZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;The terraform ZenML server is not deployed.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">server_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="s2">&quot;The terraform ZenML server is deployed but with a different name.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_list_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all service instances for all deployed ZenML servers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of service instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">TerraformZenServer</span><span class="o">.</span><span class="n">get_service</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">service</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">service</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_get_deployment_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Recreate the server deployment configuration from a service instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The server deployment configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TerraformZenServer</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span>

    <span class="k">def</span> <span class="nf">_get_deployment_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerDeploymentStatus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the status of a server deployment from its service.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The server deployment service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The status of the server deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">TerraformZenServer</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
        <span class="n">ca_crt</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_server_url</span><span class="p">()</span>
            <span class="n">ca_crt</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_certificate</span><span class="p">()</span>
        <span class="n">connected</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span> <span class="o">==</span> <span class="n">url</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">ServerDeploymentStatus</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="n">status_message</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="p">,</span>
            <span class="n">connected</span><span class="o">=</span><span class="n">connected</span><span class="p">,</span>
            <span class="n">ca_crt</span><span class="o">=</span><span class="n">ca_crt</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h8 id="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h8>

    <div class="doc doc-contents ">

      <p>Terraform server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>log_level</code></td>
        <td><code>str</code></td>
        <td><p>The log level to set the terraform client to. Choose one of
TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>The username for the default ZenML server account.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>str</code></td>
        <td><p>The password for the default ZenML server account.</p></td>
      </tr>
      <tr>
        <td><code>helm_chart</code></td>
        <td><code>str</code></td>
        <td><p>The path to the ZenML server helm chart to use for
deployment.</p></td>
      </tr>
      <tr>
        <td><code>zenmlserver_image_repo</code></td>
        <td><code>str</code></td>
        <td><p>The repository to use for the zenml server.</p></td>
      </tr>
      <tr>
        <td><code>zenmlserver_image_tag</code></td>
        <td><code>str</code></td>
        <td><p>The tag to use for the zenml server docker
image.</p></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>The Kubernetes namespace to deploy the ZenML server to.</p></td>
      </tr>
      <tr>
        <td><code>kubectl_config_path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the kubectl config file to use for
deployment.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to use TLS for the ingress.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls_generate_certs</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to generate self-signed TLS
certificates for the ingress.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls_secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the Kubernetes secret to use for
the ingress.</p></td>
      </tr>
      <tr>
        <td><code>create_ingress_controller</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to deploy an nginx ingress
controller as part of the deployment.</p></td>
      </tr>
      <tr>
        <td><code>ingress_controller_ip</code></td>
        <td><code>str</code></td>
        <td><p>The ingress controller IP to use for
the ingress self-signed certificate and to compute the ZenML server
URL.</p></td>
      </tr>
      <tr>
        <td><code>deploy_db</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to create a SQL database service as part of the recipe.</p></td>
      </tr>
      <tr>
        <td><code>database_username</code></td>
        <td><code>str</code></td>
        <td><p>The username for the database.</p></td>
      </tr>
      <tr>
        <td><code>database_password</code></td>
        <td><code>str</code></td>
        <td><p>The password for the database.</p></td>
      </tr>
      <tr>
        <td><code>database_url</code></td>
        <td><code>str</code></td>
        <td><p>The URL of the RDS instance to use for the ZenML server.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_ca</code></td>
        <td><code>str</code></td>
        <td><p>The path to the SSL CA certificate to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_cert</code></td>
        <td><code>str</code></td>
        <td><p>The path to the client SSL certificate to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_key</code></td>
        <td><code>str</code></td>
        <td><p>The path to the client SSL key to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_verify_server_cert</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to verify the database server
SSL certificate.</p></td>
      </tr>
      <tr>
        <td><code>analytics_opt_in</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to enable analytics.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/terraform_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        log_level: The log level to set the terraform client to. Choose one of</span>
<span class="sd">            TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</span>
<span class="sd">        username: The username for the default ZenML server account.</span>
<span class="sd">        password: The password for the default ZenML server account.</span>
<span class="sd">        helm_chart: The path to the ZenML server helm chart to use for</span>
<span class="sd">            deployment.</span>
<span class="sd">        zenmlserver_image_repo: The repository to use for the zenml server.</span>
<span class="sd">        zenmlserver_image_tag: The tag to use for the zenml server docker</span>
<span class="sd">            image.</span>
<span class="sd">        namespace: The Kubernetes namespace to deploy the ZenML server to.</span>
<span class="sd">        kubectl_config_path: The path to the kubectl config file to use for</span>
<span class="sd">            deployment.</span>
<span class="sd">        ingress_tls: Whether to use TLS for the ingress.</span>
<span class="sd">        ingress_tls_generate_certs: Whether to generate self-signed TLS</span>
<span class="sd">            certificates for the ingress.</span>
<span class="sd">        ingress_tls_secret_name: The name of the Kubernetes secret to use for</span>
<span class="sd">            the ingress.</span>
<span class="sd">        create_ingress_controller: Whether to deploy an nginx ingress</span>
<span class="sd">            controller as part of the deployment.</span>
<span class="sd">        ingress_controller_ip: The ingress controller IP to use for</span>
<span class="sd">            the ingress self-signed certificate and to compute the ZenML server</span>
<span class="sd">            URL.</span>
<span class="sd">        deploy_db: Whether to create a SQL database service as part of the recipe.</span>
<span class="sd">        database_username: The username for the database.</span>
<span class="sd">        database_password: The password for the database.</span>
<span class="sd">        database_url: The URL of the RDS instance to use for the ZenML server.</span>
<span class="sd">        database_ssl_ca: The path to the SSL CA certificate to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_cert: The path to the client SSL certificate to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_key: The path to the client SSL key to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_verify_server_cert: Whether to verify the database server</span>
<span class="sd">            SSL certificate.</span>
<span class="sd">        analytics_opt_in: Whether to enable analytics.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;ERROR&quot;</span>

    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">helm_chart</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">get_helm_chart_path</span><span class="p">()</span>
    <span class="n">zenmlserver_image_repo</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmldocker/zenml-server&quot;</span>
    <span class="n">zenmlserver_image_tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;latest&quot;</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">kubectl_config_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()),</span> <span class="s2">&quot;.kube&quot;</span><span class="p">,</span> <span class="s2">&quot;config&quot;</span>
    <span class="p">)</span>
    <span class="n">ingress_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ingress_tls_generate_certs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ingress_tls_secret_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml-tls-certs&quot;</span>
    <span class="n">create_ingress_controller</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ingress_controller_ip</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">deploy_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">database_username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span>
    <span class="n">database_password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_ca</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_verify_server_cert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">analytics_opt_in</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





























  <div class="doc doc-object doc-class">



<h9 id="zenml.zen_server.deploy.terraform.providers.terraform_provider.TerraformServerProvider.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h9>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/providers/terraform_provider.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h5 id="zenml.zen_server.deploy.terraform.terraform_zen_server" class="doc doc-heading">
        <code>terraform_zen_server</code>



</h5>

    <div class="doc doc-contents ">

      <p>Service implementation for the ZenML terraform server deployment.</p>



  <div class="doc doc-children">




















  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig" class="doc doc-heading">
        <code>
TerraformServerDeploymentConfig            (<a class="autorefs autorefs-internal" title="zenml.zen_server.deploy.deployment.ServerDeploymentConfig" href="#zenml.zen_server.deploy.deployment.ServerDeploymentConfig">ServerDeploymentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Terraform server deployment configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>log_level</code></td>
        <td><code>str</code></td>
        <td><p>The log level to set the terraform client to. Choose one of
TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>The username for the default ZenML server account.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>str</code></td>
        <td><p>The password for the default ZenML server account.</p></td>
      </tr>
      <tr>
        <td><code>helm_chart</code></td>
        <td><code>str</code></td>
        <td><p>The path to the ZenML server helm chart to use for
deployment.</p></td>
      </tr>
      <tr>
        <td><code>zenmlserver_image_repo</code></td>
        <td><code>str</code></td>
        <td><p>The repository to use for the zenml server.</p></td>
      </tr>
      <tr>
        <td><code>zenmlserver_image_tag</code></td>
        <td><code>str</code></td>
        <td><p>The tag to use for the zenml server docker
image.</p></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>The Kubernetes namespace to deploy the ZenML server to.</p></td>
      </tr>
      <tr>
        <td><code>kubectl_config_path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the kubectl config file to use for
deployment.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to use TLS for the ingress.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls_generate_certs</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to generate self-signed TLS
certificates for the ingress.</p></td>
      </tr>
      <tr>
        <td><code>ingress_tls_secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the Kubernetes secret to use for
the ingress.</p></td>
      </tr>
      <tr>
        <td><code>create_ingress_controller</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to deploy an nginx ingress
controller as part of the deployment.</p></td>
      </tr>
      <tr>
        <td><code>ingress_controller_ip</code></td>
        <td><code>str</code></td>
        <td><p>The ingress controller IP to use for
the ingress self-signed certificate and to compute the ZenML server
URL.</p></td>
      </tr>
      <tr>
        <td><code>deploy_db</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to create a SQL database service as part of the recipe.</p></td>
      </tr>
      <tr>
        <td><code>database_username</code></td>
        <td><code>str</code></td>
        <td><p>The username for the database.</p></td>
      </tr>
      <tr>
        <td><code>database_password</code></td>
        <td><code>str</code></td>
        <td><p>The password for the database.</p></td>
      </tr>
      <tr>
        <td><code>database_url</code></td>
        <td><code>str</code></td>
        <td><p>The URL of the RDS instance to use for the ZenML server.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_ca</code></td>
        <td><code>str</code></td>
        <td><p>The path to the SSL CA certificate to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_cert</code></td>
        <td><code>str</code></td>
        <td><p>The path to the client SSL certificate to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_key</code></td>
        <td><code>str</code></td>
        <td><p>The path to the client SSL key to use for the
database connection.</p></td>
      </tr>
      <tr>
        <td><code>database_ssl_verify_server_cert</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to verify the database server
SSL certificate.</p></td>
      </tr>
      <tr>
        <td><code>analytics_opt_in</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to enable analytics.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformServerDeploymentConfig</span><span class="p">(</span><span class="n">ServerDeploymentConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform server deployment configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        log_level: The log level to set the terraform client to. Choose one of</span>
<span class="sd">            TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</span>
<span class="sd">        username: The username for the default ZenML server account.</span>
<span class="sd">        password: The password for the default ZenML server account.</span>
<span class="sd">        helm_chart: The path to the ZenML server helm chart to use for</span>
<span class="sd">            deployment.</span>
<span class="sd">        zenmlserver_image_repo: The repository to use for the zenml server.</span>
<span class="sd">        zenmlserver_image_tag: The tag to use for the zenml server docker</span>
<span class="sd">            image.</span>
<span class="sd">        namespace: The Kubernetes namespace to deploy the ZenML server to.</span>
<span class="sd">        kubectl_config_path: The path to the kubectl config file to use for</span>
<span class="sd">            deployment.</span>
<span class="sd">        ingress_tls: Whether to use TLS for the ingress.</span>
<span class="sd">        ingress_tls_generate_certs: Whether to generate self-signed TLS</span>
<span class="sd">            certificates for the ingress.</span>
<span class="sd">        ingress_tls_secret_name: The name of the Kubernetes secret to use for</span>
<span class="sd">            the ingress.</span>
<span class="sd">        create_ingress_controller: Whether to deploy an nginx ingress</span>
<span class="sd">            controller as part of the deployment.</span>
<span class="sd">        ingress_controller_ip: The ingress controller IP to use for</span>
<span class="sd">            the ingress self-signed certificate and to compute the ZenML server</span>
<span class="sd">            URL.</span>
<span class="sd">        deploy_db: Whether to create a SQL database service as part of the recipe.</span>
<span class="sd">        database_username: The username for the database.</span>
<span class="sd">        database_password: The password for the database.</span>
<span class="sd">        database_url: The URL of the RDS instance to use for the ZenML server.</span>
<span class="sd">        database_ssl_ca: The path to the SSL CA certificate to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_cert: The path to the client SSL certificate to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_key: The path to the client SSL key to use for the</span>
<span class="sd">            database connection.</span>
<span class="sd">        database_ssl_verify_server_cert: Whether to verify the database server</span>
<span class="sd">            SSL certificate.</span>
<span class="sd">        analytics_opt_in: Whether to enable analytics.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;ERROR&quot;</span>

    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">helm_chart</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">get_helm_chart_path</span><span class="p">()</span>
    <span class="n">zenmlserver_image_repo</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmldocker/zenml-server&quot;</span>
    <span class="n">zenmlserver_image_tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;latest&quot;</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenmlserver&quot;</span>
    <span class="n">kubectl_config_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()),</span> <span class="s2">&quot;.kube&quot;</span><span class="p">,</span> <span class="s2">&quot;config&quot;</span>
    <span class="p">)</span>
    <span class="n">ingress_tls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ingress_tls_generate_certs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ingress_tls_secret_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;zenml-tls-certs&quot;</span>
    <span class="n">create_ingress_controller</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ingress_controller_ip</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">deploy_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">database_username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span>
    <span class="n">database_password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_ca</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_cert</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">database_ssl_verify_server_cert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">analytics_opt_in</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





























  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformServerDeploymentConfig.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration.&quot;&quot;&quot;</span>

    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer" class="doc doc-heading">
        <code>
TerraformZenServer            (<a class="autorefs autorefs-internal" title="zenml.services.terraform.terraform_service.TerraformService" href="../core-services/#zenml.services.terraform.terraform_service.TerraformService">TerraformService</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service that can be used to start a terraform ZenServer.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>TerraformZenServerConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>Optional[zenml.services.service_endpoint.BaseServiceEndpoint]</code></td>
        <td><p>service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformZenServer</span><span class="p">(</span><span class="n">TerraformService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Service that can be used to start a terraform ZenServer.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        endpoint: service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;terraform_zenml_server&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;zen_server&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;terraform&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Terraform ZenML server deployment&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">TerraformZenServerConfig</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;TerraformZenServer&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load and return the terraform ZenML server service, if present.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The terraform ZenML server service or None, if the terraform server</span>
<span class="sd">            deployment is not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">TERRAFORM_ZENML_SERVER_CONFIG_FILENAME</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                    <span class="n">TerraformZenServer</span><span class="p">,</span>
                    <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get variables as a dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of variables to use for the Terraform deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get the contents of the server deployment config as dict</span>
        <span class="n">filter_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;log_level&quot;</span><span class="p">,</span> <span class="s2">&quot;provider&quot;</span><span class="p">]</span>
        <span class="c1"># filter keys that are not modeled as terraform deployment vars</span>
        <span class="nb">vars</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">UUID</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">filter_vars</span>
        <span class="p">}</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">variables_file_path</span>
            <span class="p">),</span>
            <span class="s2">&quot;w&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="nb">vars</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">vars</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Your ZenML server is now deployed with URL:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_server_url</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_server_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the deployed ZenML server&#39;s URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL of the deployed ZenML server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
                <span class="n">TERRAFORM_DEPLOYED_ZENSERVER_OUTPUT_URL</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_certificate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the CA certificate configured for the ZenML server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The CA certificate configured for the ZenML server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
                <span class="n">TERRAFORM_DEPLOYED_ZENSERVER_OUTPUT_CA_CRT</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer.get_certificate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_certificate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the CA certificate configured for the ZenML server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The CA certificate configured for the ZenML server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_certificate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the CA certificate configured for the ZenML server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The CA certificate configured for the ZenML server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
            <span class="n">TERRAFORM_DEPLOYED_ZENSERVER_OUTPUT_CA_CRT</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer.get_server_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_server_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Returns the deployed ZenML server's URL.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The URL of the deployed ZenML server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_server_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the deployed ZenML server&#39;s URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URL of the deployed ZenML server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
            <span class="n">TERRAFORM_DEPLOYED_ZENSERVER_OUTPUT_URL</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer.get_service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Load and return the terraform ZenML server service, if present.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[TerraformZenServer]</code></td>
      <td><p>The terraform ZenML server service or None, if the terraform server
deployment is not found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_service</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;TerraformZenServer&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load and return the terraform ZenML server service, if present.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The terraform ZenML server service or None, if the terraform server</span>
<span class="sd">        deployment is not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ServiceRegistry</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">TERRAFORM_ZENML_SERVER_CONFIG_FILENAME</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">TerraformZenServer</span><span class="p">,</span>
                <span class="n">ServiceRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">load_service_from_json</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer.get_vars" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Get variables as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary of variables to use for the Terraform deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get variables as a dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of variables to use for the Terraform deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get the contents of the server deployment config as dict</span>
    <span class="n">filter_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;log_level&quot;</span><span class="p">,</span> <span class="s2">&quot;provider&quot;</span><span class="p">]</span>
    <span class="c1"># filter keys that are not modeled as terraform deployment vars</span>
    <span class="nb">vars</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">UUID</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">filter_vars</span>
    <span class="p">}</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">variables_file_path</span>
        <span class="p">),</span>
        <span class="s2">&quot;w&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="nb">vars</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">vars</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h7 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServer.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h7>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Your ZenML server is now deployed with URL:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_server_url</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.deploy.terraform.terraform_zen_server.TerraformZenServerConfig" class="doc doc-heading">
        <code>
TerraformZenServerConfig            (<a class="autorefs autorefs-internal" title="zenml.services.terraform.terraform_service.TerraformServiceConfig" href="../core-services/#zenml.services.terraform.terraform_service.TerraformServiceConfig">TerraformServiceConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Terraform Zen server configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server</code></td>
        <td><code>TerraformServerDeploymentConfig</code></td>
        <td><p>The deployment configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformZenServerConfig</span><span class="p">(</span><span class="n">TerraformServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform Zen server configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        server: The deployment configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">server</span><span class="p">:</span> <span class="n">TerraformServerDeploymentConfig</span>
    <span class="n">copy_terraform_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h6 id="zenml.zen_server.deploy.terraform.terraform_zen_server.get_helm_chart_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_helm_chart_path</span><span class="p">()</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the ZenML server helm chart path.</p>
<p>The ZenML server helm chart files are located in a folder relative to the
<code>zenml.zen_server.deploy</code> Python module.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The helm chart path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/deploy/terraform/terraform_zen_server.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_helm_chart_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the ZenML server helm chart path.</span>

<span class="sd">    The ZenML server helm chart files are located in a folder relative to the</span>
<span class="sd">    `zenml.zen_server.deploy` Python module.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The helm chart path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">zenml.zen_server.deploy</span> <span class="k">as</span> <span class="nn">deploy_module</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">deploy_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">),</span>
        <span class="n">ZENML_HELM_CHART_SUBPATH</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.exceptions" class="doc doc-heading">
        <code>exceptions</code>



</h3>

    <div class="doc doc-contents ">

      <p>REST API exception handling.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_server.exceptions.ErrorModel" class="doc doc-heading">
        <code>
ErrorModel            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Base class for error responses.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ErrorModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for error responses.&quot;&quot;&quot;</span>

    <span class="n">detail</span><span class="p">:</span> <span class="n">Any</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.exceptions.error_detail" class="doc doc-heading">
<code class="highlight language-python"><span class="n">error_detail</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">exception_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert an Exception to API representation.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>error</code></td>
        <td><code>Exception</code></td>
        <td><p>Exception to convert.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exception_type</code></td>
        <td><code>Optional[Type[Exception]]</code></td>
        <td><p>Exception type to use in the error response instead of
the type of the supplied exception. This is useful when the raised
exception is a subclass of an exception type that is properly
handled by the REST API.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of strings representing the error.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">error_detail</span><span class="p">(</span>
    <span class="n">error</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">exception_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an Exception to API representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        error: Exception to convert.</span>
<span class="sd">        exception_type: Exception type to use in the error response instead of</span>
<span class="sd">            the type of the supplied exception. This is useful when the raised</span>
<span class="sd">            exception is a subclass of an exception type that is properly</span>
<span class="sd">            handled by the REST API.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of strings representing the error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">class_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">exception_type</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">if</span> <span class="n">exception_type</span> <span class="k">else</span> <span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">class_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.exceptions.exception_from_response" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exception_from_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert an error HTTP response to an exception.</p>
<p>Uses the REST_API_EXCEPTIONS list to determine the appropriate exception
class to use based on the response status code and the exception class name
embedded in the response body.</p>
<p>The last entry in the list of exceptions associated with a status code is
used as a fallback if the exception class name in the response body is not
found in the list.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>response</code></td>
        <td><code>Response</code></td>
        <td><p>HTTP error response to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Exception]</code></td>
      <td><p>Exception with the appropriate type and arguments, or None if the
response does not contain an error or the response cannot be unpacked
into an exception.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exception_from_response</span><span class="p">(</span>
    <span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an error HTTP response to an exception.</span>

<span class="sd">    Uses the REST_API_EXCEPTIONS list to determine the appropriate exception</span>
<span class="sd">    class to use based on the response status code and the exception class name</span>
<span class="sd">    embedded in the response body.</span>

<span class="sd">    The last entry in the list of exceptions associated with a status code is</span>
<span class="sd">    used as a fallback if the exception class name in the response body is not</span>
<span class="sd">    found in the list.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: HTTP error response to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Exception with the appropriate type and arguments, or None if the</span>
<span class="sd">        response does not contain an error or the response cannot be unpacked</span>
<span class="sd">        into an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">unpack_exc</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Unpack the response body into an exception name and message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple of exception name and message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_json</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">detail</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;detail&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">detail</span> <span class="o">=</span> <span class="n">response_json</span>

        <span class="c1"># The detail can also be a single string</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">detail</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">detail</span>

        <span class="c1"># The detail should be a list of strings encoding the exception</span>
        <span class="c1"># class name and the exception message</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">detail</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

        <span class="c1"># First detail item is the exception class name</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">detail</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">detail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

        <span class="c1"># Remaining detail items are the exception arguments</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">detail</span><span class="p">[</span><span class="mi">1</span><span class="p">:]])</span>
        <span class="k">return</span> <span class="n">detail</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">message</span>

    <span class="n">exc_name</span><span class="p">,</span> <span class="n">exc_msg</span> <span class="o">=</span> <span class="n">unpack_exc</span><span class="p">()</span>
    <span class="n">default_exc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">exception</span><span class="p">,</span> <span class="n">status_code</span> <span class="ow">in</span> <span class="n">REST_API_EXCEPTIONS</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="n">status_code</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">default_exc</span> <span class="o">=</span> <span class="n">exception</span>
        <span class="k">if</span> <span class="n">exc_name</span> <span class="o">==</span> <span class="n">exception</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span>
            <span class="c1"># An entry was found that is an exact match for both the status</span>
            <span class="c1"># code and the exception class name.</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># The exception class name extracted from the response body was not</span>
        <span class="c1"># found in the list of exceptions associated with the status code, so</span>
        <span class="c1"># use the last entry as a fallback.</span>
        <span class="k">if</span> <span class="n">default_exc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">exception</span> <span class="o">=</span> <span class="n">default_exc</span>

    <span class="k">return</span> <span class="n">exception</span><span class="p">(</span><span class="n">exc_msg</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.exceptions.http_exception_from_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">http_exception_from_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Convert an Exception to a HTTP error response.</p>
<p>Uses the REST_API_EXCEPTIONS list to determine the appropriate status code
associated with the exception type. The exception class name and arguments
are embedded in the HTTP error response body.</p>
<p>The lookup uses the first occurrence of the exception type in the list. If
the exception type is not found in the list, the lookup uses <code>isinstance</code>
to determine the most specific exception type corresponding to the supplied
exception. This allows users to call this method with exception types that
are not directly listed in the REST_API_EXCEPTIONS list.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>error</code></td>
        <td><code>Exception</code></td>
        <td><p>Exception to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>HTTPException</code></td>
      <td><p>HTTPException with the appropriate status code and error detail.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/exceptions.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">http_exception_from_error</span><span class="p">(</span><span class="n">error</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;HTTPException&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an Exception to a HTTP error response.</span>

<span class="sd">    Uses the REST_API_EXCEPTIONS list to determine the appropriate status code</span>
<span class="sd">    associated with the exception type. The exception class name and arguments</span>
<span class="sd">    are embedded in the HTTP error response body.</span>

<span class="sd">    The lookup uses the first occurrence of the exception type in the list. If</span>
<span class="sd">    the exception type is not found in the list, the lookup uses `isinstance`</span>
<span class="sd">    to determine the most specific exception type corresponding to the supplied</span>
<span class="sd">    exception. This allows users to call this method with exception types that</span>
<span class="sd">    are not directly listed in the REST_API_EXCEPTIONS list.</span>

<span class="sd">    Args:</span>
<span class="sd">        error: Exception to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        HTTPException with the appropriate status code and error detail.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">HTTPException</span>

    <span class="n">status_code</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">matching_exception_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">exception_type</span><span class="p">,</span> <span class="n">exc_status_code</span> <span class="ow">in</span> <span class="n">REST_API_EXCEPTIONS</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">error</span><span class="o">.</span><span class="vm">__class__</span> <span class="ow">is</span> <span class="n">exception_type</span><span class="p">:</span>
            <span class="c1"># Found an exact match</span>
            <span class="n">matching_exception_type</span> <span class="o">=</span> <span class="n">exception_type</span>
            <span class="n">status_code</span> <span class="o">=</span> <span class="n">exc_status_code</span>
            <span class="k">break</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">exception_type</span><span class="p">):</span>
            <span class="c1"># Found a matching exception</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">matching_exception_type</span><span class="p">:</span>
                <span class="c1"># This is the first matching exception, so keep it</span>
                <span class="n">matching_exception_type</span> <span class="o">=</span> <span class="n">exception_type</span>
                <span class="n">status_code</span> <span class="o">=</span> <span class="n">exc_status_code</span>
                <span class="k">continue</span>

            <span class="c1"># This is not the first matching exception, so check if it is more</span>
            <span class="c1"># specific than the previous matching exception</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span>
                <span class="n">exception_type</span><span class="p">,</span>
                <span class="n">matching_exception_type</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="n">matching_exception_type</span> <span class="o">=</span> <span class="n">exception_type</span>
                <span class="n">status_code</span> <span class="o">=</span> <span class="n">exc_status_code</span>

    <span class="c1"># When the matching exception is not found in the list, a 500 Internal</span>
    <span class="c1"># Server Error is returned</span>
    <span class="n">status_code</span> <span class="o">=</span> <span class="n">status_code</span> <span class="ow">or</span> <span class="mi">500</span>
    <span class="n">matching_exception_type</span> <span class="o">=</span> <span class="n">matching_exception_type</span> <span class="ow">or</span> <span class="ne">RuntimeError</span>

    <span class="k">return</span> <span class="n">HTTPException</span><span class="p">(</span>
        <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
        <span class="n">detail</span><span class="o">=</span><span class="n">error_detail</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">matching_exception_type</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.jwt" class="doc doc-heading">
        <code>jwt</code>



</h3>

    <div class="doc doc-contents ">

      <p>Authentication module for ZenML server.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_server.jwt.JWTToken" class="doc doc-heading">
        <code>
JWTToken            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Pydantic object representing a JWT token.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the authenticated User.</p></td>
      </tr>
      <tr>
        <td><code>device_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The id of the authenticated device.</p></td>
      </tr>
      <tr>
        <td><code>api_key_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The id of the authenticated API key for which this token
was issued.</p></td>
      </tr>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The id of the pipeline for which the token was issued.</p></td>
      </tr>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The id of the schedule for which the token was issued.</p></td>
      </tr>
      <tr>
        <td><code>claims</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The original token claims.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/jwt.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JWTToken</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic object representing a JWT token.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        user_id: The id of the authenticated User.</span>
<span class="sd">        device_id: The id of the authenticated device.</span>
<span class="sd">        api_key_id: The id of the authenticated API key for which this token</span>
<span class="sd">            was issued.</span>
<span class="sd">        pipeline_id: The id of the pipeline for which the token was issued.</span>
<span class="sd">        schedule_id: The id of the schedule for which the token was issued.</span>
<span class="sd">        claims: The original token claims.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="n">device_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">api_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">claims</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">decode_token</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JWTToken&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Decodes a JWT access token.</span>

<span class="sd">        Decodes a JWT access token and returns a `JWTToken` object with the</span>
<span class="sd">        information retrieved from its subject claim.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: The encoded JWT token.</span>
<span class="sd">            verify: Whether to verify the signature of the token.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The decoded JWT access token.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the token is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">claims_data</span> <span class="o">=</span> <span class="n">jwt</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span>
                <span class="n">token</span><span class="p">,</span>
                <span class="n">config</span><span class="o">.</span><span class="n">jwt_secret_key</span><span class="p">,</span>
                <span class="n">algorithms</span><span class="o">=</span><span class="p">[</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_algorithm</span><span class="p">],</span>
                <span class="n">audience</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_audience</span><span class="p">(),</span>
                <span class="n">issuer</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_issuer</span><span class="p">(),</span>
                <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
                <span class="n">leeway</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_leeway_seconds</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">claims</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">claims_data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">jwt</span><span class="o">.</span><span class="n">PyJWTError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid JWT token: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">claims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sub&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">subject</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the subject claim is missing&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the subject claim is not a valid UUID&quot;</span>
            <span class="p">)</span>

        <span class="n">device_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;device_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">device_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;device_id&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid JWT token: the device_id claim is not a valid &quot;</span>
                    <span class="s2">&quot;UUID&quot;</span>
                <span class="p">)</span>

        <span class="n">api_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;api_key_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">api_key_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;api_key_id&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid JWT token: the api_key_id claim is not a valid &quot;</span>
                    <span class="s2">&quot;UUID&quot;</span>
                <span class="p">)</span>

        <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;pipeline_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pipeline_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid JWT token: the pipeline_id claim is not a valid &quot;</span>
                    <span class="s2">&quot;UUID&quot;</span>
                <span class="p">)</span>

        <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;schedule_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">schedule_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid JWT token: the schedule_id claim is not a valid &quot;</span>
                    <span class="s2">&quot;UUID&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">JWTToken</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span>
            <span class="n">api_key_id</span><span class="o">=</span><span class="n">api_key_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">schedule_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a JWT access token.</span>

<span class="sd">        Encodes, signs and returns a JWT access token.</span>

<span class="sd">        Args:</span>
<span class="sd">            expires: Datetime after which the token will expire. If not</span>
<span class="sd">                provided, the JWT token will not be set to expire.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The generated access token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

        <span class="n">claims</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">sub</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iss&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_issuer</span><span class="p">()</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;aud&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_audience</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">expires</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expires</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_id</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;device_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;api_key_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">:</span>
            <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">)</span>

        <span class="c1"># Apply custom claims</span>
        <span class="n">claims</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claims</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">jwt</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="n">claims</span><span class="p">,</span>
            <span class="n">config</span><span class="o">.</span><span class="n">jwt_secret_key</span><span class="p">,</span>
            <span class="n">algorithm</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_algorithm</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_server.jwt.JWTToken.decode_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decode_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Decodes a JWT access token.</p>
<p>Decodes a JWT access token and returns a <code>JWTToken</code> object with the
information retrieved from its subject claim.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>str</code></td>
        <td><p>The encoded JWT token.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>verify</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to verify the signature of the token.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>JWTToken</code></td>
      <td><p>The decoded JWT access token.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the token is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/jwt.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">decode_token</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;JWTToken&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decodes a JWT access token.</span>

<span class="sd">    Decodes a JWT access token and returns a `JWTToken` object with the</span>
<span class="sd">    information retrieved from its subject claim.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: The encoded JWT token.</span>
<span class="sd">        verify: Whether to verify the signature of the token.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The decoded JWT access token.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the token is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">claims_data</span> <span class="o">=</span> <span class="n">jwt</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span>
            <span class="n">token</span><span class="p">,</span>
            <span class="n">config</span><span class="o">.</span><span class="n">jwt_secret_key</span><span class="p">,</span>
            <span class="n">algorithms</span><span class="o">=</span><span class="p">[</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_algorithm</span><span class="p">],</span>
            <span class="n">audience</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_audience</span><span class="p">(),</span>
            <span class="n">issuer</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_issuer</span><span class="p">(),</span>
            <span class="n">verify</span><span class="o">=</span><span class="n">verify</span><span class="p">,</span>
            <span class="n">leeway</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_leeway_seconds</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">claims</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">claims_data</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">jwt</span><span class="o">.</span><span class="n">PyJWTError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid JWT token: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">claims</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sub&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">subject</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Invalid JWT token: the subject claim is missing&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Invalid JWT token: the subject claim is not a valid UUID&quot;</span>
        <span class="p">)</span>

    <span class="n">device_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="s2">&quot;device_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">device_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;device_id&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the device_id claim is not a valid &quot;</span>
                <span class="s2">&quot;UUID&quot;</span>
            <span class="p">)</span>

    <span class="n">api_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="s2">&quot;api_key_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">api_key_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;api_key_id&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the api_key_id claim is not a valid &quot;</span>
                <span class="s2">&quot;UUID&quot;</span>
            <span class="p">)</span>

    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="s2">&quot;pipeline_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pipeline_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the pipeline_id claim is not a valid &quot;</span>
                <span class="s2">&quot;UUID&quot;</span>
            <span class="p">)</span>

    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="s2">&quot;schedule_id&quot;</span> <span class="ow">in</span> <span class="n">claims</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">schedule_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">claims</span><span class="p">[</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Invalid JWT token: the schedule_id claim is not a valid &quot;</span>
                <span class="s2">&quot;UUID&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">JWTToken</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span>
        <span class="n">api_key_id</span><span class="o">=</span><span class="n">api_key_id</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">claims</span><span class="o">=</span><span class="n">claims</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_server.jwt.JWTToken.encode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expires</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a JWT access token.</p>
<p>Encodes, signs and returns a JWT access token.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>expires</code></td>
        <td><code>Optional[datetime.datetime]</code></td>
        <td><p>Datetime after which the token will expire. If not
provided, the JWT token will not be set to expire.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The generated access token.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/jwt.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a JWT access token.</span>

<span class="sd">    Encodes, signs and returns a JWT access token.</span>

<span class="sd">    Args:</span>
<span class="sd">        expires: Datetime after which the token will expire. If not</span>
<span class="sd">            provided, the JWT token will not be set to expire.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated access token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

    <span class="n">claims</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">sub</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;iss&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_issuer</span><span class="p">()</span>
    <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;aud&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_jwt_token_audience</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">expires</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;exp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expires</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">device_id</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;device_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">device_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;api_key_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">:</span>
        <span class="n">claims</span><span class="p">[</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">)</span>

    <span class="c1"># Apply custom claims</span>
    <span class="n">claims</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">claims</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">jwt</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">claims</span><span class="p">,</span>
        <span class="n">config</span><span class="o">.</span><span class="n">jwt_secret_key</span><span class="p">,</span>
        <span class="n">algorithm</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_algorithm</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.rbac" class="doc doc-heading">
        <code>rbac</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>RBAC definitions.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.rbac.endpoint_utils" class="doc doc-heading">
        <code>endpoint_utils</code>



</h4>

    <div class="doc doc-contents ">

      <p>High-level helper functions to write endpoints with RBAC.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel]" class="doc doc-heading">
        <code>
Page[AnyResponseModel]            (<a class="autorefs autorefs-internal" title="zenml.models.v2.base.page.Page" href="../core-models/#zenml.models.v2.base.page.Page">Page</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">





  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># This is needed to allow the REST API server to unpack SecretStr</span>
    <span class="c1"># values correctly before sending them to the client.</span>
    <span class="n">json_encoders</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">SecretStr</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel].__json_encoder__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__json_encoder__</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>partial(func, <em>args, </em>*keywords) - new function with partial application
of the given arguments and keywords.</p>

    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_create_entity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permissions_and_create_entity</span><span class="p">(</span><span class="n">request_model</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">create_method</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify permissions and create the entity if authorized.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request_model</code></td>
        <td><code>~AnyRequestModel</code></td>
        <td><p>The entity request model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>ResourceType</code></td>
        <td><p>The resource type of the entity to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>create_method</code></td>
        <td><code>Callable[[~AnyRequestModel], ~AnyResponseModel]</code></td>
        <td><p>The method to create the entity.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the request model has a different owner then
the currently authenticated user.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyResponseModel</code></td>
      <td><p>A model of the created entity.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permissions_and_create_entity</span><span class="p">(</span>
    <span class="n">request_model</span><span class="p">:</span> <span class="n">AnyRequestModel</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">ResourceType</span><span class="p">,</span>
    <span class="n">create_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">AnyRequestModel</span><span class="p">],</span> <span class="n">AnyResponseModel</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify permissions and create the entity if authorized.</span>

<span class="sd">    Args:</span>
<span class="sd">        request_model: The entity request model.</span>
<span class="sd">        resource_type: The resource type of the entity to create.</span>
<span class="sd">        create_method: The method to create the entity.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the request model has a different owner then</span>
<span class="sd">            the currently authenticated user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A model of the created entity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">request_model</span><span class="p">,</span> <span class="p">(</span><span class="n">UserScopedRequest</span><span class="p">,</span> <span class="n">UserScopedRequestModel</span><span class="p">)):</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
        <span class="k">assert</span> <span class="n">auth_context</span>

        <span class="k">if</span> <span class="n">request_model</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Not allowed to create resource &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; for a &quot;</span>
                <span class="s2">&quot;different user.&quot;</span>
            <span class="p">)</span>

    <span class="n">verify_permission</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CREATE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">create_method</span><span class="p">(</span><span class="n">request_model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_delete_entity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">get_method</span><span class="p">,</span> <span class="n">delete_method</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify permissions and delete an entity.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>id</code></td>
        <td><code>~UUIDOrStr</code></td>
        <td><p>The ID of the entity to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>get_method</code></td>
        <td><code>Callable[[~UUIDOrStr], ~AnyResponseModel]</code></td>
        <td><p>The method to fetch the entity.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>delete_method</code></td>
        <td><code>Callable[[~UUIDOrStr], NoneType]</code></td>
        <td><p>The method to delete the entity.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permissions_and_delete_entity</span><span class="p">(</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">UUIDOrStr</span><span class="p">,</span>
    <span class="n">get_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">UUIDOrStr</span><span class="p">],</span> <span class="n">AnyResponseModel</span><span class="p">],</span>
    <span class="n">delete_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">UUIDOrStr</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify permissions and delete an entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        id: The ID of the entity to delete.</span>
<span class="sd">        get_method: The method to fetch the entity.</span>
<span class="sd">        delete_method: The method to delete the entity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_method</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">DELETE</span><span class="p">)</span>
    <span class="n">delete_method</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_get_entity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permissions_and_get_entity</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">get_method</span><span class="p">,</span> <span class="o">**</span><span class="n">get_method_kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify permissions and fetch an entity.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>id</code></td>
        <td><code>~UUIDOrStr</code></td>
        <td><p>The ID of the entity to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>get_method</code></td>
        <td><code>Callable[[~UUIDOrStr], ~AnyResponseModel]</code></td>
        <td><p>The method to fetch the entity.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>get_method_kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments to pass to the get method.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyResponseModel</code></td>
      <td><p>A model of the fetched entity.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permissions_and_get_entity</span><span class="p">(</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">UUIDOrStr</span><span class="p">,</span>
    <span class="n">get_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">UUIDOrStr</span><span class="p">],</span> <span class="n">AnyResponseModel</span><span class="p">],</span>
    <span class="o">**</span><span class="n">get_method_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify permissions and fetch an entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        id: The ID of the entity to fetch.</span>
<span class="sd">        get_method: The method to fetch the entity.</span>
<span class="sd">        get_method_kwargs: Keyword arguments to pass to the get method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A model of the fetched entity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_method</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="o">**</span><span class="n">get_method_kwargs</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_list_entities" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permissions_and_list_entities</span><span class="p">(</span><span class="n">filter_model</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">list_method</span><span class="p">,</span> <span class="o">**</span><span class="n">list_method_kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify permissions and list entities.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>~AnyFilterModel</code></td>
        <td><p>The entity filter model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>ResourceType</code></td>
        <td><p>The resource type of the entities to list.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_method</code></td>
        <td><code>Callable[[~AnyFilterModel], zenml.zen_server.rbac.endpoint_utils.Page[AnyResponseModel]]</code></td>
        <td><p>The method to list the entities.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_method_kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments to pass to the list method.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[AnyResponseModel]</code></td>
      <td><p>A page of entity models.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permissions_and_list_entities</span><span class="p">(</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">AnyFilterModel</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">ResourceType</span><span class="p">,</span>
    <span class="n">list_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">AnyFilterModel</span><span class="p">],</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]],</span>
    <span class="o">**</span><span class="n">list_method_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify permissions and list entities.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: The entity filter model.</span>
<span class="sd">        resource_type: The resource type of the entities to list.</span>
<span class="sd">        list_method: The method to list the entities.</span>
<span class="sd">        list_method_kwargs: Keyword arguments to pass to the list method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of entity models.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">auth_context</span>

    <span class="n">allowed_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
    <span class="n">filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">allowed_ids</span>
    <span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">list_method</span><span class="p">(</span><span class="n">filter_model</span><span class="p">,</span> <span class="o">**</span><span class="n">list_method_kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.endpoint_utils.verify_permissions_and_update_entity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permissions_and_update_entity</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">update_model</span><span class="p">,</span> <span class="n">get_method</span><span class="p">,</span> <span class="n">update_method</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify permissions and update an entity.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>id</code></td>
        <td><code>~UUIDOrStr</code></td>
        <td><p>The ID of the entity to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update_model</code></td>
        <td><code>~AnyUpdateModel</code></td>
        <td><p>The entity update model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>get_method</code></td>
        <td><code>Callable[[~UUIDOrStr], ~AnyResponseModel]</code></td>
        <td><p>The method to fetch the entity.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update_method</code></td>
        <td><code>Callable[[~UUIDOrStr, ~AnyUpdateModel], ~AnyResponseModel]</code></td>
        <td><p>The method to update the entity.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyResponseModel</code></td>
      <td><p>A model of the updated entity.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/endpoint_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permissions_and_update_entity</span><span class="p">(</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">UUIDOrStr</span><span class="p">,</span>
    <span class="n">update_model</span><span class="p">:</span> <span class="n">AnyUpdateModel</span><span class="p">,</span>
    <span class="n">get_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">UUIDOrStr</span><span class="p">],</span> <span class="n">AnyResponseModel</span><span class="p">],</span>
    <span class="n">update_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">UUIDOrStr</span><span class="p">,</span> <span class="n">AnyUpdateModel</span><span class="p">],</span> <span class="n">AnyResponseModel</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify permissions and update an entity.</span>

<span class="sd">    Args:</span>
<span class="sd">        id: The ID of the entity to update.</span>
<span class="sd">        update_model: The entity update model.</span>
<span class="sd">        get_method: The method to fetch the entity.</span>
<span class="sd">        update_method: The method to update the entity.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A model of the updated entity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">get_method</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="n">updated_model</span> <span class="o">=</span> <span class="n">update_method</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">update_model</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.rbac.models" class="doc doc-heading">
        <code>models</code>



</h4>

    <div class="doc doc-contents ">

      <p>RBAC model classes.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.models.Action" class="doc doc-heading">
        <code>
Action            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>RBAC actions.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Action</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RBAC actions.&quot;&quot;&quot;</span>

    <span class="n">CREATE</span> <span class="o">=</span> <span class="s2">&quot;create&quot;</span>
    <span class="n">READ</span> <span class="o">=</span> <span class="s2">&quot;read&quot;</span>
    <span class="n">UPDATE</span> <span class="o">=</span> <span class="s2">&quot;update&quot;</span>
    <span class="n">DELETE</span> <span class="o">=</span> <span class="s2">&quot;delete&quot;</span>
    <span class="n">READ_SECRET_VALUE</span> <span class="o">=</span> <span class="s2">&quot;read_secret_value&quot;</span>

    <span class="c1"># Service connectors</span>
    <span class="n">CLIENT</span> <span class="o">=</span> <span class="s2">&quot;client&quot;</span>

    <span class="c1"># Models</span>
    <span class="n">PROMOTE</span> <span class="o">=</span> <span class="s2">&quot;promote&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.models.Resource" class="doc doc-heading">
        <code>
Resource            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>RBAC resource model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Resource</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RBAC resource model.&quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert to a string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Resource string representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">representation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">representation</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">representation</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="n">frozen</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.rbac.models.Resource.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="n">frozen</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.models.Resource.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert to a string.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Resource string representation.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert to a string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Resource string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">representation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">representation</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">representation</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.models.ResourceType" class="doc doc-heading">
        <code>
ResourceType            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Resource types of the server API.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/models.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ResourceType</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resource types of the server API.&quot;&quot;&quot;</span>

    <span class="n">STACK</span> <span class="o">=</span> <span class="s2">&quot;stack&quot;</span>
    <span class="n">FLAVOR</span> <span class="o">=</span> <span class="s2">&quot;flavor&quot;</span>
    <span class="n">STACK_COMPONENT</span> <span class="o">=</span> <span class="s2">&quot;stack_component&quot;</span>
    <span class="n">PIPELINE</span> <span class="o">=</span> <span class="s2">&quot;pipeline&quot;</span>
    <span class="n">CODE_REPOSITORY</span> <span class="o">=</span> <span class="s2">&quot;code_repository&quot;</span>
    <span class="n">MODEL</span> <span class="o">=</span> <span class="s2">&quot;model&quot;</span>
    <span class="n">MODEL_VERSION</span> <span class="o">=</span> <span class="s2">&quot;model_version&quot;</span>
    <span class="n">SERVICE_CONNECTOR</span> <span class="o">=</span> <span class="s2">&quot;service_connector&quot;</span>
    <span class="n">ARTIFACT</span> <span class="o">=</span> <span class="s2">&quot;artifact&quot;</span>
    <span class="n">ARTIFACT_VERSION</span> <span class="o">=</span> <span class="s2">&quot;artifact_version&quot;</span>
    <span class="n">SECRET</span> <span class="o">=</span> <span class="s2">&quot;secret&quot;</span>
    <span class="n">TAG</span> <span class="o">=</span> <span class="s2">&quot;tag&quot;</span>
    <span class="n">SERVICE_ACCOUNT</span> <span class="o">=</span> <span class="s2">&quot;service_account&quot;</span>
    <span class="n">WORKSPACE</span> <span class="o">=</span> <span class="s2">&quot;workspace&quot;</span>
    <span class="n">PIPELINE_RUN</span> <span class="o">=</span> <span class="s2">&quot;pipeline_run&quot;</span>
    <span class="n">PIPELINE_DEPLOYMENT</span> <span class="o">=</span> <span class="s2">&quot;pipeline_deployment&quot;</span>
    <span class="n">PIPELINE_BUILD</span> <span class="o">=</span> <span class="s2">&quot;pipeline_build&quot;</span>
    <span class="n">RUN_METADATA</span> <span class="o">=</span> <span class="s2">&quot;run_metadata&quot;</span>
    <span class="n">USER</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.rbac.rbac_interface" class="doc doc-heading">
        <code>rbac_interface</code>



</h4>

    <div class="doc doc-contents ">

      <p>RBAC interface definition.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.rbac_interface.RBACInterface" class="doc doc-heading">
        <code>
RBACInterface            (<span title="abc.ABC">ABC</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>RBAC interface definition.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/rbac_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RBACInterface</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RBAC interface definition.&quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">check_permissions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Resource</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if a user has permissions to perform an action on resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User which wants to access a resource.</span>
<span class="sd">            resources: The resources the user wants to access.</span>
<span class="sd">            action: The action that the user wants to perform on the resources.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary mapping resources to a boolean which indicates whether</span>
<span class="sd">            the user has permissions to perform the action on that resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_allowed_resource_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lists all resource IDs of a resource type that a user can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User which wants to access a resource.</span>
<span class="sd">            resource: The resource the user wants to access.</span>
<span class="sd">            action: The action that the user wants to perform on the resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple (full_resource_access, resource_ids).</span>
<span class="sd">            `full_resource_access` will be `True` if the user can perform the</span>
<span class="sd">            given action on any instance of the given resource type, `False`</span>
<span class="sd">            otherwise. If `full_resource_access` is `False`, `resource_ids`</span>
<span class="sd">            will contain the list of instance IDs that the user can perform</span>
<span class="sd">            the action on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.rbac_interface.RBACInterface.check_permissions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if a user has permissions to perform an action on resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserResponse</code></td>
        <td><p>User which wants to access a resource.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resources</code></td>
        <td><code>Set[zenml.zen_server.rbac.models.Resource]</code></td>
        <td><p>The resources the user wants to access.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action that the user wants to perform on the resources.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[zenml.zen_server.rbac.models.Resource, bool]</code></td>
      <td><p>A dictionary mapping resources to a boolean which indicates whether
the user has permissions to perform the action on that resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/rbac_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">check_permissions</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Resource</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a user has permissions to perform an action on resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User which wants to access a resource.</span>
<span class="sd">        resources: The resources the user wants to access.</span>
<span class="sd">        action: The action that the user wants to perform on the resources.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary mapping resources to a boolean which indicates whether</span>
<span class="sd">        the user has permissions to perform the action on that resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.rbac_interface.RBACInterface.list_allowed_resource_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_allowed_resource_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Lists all resource IDs of a resource type that a user can access.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserResponse</code></td>
        <td><p>User which wants to access a resource.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource</code></td>
        <td><code>Resource</code></td>
        <td><p>The resource the user wants to access.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action that the user wants to perform on the resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, List[str]]</code></td>
      <td><p>A tuple (full_resource_access, resource_ids).
<code>full_resource_access</code> will be <code>True</code> if the user can perform the
given action on any instance of the given resource type, <code>False</code>
otherwise. If <code>full_resource_access</code> is <code>False</code>, <code>resource_ids</code>
will contain the list of instance IDs that the user can perform
the action on.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/rbac_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_allowed_resource_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists all resource IDs of a resource type that a user can access.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User which wants to access a resource.</span>
<span class="sd">        resource: The resource the user wants to access.</span>
<span class="sd">        action: The action that the user wants to perform on the resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple (full_resource_access, resource_ids).</span>
<span class="sd">        `full_resource_access` will be `True` if the user can perform the</span>
<span class="sd">        given action on any instance of the given resource type, `False`</span>
<span class="sd">        otherwise. If `full_resource_access` is `False`, `resource_ids`</span>
<span class="sd">        will contain the list of instance IDs that the user can perform</span>
<span class="sd">        the action on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.rbac.utils" class="doc doc-heading">
        <code>utils</code>



</h4>

    <div class="doc doc-contents ">

      <p>RBAC utility functions.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.utils.BaseResponse[Any, Any]" class="doc doc-heading">
        <code>
BaseResponse[Any, Any]            (<a class="autorefs autorefs-internal" title="zenml.models.v2.base.base.BaseResponse" href="../core-models/#zenml.models.v2.base.base.BaseResponse">BaseResponse</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">





  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.rbac.utils.BaseResponse[Any, Any].Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># This is needed to allow the REST client and server to unpack SecretStr</span>
    <span class="c1"># values correctly.</span>
    <span class="n">json_encoders</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">SecretStr</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>

    <span class="c1"># Allow extras on all models to support forwards and backwards</span>
    <span class="c1"># compatibility (e.g. new fields in newer versions of ZenML servers</span>
    <span class="c1"># are allowed to be present in older versions of ZenML clients and</span>
    <span class="c1"># vice versa).</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.utils.BaseResponse[Any, Any].__json_encoder__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__json_encoder__</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>partial(func, <em>args, </em>*keywords) - new function with partial application
of the given arguments and keywords.</p>

    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.utils.Page[AnyResponseModel]" class="doc doc-heading">
        <code>
Page[AnyResponseModel]            (<a class="autorefs autorefs-internal" title="zenml.models.v2.base.page.Page" href="../core-models/#zenml.models.v2.base.page.Page">Page</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">





  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.rbac.utils.Page[AnyResponseModel].Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># This is needed to allow the REST API server to unpack SecretStr</span>
    <span class="c1"># values correctly before sending them to the client.</span>
    <span class="n">json_encoders</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">SecretStr</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.utils.Page[AnyResponseModel].__json_encoder__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__json_encoder__</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>partial(func, <em>args, </em>*keywords) - new function with partial application
of the given arguments and keywords.</p>

    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.batch_verify_permissions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">batch_verify_permissions</span><span class="p">(</span><span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Batch permission verification.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resources</code></td>
        <td><code>Set[zenml.zen_server.rbac.models.Resource]</code></td>
        <td><p>The resources the user wants to perform the action on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the user is not allowed to perform the action.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the permission verification failed unexpectedly.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">batch_verify_permissions</span><span class="p">(</span>
    <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Batch permission verification.</span>

<span class="sd">    Args:</span>
<span class="sd">        resources: The resources the user wants to perform the action on.</span>
<span class="sd">        action: The action the user wants to perform.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the user is not allowed to perform the action.</span>
<span class="sd">        RuntimeError: If the permission verification failed unexpectedly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_enabled</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">auth_context</span>

    <span class="n">permissions</span> <span class="o">=</span> <span class="n">rbac</span><span class="p">()</span><span class="o">.</span><span class="n">check_permissions</span><span class="p">(</span>
        <span class="n">user</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">resource</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">permissions</span><span class="p">:</span>
            <span class="c1"># This should never happen if the RBAC implementation is working</span>
            <span class="c1"># correctly</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to verify permissions to </span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> resource &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">permissions</span><span class="p">[</span><span class="n">resource</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Insufficient permissions to </span><span class="si">{</span><span class="n">action</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource &#39;</span><span class="si">{</span><span class="n">resource</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.batch_verify_permissions_for_models" class="doc doc-heading">
<code class="highlight language-python"><span class="n">batch_verify_permissions_for_models</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Batch permission verification for models.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>models</code></td>
        <td><code>Sequence[~AnyResponseModel]</code></td>
        <td><p>The models the user wants to perform the action on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">batch_verify_permissions_for_models</span><span class="p">(</span>
    <span class="n">models</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Batch permission verification for models.</span>

<span class="sd">    Args:</span>
<span class="sd">        models: The models the user wants to perform the action on.</span>
<span class="sd">        action: The action the user wants to perform.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_enabled</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_owned_by_authenticated_user</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
            <span class="c1"># The model owner always has permissions</span>
            <span class="k">continue</span>

        <span class="n">permission_model</span> <span class="o">=</span> <span class="n">get_surrogate_permission_model_for_model</span><span class="p">(</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource</span> <span class="o">:=</span> <span class="n">get_resource_for_model</span><span class="p">(</span><span class="n">permission_model</span><span class="p">):</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>

    <span class="n">batch_verify_permissions</span><span class="p">(</span><span class="n">resources</span><span class="o">=</span><span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.dehydrate_page" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dehydrate_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Dehydrate all items of a page.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>page</code></td>
        <td><code>Page[AnyResponseModel]</code></td>
        <td><p>The page to dehydrate.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[AnyResponseModel]</code></td>
      <td><p>The page with (potentially) dehydrated items.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dehydrate_page</span><span class="p">(</span>
    <span class="n">page</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dehydrate all items of a page.</span>

<span class="sd">    Args:</span>
<span class="sd">        page: The page to dehydrate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The page with (potentially) dehydrated items.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_enabled</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">page</span>

    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">auth_context</span>

    <span class="n">resource_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_subresources_for_model</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">items</span><span class="p">]</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="n">resource_list</span><span class="p">)</span> <span class="k">if</span> <span class="n">resource_list</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">permissions</span> <span class="o">=</span> <span class="n">rbac</span><span class="p">()</span><span class="o">.</span><span class="n">check_permissions</span><span class="p">(</span>
        <span class="n">user</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span>
    <span class="p">)</span>

    <span class="n">new_items</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="n">permissions</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">items</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">page</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="n">new_items</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.dehydrate_response_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Dehydrate a model if necessary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyModel</code></td>
        <td><p>The model to dehydrate.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>permissions</code></td>
        <td><code>Optional[Dict[zenml.zen_server.rbac.models.Resource, bool]]</code></td>
        <td><p>Prefetched permissions that will be used to check whether
sub-models will be included in the model or not. If a sub-model
refers to a resource which is not included in this dictionary, the
permissions will be checked with the RBAC component.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyModel</code></td>
      <td><p>The (potentially) dehydrated model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dehydrate_response_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyModel</span><span class="p">,</span> <span class="n">permissions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Resource</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dehydrate a model if necessary.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model to dehydrate.</span>
<span class="sd">        permissions: Prefetched permissions that will be used to check whether</span>
<span class="sd">            sub-models will be included in the model or not. If a sub-model</span>
<span class="sd">            refers to a resource which is not included in this dictionary, the</span>
<span class="sd">            permissions will be checked with the RBAC component.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The (potentially) dehydrated model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_enabled</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">model</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">permissions</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
        <span class="k">assert</span> <span class="n">auth_context</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="n">get_subresources_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">permissions</span> <span class="o">=</span> <span class="n">rbac</span><span class="p">()</span><span class="o">.</span><span class="n">check_permissions</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span>
        <span class="p">)</span>

    <span class="n">dehydrated_values</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="p">:</span>
            <span class="n">dehydrated_values</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dehydrated_values</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">_dehydrate_value</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="n">permissions</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">dehydrated_values</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_allowed_resource_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">action</span><span class="o">=&lt;</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">:</span> <span class="s1">&#39;read&#39;</span><span class="o">&gt;</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get all resource IDs of a resource type that a user can access.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>str</code></td>
        <td><p>The resource type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform on the resource.</p></td>
        <td><code>&lt;Action.READ: &#39;read&#39;&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Set[uuid.UUID]]</code></td>
      <td><p>A list of resource IDs or <code>None</code> if the user has full access to the
all instances of the resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_allowed_resource_ids</span><span class="p">(</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Action</span> <span class="o">=</span> <span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">UUID</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all resource IDs of a resource type that a user can access.</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type: The resource type.</span>
<span class="sd">        action: The action the user wants to perform on the resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of resource IDs or `None` if the user has full access to the</span>
<span class="sd">        all instances of the resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_enabled</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">auth_context</span>

    <span class="p">(</span>
        <span class="n">has_full_resource_access</span><span class="p">,</span>
        <span class="n">allowed_ids</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">rbac</span><span class="p">()</span><span class="o">.</span><span class="n">list_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">user</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">Resource</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">),</span>
        <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">has_full_resource_access</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">UUID</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">allowed_ids</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_permission_denied_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_permission_denied_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a model to return in case of missing read permissions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The original model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyResponseModel</code></td>
      <td><p>The permission denied model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_permission_denied_model</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a model to return in case of missing read permissions.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The original model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The permission denied model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">BaseResponse</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">AnyResponseModel</span><span class="p">,</span> <span class="n">get_permission_denied_model_v2</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">AnyResponseModel</span><span class="p">,</span>
            <span class="n">get_permission_denied_model_v1</span><span class="p">(</span><span class="n">cast</span><span class="p">(</span><span class="n">BaseResponseModel</span><span class="p">,</span> <span class="n">model</span><span class="p">)),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_permission_denied_model_v1" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_permission_denied_model_v1</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">keep_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_name</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a V1 model to return in case of missing read permissions.</p>
<p>This function replaces all attributes except name and ID in the given model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyOldResponseModel</code></td>
        <td><p>The original model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>keep_id</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the model ID will not be replaced.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>keep_name</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the model name will not be replaced.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyOldResponseModel</code></td>
      <td><p>The model with attribute values replaced by default values.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_permission_denied_model_v1</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyOldResponseModel</span><span class="p">,</span> <span class="n">keep_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">keep_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyOldResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a V1 model to return in case of missing read permissions.</span>

<span class="sd">    This function replaces all attributes except name and ID in the given model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The original model.</span>
<span class="sd">        keep_id: If `True`, the model ID will not be replaced.</span>
<span class="sd">        keep_name: If `True`, the model name will not be replaced.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model with attribute values replaced by default values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">field_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">keep_id</span> <span class="ow">and</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">keep_name</span> <span class="ow">and</span> <span class="n">field_name</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">field</span><span class="o">.</span><span class="n">allow_none</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseResponseModel</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">get_permission_denied_model_v1</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span> <span class="n">keep_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keep_name</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseResponse</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">get_permission_denied_model_v2</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
            <span class="c1"># TODO: handle enums in a more sensible way</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">type_</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="c1"># For the remaining cases (dict, list, set, tuple, int, float, str),</span>
            <span class="c1"># simply return an empty value</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">type_</span><span class="p">()</span>

        <span class="n">values</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="n">values</span><span class="p">[</span><span class="s2">&quot;missing_permissions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_permission_denied_model_v2" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_permission_denied_model_v2</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a V2 model to return in case of missing read permissions.</p>
<p>This function removes the body and metadata of the model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyNewResponseModel</code></td>
        <td><p>The original model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~AnyNewResponseModel</code></td>
      <td><p>The model with body and metadata removed.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_permission_denied_model_v2</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyNewResponseModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyNewResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a V2 model to return in case of missing read permissions.</span>

<span class="sd">    This function removes the body and metadata of the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The original model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model with body and metadata removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
        <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">},</span> <span class="n">update</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;permission_denied&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_resource_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resource_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the resource associated with a model object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The model for which to get the resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.zen_server.rbac.models.Resource]</code></td>
      <td><p>The resource associated with the model, or <code>None</code> if the model
is not associated with any resource type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resource_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Resource</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the resource associated with a model object.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model for which to get the resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resource associated with the model, or `None` if the model</span>
<span class="sd">        is not associated with any resource type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resource_type</span> <span class="o">=</span> <span class="n">get_resource_type_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="c1"># This model is not tied to any RBAC resource type</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">Resource</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_resource_type_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resource_type_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the resource type associated with a model object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The model for which to get the resource type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.zen_server.rbac.models.ResourceType]</code></td>
      <td><p>The resource type associated with the model, or <code>None</code> if the model
is not associated with any resource type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resource_type_for_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResourceType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the resource type associated with a model object.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model for which to get the resource type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resource type associated with the model, or `None` if the model</span>
<span class="sd">        is not associated with any resource type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">ArtifactResponse</span><span class="p">,</span>
        <span class="n">ArtifactVersionResponse</span><span class="p">,</span>
        <span class="n">CodeRepositoryResponse</span><span class="p">,</span>
        <span class="n">ComponentResponse</span><span class="p">,</span>
        <span class="n">FlavorResponse</span><span class="p">,</span>
        <span class="n">ModelResponse</span><span class="p">,</span>
        <span class="n">ModelVersionResponse</span><span class="p">,</span>
        <span class="n">PipelineBuildResponse</span><span class="p">,</span>
        <span class="n">PipelineDeploymentResponse</span><span class="p">,</span>
        <span class="n">PipelineResponse</span><span class="p">,</span>
        <span class="n">PipelineRunResponse</span><span class="p">,</span>
        <span class="n">RunMetadataResponse</span><span class="p">,</span>
        <span class="n">SecretResponseModel</span><span class="p">,</span>
        <span class="n">ServiceAccountResponse</span><span class="p">,</span>
        <span class="n">ServiceConnectorResponse</span><span class="p">,</span>
        <span class="n">StackResponse</span><span class="p">,</span>
        <span class="n">TagResponseModel</span><span class="p">,</span>
        <span class="n">UserResponse</span><span class="p">,</span>
        <span class="n">WorkspaceResponse</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">mapping</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span>
        <span class="n">Any</span><span class="p">,</span>
        <span class="n">ResourceType</span><span class="p">,</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">FlavorResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>
        <span class="n">ServiceConnectorResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span>
        <span class="n">ComponentResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK_COMPONENT</span><span class="p">,</span>
        <span class="n">StackResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK</span><span class="p">,</span>
        <span class="n">PipelineResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE</span><span class="p">,</span>
        <span class="n">CodeRepositoryResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">,</span>
        <span class="n">SecretResponseModel</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">SECRET</span><span class="p">,</span>
        <span class="n">ModelResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL</span><span class="p">,</span>
        <span class="n">ModelVersionResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
        <span class="n">ArtifactResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT</span><span class="p">,</span>
        <span class="n">ArtifactVersionResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
        <span class="n">WorkspaceResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span>
        <span class="n">UserResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
        <span class="n">RunMetadataResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">RUN_METADATA</span><span class="p">,</span>
        <span class="n">PipelineDeploymentResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_DEPLOYMENT</span><span class="p">,</span>
        <span class="n">PipelineBuildResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_BUILD</span><span class="p">,</span>
        <span class="n">PipelineRunResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span>
        <span class="n">TagResponseModel</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">TAG</span><span class="p">,</span>
        <span class="n">ServiceAccountResponse</span><span class="p">:</span> <span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_ACCOUNT</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_subresources_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_subresources_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get all subresources of a model which need permission verification.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyModel</code></td>
        <td><p>The model for which to get all the resources.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[zenml.zen_server.rbac.models.Resource]</code></td>
      <td><p>All resources of a model which need permission verification.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_subresources_for_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all subresources of a model which need permission verification.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model for which to get all the resources.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All resources of a model which need permission verification.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">_get_subresources_for_value</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">resources</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.get_surrogate_permission_model_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_surrogate_permission_model_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a surrogate permission model for a model.</p>
<p>In some cases a different model instead of the original model is used to
verify permissions. For example, a parent container model might be used
to verify permissions for all its children.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The original model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>str</code></td>
        <td><p>The action that the user wants to perform on the model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[zenml.zen_server.rbac.utils.BaseResponse[Any, Any], zenml.models.base_models.BaseResponseModel]</code></td>
      <td><p>A surrogate model or the original.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_surrogate_permission_model_for_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseResponse</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">BaseResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a surrogate permission model for a model.</span>

<span class="sd">    In some cases a different model instead of the original model is used to</span>
<span class="sd">    verify permissions. For example, a parent container model might be used</span>
<span class="sd">    to verify permissions for all its children.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The original model.</span>
<span class="sd">        action: The action that the user wants to perform on the model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A surrogate model or the original.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ArtifactVersionResponse</span><span class="p">,</span> <span class="n">ModelVersionResponse</span>

    <span class="c1"># Permissions to read entities that represent versions of another entity</span>
    <span class="c1"># are checked on the parent entity</span>
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ModelVersionResponse</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">model</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">artifact</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.has_permissions_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_permissions_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>If the active user has permissions to perform the action on the model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The model the user wants to perform the action on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the active user has permissions to perform the action on the model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_permissions_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If the active user has permissions to perform the action on the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model the user wants to perform the action on.</span>
<span class="sd">        action: The action the user wants to perform.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the active user has permissions to perform the action on the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_owned_by_authenticated_user</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">IllegalOperationError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.is_owned_by_authenticated_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_owned_by_authenticated_user</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns whether the currently authenticated user owns the model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The model for which to check the ownership.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the currently authenticated user owns the model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_owned_by_authenticated_user</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns whether the currently authenticated user owns the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model for which to check the ownership.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the currently authenticated user owns the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">auth_context</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="p">(</span><span class="n">UserScopedResponseModel</span><span class="p">,</span> <span class="n">UserScopedResponse</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The model is server-owned and for RBAC purposes we consider</span>
            <span class="c1"># every user to be the owner of it</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.verify_permission" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permission</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a user has permission to perform an action on a resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>str</code></td>
        <td><p>The type of resource that the user wants to perform the
action on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>ID of the resource the user wants to perform the action on.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permission</span><span class="p">(</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a user has permission to perform an action on a resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type: The type of resource that the user wants to perform the</span>
<span class="sd">            action on.</span>
<span class="sd">        action: The action the user wants to perform.</span>
<span class="sd">        resource_id: ID of the resource the user wants to perform the action on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">)</span>
    <span class="n">batch_verify_permissions</span><span class="p">(</span><span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="n">resource</span><span class="p">},</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.rbac.utils.verify_permission_for_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a user has permission to perform an action on a model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>~AnyResponseModel</code></td>
        <td><p>The model the user wants to perform the action on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action the user wants to perform.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_permission_for_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">AnyResponseModel</span><span class="p">,</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Action</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a user has permission to perform an action on a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model the user wants to perform the action on.</span>
<span class="sd">        action: The action the user wants to perform.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">batch_verify_permissions_for_models</span><span class="p">(</span><span class="n">models</span><span class="o">=</span><span class="p">[</span><span class="n">model</span><span class="p">],</span> <span class="n">action</span><span class="o">=</span><span class="n">action</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.rbac.zenml_cloud_rbac" class="doc doc-heading">
        <code>zenml_cloud_rbac</code>



</h4>

    <div class="doc doc-contents ">

      <p>Cloud RBAC implementation.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC" class="doc doc-heading">
        <code>
ZenMLCloudRBAC            (<a class="autorefs autorefs-internal" title="zenml.zen_server.rbac.rbac_interface.RBACInterface" href="#zenml.zen_server.rbac.rbac_interface.RBACInterface">RBACInterface</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>RBAC implementation that uses the ZenML Cloud API as a backend.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ZenMLCloudRBAC</span><span class="p">(</span><span class="n">RBACInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RBAC implementation that uses the ZenML Cloud API as a backend.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the RBAC component.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">ZenMLCloudRBACConfiguration</span><span class="o">.</span><span class="n">from_environment</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">check_permissions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Resource</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if a user has permissions to perform an action on resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User which wants to access a resource.</span>
<span class="sd">            resources: The resources the user wants to access.</span>
<span class="sd">            action: The action that the user wants to perform on the resources.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary mapping resources to a boolean which indicates whether</span>
<span class="sd">            the user has permissions to perform the action on that resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">resources</span><span class="p">:</span>
            <span class="c1"># No need to send a request if there are no resources</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
            <span class="c1"># Service accounts have full permissions for now</span>
            <span class="k">return</span> <span class="p">{</span><span class="n">resource</span><span class="p">:</span> <span class="kc">True</span> <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">}</span>

        <span class="c1"># At this point it&#39;s a regular user, which in the ZenML cloud with RBAC</span>
        <span class="c1"># enabled is always authenticated using external authentication</span>
        <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span><span class="p">),</span>
            <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">_convert_to_cloud_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span> <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">resources</span>
            <span class="p">],</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="n">PERMISSIONS_ENDPOINT</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">_convert_from_cloud_resource</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">list_allowed_resource_ids</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Lists all resource IDs of a resource type that a user can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User which wants to access a resource.</span>
<span class="sd">            resource: The resource the user wants to access.</span>
<span class="sd">            action: The action that the user wants to perform on the resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple (full_resource_access, resource_ids).</span>
<span class="sd">            `full_resource_access` will be `True` if the user can perform the</span>
<span class="sd">            given action on any instance of the given resource type, `False`</span>
<span class="sd">            otherwise. If `full_resource_access` is `False`, `resource_ids`</span>
<span class="sd">            will contain the list of instance IDs that the user can perform</span>
<span class="sd">            the action on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">resource</span><span class="o">.</span><span class="n">id</span>
        <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
            <span class="c1"># Service accounts have full permissions for now</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[]</span>

        <span class="c1"># At this point it&#39;s a regular user, which in the ZenML cloud with RBAC</span>
        <span class="c1"># enabled is always authenticated using external authentication</span>
        <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span><span class="p">),</span>
            <span class="s2">&quot;resource&quot;</span><span class="p">:</span> <span class="n">_convert_to_cloud_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span>
            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="n">ALLOWED_RESOURCE_IDS_ENDPOINT</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
        <span class="p">)</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="n">full_resource_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;full_access&quot;</span><span class="p">]</span>
        <span class="n">allowed_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">full_resource_access</span><span class="p">,</span> <span class="n">allowed_ids</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Send a GET request using the active session.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: The endpoint to send the request to. This will be appended</span>
<span class="sd">                to the base URL.</span>
<span class="sd">            params: Parameters to include in the request.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the request failed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">api_url</span> <span class="o">+</span> <span class="n">endpoint</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
            <span class="c1"># Refresh the auth token and try again</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_clear_session</span><span class="p">()</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed while trying to contact RBAC service: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">response</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate to the ZenML Cloud API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A requests session with the authentication token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_auth_token</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">token</span><span class="p">})</span>

            <span class="n">retries</span> <span class="o">=</span> <span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">backoff_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="n">HTTPAdapter</span><span class="p">(</span><span class="n">max_retries</span><span class="o">=</span><span class="n">retries</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

    <span class="k">def</span> <span class="nf">_clear_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the authentication session.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_fetch_auth_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fetch an auth token for the Cloud API from auth0.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the auth token can&#39;t be fetched.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Auth token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Get an auth token from auth0</span>
        <span class="n">auth0_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">auth0_domain</span><span class="si">}</span><span class="s2">/oauth/token&quot;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">}</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">oauth2_client_id</span><span class="p">,</span>
            <span class="s2">&quot;client_secret&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">oauth2_client_secret</span><span class="p">,</span>
            <span class="s2">&quot;audience&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">oauth2_audience</span><span class="p">,</span>
            <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;client_credentials&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="n">auth0_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">7</span>
            <span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error fetching auth token from auth0: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">access_token</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;access_token&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">access_token</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not fetch auth token from auth0.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">access_token</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">session</span><span class="p">:</span> <span class="n">Session</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Authenticate to the ZenML Cloud API.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Session</code></td>
      <td><p>A requests session with the authentication token.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize the RBAC component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the RBAC component.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">ZenMLCloudRBACConfiguration</span><span class="o">.</span><span class="n">from_environment</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.check_permissions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">resources</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if a user has permissions to perform an action on resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserResponse</code></td>
        <td><p>User which wants to access a resource.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resources</code></td>
        <td><code>Set[zenml.zen_server.rbac.models.Resource]</code></td>
        <td><p>The resources the user wants to access.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action that the user wants to perform on the resources.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[zenml.zen_server.rbac.models.Resource, bool]</code></td>
      <td><p>A dictionary mapping resources to a boolean which indicates whether
the user has permissions to perform the action on that resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_permissions</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Resource</span><span class="p">],</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Resource</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a user has permissions to perform an action on resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User which wants to access a resource.</span>
<span class="sd">        resources: The resources the user wants to access.</span>
<span class="sd">        action: The action that the user wants to perform on the resources.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary mapping resources to a boolean which indicates whether</span>
<span class="sd">        the user has permissions to perform the action on that resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">resources</span><span class="p">:</span>
        <span class="c1"># No need to send a request if there are no resources</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
        <span class="c1"># Service accounts have full permissions for now</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">resource</span><span class="p">:</span> <span class="kc">True</span> <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">}</span>

    <span class="c1"># At this point it&#39;s a regular user, which in the ZenML cloud with RBAC</span>
    <span class="c1"># enabled is always authenticated using external authentication</span>
    <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span><span class="p">),</span>
        <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">_convert_to_cloud_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span> <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="n">resources</span>
        <span class="p">],</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="n">PERMISSIONS_ENDPOINT</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">_convert_from_cloud_resource</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBAC.list_allowed_resource_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_allowed_resource_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Lists all resource IDs of a resource type that a user can access.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserResponse</code></td>
        <td><p>User which wants to access a resource.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource</code></td>
        <td><code>Resource</code></td>
        <td><p>The resource the user wants to access.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>action</code></td>
        <td><code>Action</code></td>
        <td><p>The action that the user wants to perform on the resource.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, List[str]]</code></td>
      <td><p>A tuple (full_resource_access, resource_ids).
<code>full_resource_access</code> will be <code>True</code> if the user can perform the
given action on any instance of the given resource type, <code>False</code>
otherwise. If <code>full_resource_access</code> is <code>False</code>, <code>resource_ids</code>
will contain the list of instance IDs that the user can perform
the action on.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_allowed_resource_ids</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserResponse&quot;</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">Action</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists all resource IDs of a resource type that a user can access.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User which wants to access a resource.</span>
<span class="sd">        resource: The resource the user wants to access.</span>
<span class="sd">        action: The action that the user wants to perform on the resource.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple (full_resource_access, resource_ids).</span>
<span class="sd">        `full_resource_access` will be `True` if the user can perform the</span>
<span class="sd">        given action on any instance of the given resource type, `False`</span>
<span class="sd">        otherwise. If `full_resource_access` is `False`, `resource_ids`</span>
<span class="sd">        will contain the list of instance IDs that the user can perform</span>
<span class="sd">        the action on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">resource</span><span class="o">.</span><span class="n">id</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">is_service_account</span><span class="p">:</span>
        <span class="c1"># Service accounts have full permissions for now</span>
        <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[]</span>

    <span class="c1"># At this point it&#39;s a regular user, which in the ZenML cloud with RBAC</span>
    <span class="c1"># enabled is always authenticated using external authentication</span>
    <span class="k">assert</span> <span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">external_user_id</span><span class="p">),</span>
        <span class="s2">&quot;resource&quot;</span><span class="p">:</span> <span class="n">_convert_to_cloud_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">),</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">(</span>
        <span class="n">endpoint</span><span class="o">=</span><span class="n">ALLOWED_RESOURCE_IDS_ENDPOINT</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
    <span class="p">)</span>
    <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="n">full_resource_access</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;full_access&quot;</span><span class="p">]</span>
    <span class="n">allowed_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">full_resource_access</span><span class="p">,</span> <span class="n">allowed_ids</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration" class="doc doc-heading">
        <code>
ZenMLCloudRBACConfiguration            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>ZenML Cloud RBAC configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ZenMLCloudRBACConfiguration</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ZenML Cloud RBAC configuration.&quot;&quot;&quot;</span>

    <span class="n">api_url</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">oauth2_client_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">oauth2_client_secret</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">oauth2_audience</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">auth0_domain</span><span class="p">:</span> <span class="nb">str</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;api_url&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_strip_trailing_slashes_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Strip any trailing slashes on the API URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The API URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The API URL with potential trailing slashes removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_environment</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ZenMLCloudRBACConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the RBAC configuration from environment variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The RBAC configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">env_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">ZENML_CLOUD_RBAC_ENV_PREFIX</span><span class="p">):</span>
                <span class="n">env_config</span><span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">ZENML_CLOUD_RBAC_ENV_PREFIX</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="k">return</span> <span class="n">ZenMLCloudRBACConfiguration</span><span class="p">(</span><span class="o">**</span><span class="n">env_config</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Allow extra attributes from configs of previous ZenML versions to</span>
        <span class="c1"># permit downgrading</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Allow extra attributes from configs of previous ZenML versions to</span>
    <span class="c1"># permit downgrading</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.rbac.zenml_cloud_rbac.ZenMLCloudRBACConfiguration.from_environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_environment</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the RBAC configuration from environment variables.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ZenMLCloudRBACConfiguration</code></td>
      <td><p>The RBAC configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/rbac/zenml_cloud_rbac.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_environment</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ZenMLCloudRBACConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the RBAC configuration from environment variables.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The RBAC configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">env_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">ZENML_CLOUD_RBAC_ENV_PREFIX</span><span class="p">):</span>
            <span class="n">env_config</span><span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">ZENML_CLOUD_RBAC_ENV_PREFIX</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="k">return</span> <span class="n">ZenMLCloudRBACConfiguration</span><span class="p">(</span><span class="o">**</span><span class="n">env_config</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.routers" class="doc doc-heading">
        <code>routers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Endpoint definitions.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.artifact_endpoint" class="doc doc-heading">
        <code>artifact_endpoint</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for artifacts.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_endpoint.create_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_artifact</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactRequest</code></td>
        <td><p>The artifact to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponse</code></td>
      <td><p>The created artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">artifact</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_artifact</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_endpoint.delete_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact</span><span class="p">(</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete an artifact by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span>
    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete an artifact by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_artifact</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_endpoint.get_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an artifact by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponse</code></td>
      <td><p>The artifact with the given ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span>
    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an artifact by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact with the given ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_endpoint.list_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_artifacts</span><span class="p">(</span><span class="n">artifact_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get artifacts according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_filter_model</code></td>
        <td><code>ArtifactFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ArtifactResponse]</code></td>
      <td><p>The artifacts according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
    <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ArtifactFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get artifacts according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifacts according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">artifact_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_artifacts</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_endpoint.update_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_artifact</span><span class="p">(</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">artifact_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an artifact by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>artifact_update</code></td>
        <td><code>ArtifactUpdate</code></td>
        <td><p>The update to apply to the artifact.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponse</code></td>
      <td><p>The updated artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_artifact</span><span class="p">(</span>
    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">artifact_update</span><span class="p">:</span> <span class="n">ArtifactUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an artifact by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to update.</span>
<span class="sd">        artifact_update: The update to apply to the artifact.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">artifact_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_artifact</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.artifact_version_endpoints" class="doc doc-heading">
        <code>artifact_version_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for artifact versions.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.create_artifact_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_artifact_version</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new artifact version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version</code></td>
        <td><code>ArtifactVersionRequest</code></td>
        <td><p>The artifact version to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactVersionResponse</code></td>
      <td><p>The created artifact version.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_artifact_version</span><span class="p">(</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">ArtifactVersionRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new artifact version.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version: The artifact version to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created artifact version.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">artifact_version</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_artifact_version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.delete_artifact_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact_version</span><span class="p">(</span><span class="n">artifact_version_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete an artifact version by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact version to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_artifact_version</span><span class="p">(</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete an artifact version by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version_id: The ID of the artifact version to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_artifact_version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.get_artifact_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact_version</span><span class="p">(</span><span class="n">artifact_version_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an artifact version by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact version to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactVersionResponse</code></td>
      <td><p>The artifact version with the given ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_artifact_version</span><span class="p">(</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an artifact version by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version_id: The ID of the artifact version to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact version with the given ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.get_artifact_visualization" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact_visualization</span><span class="p">(</span><span class="n">artifact_version_id</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the visualization of an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the artifact version for which to get the visualization.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>index</code></td>
        <td><code>int</code></td>
        <td><p>Index of the visualization to get (if there are multiple).</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>LoadedVisualization</code></td>
      <td><p>The visualization of the artifact version.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_version_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">VISUALIZE</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">LoadedVisualization</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_artifact_visualization</span><span class="p">(</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LoadedVisualization</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the visualization of an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version_id: ID of the artifact version for which to get the visualization.</span>
<span class="sd">        index: Index of the visualization to get (if there are multiple).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The visualization of the artifact version.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>
    <span class="n">artifact</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">store</span><span class="o">.</span><span class="n">get_artifact_version</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">load_artifact_visualization</span><span class="p">(</span>
        <span class="n">artifact</span><span class="o">=</span><span class="n">artifact</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">zen_store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span> <span class="n">encode_image</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.list_artifact_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_artifact_versions</span><span class="p">(</span><span class="n">artifact_version_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get artifact versions according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version_filter_model</code></td>
        <td><code>ArtifactVersionFilter</code></td>
        <td><p>Filter model used for pagination,
sorting, filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ArtifactVersionResponse]</code></td>
      <td><p>The artifact versions according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ArtifactVersionResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_artifact_versions</span><span class="p">(</span>
    <span class="n">artifact_version_filter_model</span><span class="p">:</span> <span class="n">ArtifactVersionFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ArtifactVersionFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactVersionResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get artifact versions according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version_filter_model: Filter model used for pagination,</span>
<span class="sd">            sorting, filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact versions according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allowed_artifact_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">ARTIFACT</span>
    <span class="p">)</span>
    <span class="n">artifact_version_filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">artifact_id</span><span class="o">=</span><span class="n">allowed_artifact_ids</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact_versions</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_artifact_versions</span><span class="p">(</span>
        <span class="n">artifact_version_filter_model</span><span class="o">=</span><span class="n">artifact_version_filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">artifact_versions</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.artifact_version_endpoints.update_artifact_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_artifact_version</span><span class="p">(</span><span class="n">artifact_version_id</span><span class="p">,</span> <span class="n">artifact_version_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an artifact by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact version to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>artifact_version_update</code></td>
        <td><code>ArtifactVersionUpdate</code></td>
        <td><p>The update to apply to the artifact version.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactVersionResponse</code></td>
      <td><p>The updated artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/artifact_version_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@artifact_version_router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{artifact_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_artifact_version</span><span class="p">(</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">artifact_version_update</span><span class="p">:</span> <span class="n">ArtifactVersionUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an artifact by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version_id: The ID of the artifact version to update.</span>
<span class="sd">        artifact_version_update: The update to apply to the artifact version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">artifact_version_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_artifact_version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.auth_endpoints" class="doc doc-heading">
        <code>auth_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for authentication (login).</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm" class="doc doc-heading">
        <code>
OAuthLoginRequestForm        </code>



</h5>

    <div class="doc doc-contents ">

      <p>OAuth2 grant type request form.</p>
<p>This form allows multiple grant types to be used with the same endpoint:
* standard OAuth2 password grant type
* standard  OAuth2 device authorization grant type
* ZenML service account + API key grant type (proprietary)
* ZenML External Authenticator grant type (proprietary)</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OAuthLoginRequestForm</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;OAuth2 grant type request form.</span>

<span class="sd">    This form allows multiple grant types to be used with the same endpoint:</span>
<span class="sd">    * standard OAuth2 password grant type</span>
<span class="sd">    * standard  OAuth2 device authorization grant type</span>
<span class="sd">    * ZenML service account + API key grant type (proprietary)</span>
<span class="sd">    * ZenML External Authenticator grant type (proprietary)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">grant_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
        <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
        <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
        <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
        <span class="n">device_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the form.</span>

<span class="sd">        Args:</span>
<span class="sd">            grant_type: The grant type.</span>
<span class="sd">            username: The username. Only used for the password grant type.</span>
<span class="sd">            password: The password. Only used for the password grant type.</span>
<span class="sd">            client_id: The client ID.</span>
<span class="sd">            device_code: The device code. Only used for the device authorization</span>
<span class="sd">                grant type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            HTTPException: If the request is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">grant_type</span><span class="p">:</span>
            <span class="c1"># Detect the grant type from the form data</span>
            <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_PASSWORD</span>
            <span class="k">elif</span> <span class="n">password</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_API_KEY</span>
            <span class="k">elif</span> <span class="n">device_code</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_DEVICE_CODE</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_EXTERNAL</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">grant_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="p">(</span><span class="n">grant_type</span><span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_PASSWORD</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">auth_scheme</span> <span class="o">!=</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">OAUTH2_PASSWORD_BEARER</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Request with missing username&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: username is required.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_DEVICE_CODE</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">device_code</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Request with missing device code or client ID&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: device code and client ID are &quot;</span>
                    <span class="s2">&quot;required.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request with invalid client ID: </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: invalid client ID.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_API_KEY</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;API key is required.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_EXTERNAL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">auth_scheme</span> <span class="o">!=</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">EXTERNAL</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                    <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                    <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_server.routers.auth_endpoints.OAuthLoginRequestForm.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grant_type</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">username</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">password</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">client_id</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="n">device_code</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">))</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initializes the form.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>grant_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The grant type.</p></td>
        <td><code>Form(None)</code></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The username. Only used for the password grant type.</p></td>
        <td><code>Form(None)</code></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The password. Only used for the password grant type.</p></td>
        <td><code>Form(None)</code></td>
      </tr>
      <tr>
        <td><code>client_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The client ID.</p></td>
        <td><code>Form(None)</code></td>
      </tr>
      <tr>
        <td><code>device_code</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The device code. Only used for the device authorization
grant type.</p></td>
        <td><code>Form(None)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the request is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">grant_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">device_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the form.</span>

<span class="sd">    Args:</span>
<span class="sd">        grant_type: The grant type.</span>
<span class="sd">        username: The username. Only used for the password grant type.</span>
<span class="sd">        password: The password. Only used for the password grant type.</span>
<span class="sd">        client_id: The client ID.</span>
<span class="sd">        device_code: The device code. Only used for the device authorization</span>
<span class="sd">            grant type.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the request is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">grant_type</span><span class="p">:</span>
        <span class="c1"># Detect the grant type from the form data</span>
        <span class="k">if</span> <span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_PASSWORD</span>
        <span class="k">elif</span> <span class="n">password</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_API_KEY</span>
        <span class="k">elif</span> <span class="n">device_code</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_DEVICE_CODE</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_EXTERNAL</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">grant_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">=</span> <span class="n">OAuthGrantTypes</span><span class="p">(</span><span class="n">grant_type</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_PASSWORD</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">auth_scheme</span> <span class="o">!=</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">OAUTH2_PASSWORD_BEARER</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Request with missing username&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: username is required.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">password</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_DEVICE_CODE</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">device_code</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">client_id</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Request with missing device code or client ID&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: device code and client ID are &quot;</span>
                <span class="s2">&quot;required.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request with invalid client ID: </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid request: invalid client ID.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">device_code</span> <span class="o">=</span> <span class="n">device_code</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_API_KEY</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;API key is required.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">password</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_EXTERNAL</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">auth_scheme</span> <span class="o">!=</span> <span class="n">AuthScheme</span><span class="o">.</span><span class="n">EXTERNAL</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Request with unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_400_BAD_REQUEST</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported grant type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.auth_endpoints.api_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_token</span><span class="p">(</span><span class="n">pipeline_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schedule_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expires_minutes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a workload API token for the current user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the pipeline to get the API token for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the schedule to get the API token for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expires_minutes</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of minutes for which the API token should
be valid. If not provided, the API token will be valid indefinitely.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The API token.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the user is not authenticated.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">API_TOKEN</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">api_token</span><span class="p">(</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">expires_minutes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a workload API token for the current user.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to get the API token for.</span>
<span class="sd">        schedule_id: The ID of the schedule to get the API token for.</span>
<span class="sd">        expires_minutes: The number of minutes for which the API token should</span>
<span class="sd">            be valid. If not provided, the API token will be valid indefinitely.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The API token.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the user is not authenticated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">access_token</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">encoded_access_token</span><span class="p">:</span>
        <span class="c1"># Should not happen</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_401_UNAUTHORIZED</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Not authenticated.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">verify_permission</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CREATE</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">device_id</span><span class="p">:</span>
        <span class="c1"># If not authenticated with a device, the current API token is returned</span>
        <span class="c1"># as is, without any modifications. Issuing workload tokens is only</span>
        <span class="c1"># supported for device authenticated users, because device tokens can</span>
        <span class="c1"># be revoked at any time.</span>
        <span class="k">return</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">encoded_access_token</span>

    <span class="c1"># If authenticated with a device, a new API token is generated for the</span>
    <span class="c1"># pipeline and/or schedule.</span>
    <span class="k">if</span> <span class="n">pipeline_id</span><span class="p">:</span>
        <span class="n">token</span><span class="o">.</span><span class="n">pipeline_id</span> <span class="o">=</span> <span class="n">pipeline_id</span>
    <span class="k">if</span> <span class="n">schedule_id</span><span class="p">:</span>
        <span class="n">token</span><span class="o">.</span><span class="n">schedule_id</span> <span class="o">=</span> <span class="n">schedule_id</span>
    <span class="n">expires</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">expires_minutes</span><span class="p">:</span>
        <span class="n">expires</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="n">expires_minutes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">expires</span><span class="o">=</span><span class="n">expires</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.auth_endpoints.device_authorization" class="doc doc-heading">
<code class="highlight language-python"><span class="n">device_authorization</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">Form</span><span class="p">(</span><span class="bp">Ellipsis</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>OAuth2 device authorization endpoint.</p>
<p>This endpoint implements the OAuth2 device authorization grant flow as
defined in https://tools.ietf.org/html/rfc8628. It is called to initiate
the device authorization flow by requesting a device and user code for a
given client ID.</p>
<p>For a new client ID, a new OAuth device is created, stored in the DB and
returned to the client along with a pair of newly generated device and user
codes. If a device for the given client ID already exists, the existing
DB entry is reused and new device and user codes are generated.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>The request object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>client_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The client ID.</p></td>
        <td><code>Form(Ellipsis)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OAuthDeviceAuthorizationResponse</code></td>
      <td><p>The device authorization response.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">DEVICE_AUTHORIZATION</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">OAuthDeviceAuthorizationResponse</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">device_authorization</span><span class="p">(</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span>
    <span class="n">client_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuthDeviceAuthorizationResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;OAuth2 device authorization endpoint.</span>

<span class="sd">    This endpoint implements the OAuth2 device authorization grant flow as</span>
<span class="sd">    defined in https://tools.ietf.org/html/rfc8628. It is called to initiate</span>
<span class="sd">    the device authorization flow by requesting a device and user code for a</span>
<span class="sd">    given client ID.</span>

<span class="sd">    For a new client ID, a new OAuth device is created, stored in the DB and</span>
<span class="sd">    returned to the client along with a pair of newly generated device and user</span>
<span class="sd">    codes. If a device for the given client ID already exists, the existing</span>
<span class="sd">    DB entry is reused and new device and user codes are generated.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request object.</span>
<span class="sd">        client_id: The client ID.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The device authorization response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>

    <span class="c1"># Use this opportunity to delete expired devices</span>
    <span class="n">store</span><span class="o">.</span><span class="n">delete_expired_authorized_devices</span><span class="p">()</span>

    <span class="c1"># Fetch additional details about the client from the user-agent header</span>
    <span class="n">user_agent_header</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user_agent_header</span><span class="p">:</span>
        <span class="n">device_details</span> <span class="o">=</span> <span class="n">OAuthDeviceUserAgentHeader</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">user_agent_header</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">device_details</span> <span class="o">=</span> <span class="n">OAuthDeviceUserAgentHeader</span><span class="p">()</span>

    <span class="c1"># Fetch the IP address of the client</span>
    <span class="n">ip_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">city</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">country</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">client</span> <span class="ow">and</span> <span class="n">request</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">host</span><span class="p">:</span>
        <span class="n">ip_address</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">host</span>
        <span class="n">city</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">country</span> <span class="o">=</span> <span class="n">get_ip_location</span><span class="p">(</span><span class="n">ip_address</span><span class="p">)</span>

    <span class="c1"># Check if a device is already registered for the same client ID.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_internal_authorized_device</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">create_authorized_device</span><span class="p">(</span>
            <span class="n">OAuthDeviceInternalRequest</span><span class="p">(</span>
                <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span>
                <span class="n">expires_in</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">device_auth_timeout</span><span class="p">,</span>
                <span class="n">ip_address</span><span class="o">=</span><span class="n">ip_address</span><span class="p">,</span>
                <span class="n">city</span><span class="o">=</span><span class="n">city</span><span class="p">,</span>
                <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
                <span class="n">country</span><span class="o">=</span><span class="n">country</span><span class="p">,</span>
                <span class="o">**</span><span class="n">device_details</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Put the device into pending state and generate new codes. This</span>
        <span class="c1"># effectively invalidates the old codes and the device cannot be used</span>
        <span class="c1"># for authentication anymore.</span>
        <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
            <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">update</span><span class="o">=</span><span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
                <span class="n">trusted_device</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">expires_in</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">device_auth_timeout</span><span class="p">,</span>
                <span class="n">status</span><span class="o">=</span><span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">,</span>
                <span class="n">failed_auth_attempts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">generate_new_codes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">ip_address</span><span class="o">=</span><span class="n">ip_address</span><span class="p">,</span>
                <span class="n">city</span><span class="o">=</span><span class="n">city</span><span class="p">,</span>
                <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
                <span class="n">country</span><span class="o">=</span><span class="n">country</span><span class="p">,</span>
                <span class="o">**</span><span class="n">device_details</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">dashboard_url</span><span class="p">:</span>
        <span class="n">verification_uri</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">dashboard_url</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">DEVICES</span> <span class="o">+</span> <span class="n">DEVICE_VERIFY</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">verification_uri</span> <span class="o">=</span> <span class="n">DEVICES</span> <span class="o">+</span> <span class="n">DEVICE_VERIFY</span>

    <span class="n">verification_uri_complete</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">verification_uri</span>
        <span class="o">+</span> <span class="s2">&quot;?&quot;</span>
        <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span>
            <span class="nb">dict</span><span class="p">(</span>
                <span class="n">device_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
                <span class="n">user_code</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">device_model</span><span class="o">.</span><span class="n">user_code</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">OAuthDeviceAuthorizationResponse</span><span class="p">(</span>
        <span class="n">device_code</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
        <span class="n">user_code</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">user_code</span><span class="p">,</span>
        <span class="n">expires_in</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">device_auth_timeout</span><span class="p">,</span>
        <span class="n">interval</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">device_auth_polling_interval</span><span class="p">,</span>
        <span class="n">verification_uri</span><span class="o">=</span><span class="n">verification_uri</span><span class="p">,</span>
        <span class="n">verification_uri_complete</span><span class="o">=</span><span class="n">verification_uri_complete</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.auth_endpoints.generate_access_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_access_token</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Generates an access token for the given user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>response</code></td>
        <td><code>Response</code></td>
        <td><p>The FastAPI response object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>device</code></td>
        <td><code>Optional[zenml.models.v2.core.device.OAuthDeviceInternalResponse]</code></td>
        <td><p>The device used for authentication.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>api_key</code></td>
        <td><code>Optional[zenml.models.v2.core.api_key.APIKeyInternalResponse]</code></td>
        <td><p>The service account API key used for authentication.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OAuthTokenResponse</code></td>
      <td><p>An authentication response with an access token.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_access_token</span><span class="p">(</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">,</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OAuthDeviceInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">api_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">APIKeyInternalResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuthTokenResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates an access token for the given user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The ID of the user.</span>
<span class="sd">        response: The FastAPI response object.</span>
<span class="sd">        device: The device used for authentication.</span>
<span class="sd">        api_key: The service account API key used for authentication.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An authentication response with an access token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

    <span class="c1"># The JWT tokens are set to expire according to the values configured</span>
    <span class="c1"># in the server config. Device tokens are handled separately from regular</span>
    <span class="c1"># user tokens.</span>
    <span class="n">expires</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">expires_in</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">device</span><span class="p">:</span>
        <span class="c1"># If a device was used for authentication, the token will expire</span>
        <span class="c1"># at the same time as the device.</span>
        <span class="n">expires</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">expires</span>
        <span class="k">if</span> <span class="n">expires</span><span class="p">:</span>
            <span class="n">expires_in</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
                <span class="nb">int</span><span class="p">(</span><span class="n">expires</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()),</span> <span class="mi">0</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span><span class="p">:</span>
        <span class="n">expires</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span>
            <span class="n">minutes</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span>
        <span class="p">)</span>
        <span class="n">expires_in</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span> <span class="o">*</span> <span class="mi">60</span>

    <span class="n">access_token</span> <span class="o">=</span> <span class="n">JWTToken</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">device</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">api_key_id</span><span class="o">=</span><span class="n">api_key</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">api_key</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">expires</span><span class="o">=</span><span class="n">expires</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="p">:</span>
        <span class="c1"># Also set the access token as an HTTP only cookie in the response</span>
        <span class="n">response</span><span class="o">.</span><span class="n">set_cookie</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_auth_cookie_name</span><span class="p">(),</span>
            <span class="n">value</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span>
            <span class="n">httponly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">samesite</span><span class="o">=</span><span class="s2">&quot;lax&quot;</span><span class="p">,</span>
            <span class="n">max_age</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span> <span class="o">*</span> <span class="mi">60</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">jwt_token_expire_minutes</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">domain</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">auth_cookie_domain</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">OAuthTokenResponse</span><span class="p">(</span>
        <span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">,</span> <span class="n">expires_in</span><span class="o">=</span><span class="n">expires_in</span><span class="p">,</span> <span class="n">token_type</span><span class="o">=</span><span class="s2">&quot;bearer&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.auth_endpoints.logout" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logout</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Logs out the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>response</code></td>
        <td><code>Response</code></td>
        <td><p>The response object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">LOGOUT</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">logout</span><span class="p">(</span>
    <span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs out the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        response: The response object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

    <span class="c1"># Remove the HTTP only cookie even if it does not exist</span>
    <span class="n">response</span><span class="o">.</span><span class="n">delete_cookie</span><span class="p">(</span>
        <span class="n">key</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get_auth_cookie_name</span><span class="p">(),</span>
        <span class="n">httponly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">samesite</span><span class="o">=</span><span class="s2">&quot;lax&quot;</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">auth_cookie_domain</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.auth_endpoints.token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">auth_form_data</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">NoneType</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>OAuth2 token endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>The request object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>response</code></td>
        <td><code>Response</code></td>
        <td><p>The response object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_form_data</code></td>
        <td><code>OAuthLoginRequestForm</code></td>
        <td><p>The OAuth 2.0 authentication form data.</p></td>
        <td><code>Depends(NoneType)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[zenml.models.v2.misc.auth_models.OAuthTokenResponse, zenml.models.v2.misc.auth_models.OAuthRedirectResponse]</code></td>
      <td><p>An access token or a redirect response.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the grant type is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/auth_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">LOGIN</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Union</span><span class="p">[</span><span class="n">OAuthTokenResponse</span><span class="p">,</span> <span class="n">OAuthRedirectResponse</span><span class="p">],</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">token</span><span class="p">(</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span>
    <span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">,</span>
    <span class="n">auth_form_data</span><span class="p">:</span> <span class="n">OAuthLoginRequestForm</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">OAuthTokenResponse</span><span class="p">,</span> <span class="n">OAuthRedirectResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;OAuth2 token endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request object.</span>
<span class="sd">        response: The response object.</span>
<span class="sd">        auth_form_data: The OAuth 2.0 authentication form data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An access token or a redirect response.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the grant type is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">auth_form_data</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_PASSWORD</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_credentials</span><span class="p">(</span>
            <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">auth_form_data</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">auth_form_data</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">auth_form_data</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">OAUTH_DEVICE_CODE</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_device</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">auth_form_data</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="n">device_code</span><span class="o">=</span><span class="n">auth_form_data</span><span class="o">.</span><span class="n">device_code</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">auth_form_data</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_API_KEY</span><span class="p">:</span>
        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_api_key</span><span class="p">(</span>
            <span class="n">api_key</span><span class="o">=</span><span class="n">auth_form_data</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="n">auth_form_data</span><span class="o">.</span><span class="n">grant_type</span> <span class="o">==</span> <span class="n">OAuthGrantTypes</span><span class="o">.</span><span class="n">ZENML_EXTERNAL</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>

        <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">external_cookie_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">external_login_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">authorization_url</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">external_login_url</span>

        <span class="c1"># First, try to get the external access token from the external cookie</span>
        <span class="n">external_access_token</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">cookies</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">config</span><span class="o">.</span><span class="n">external_cookie_name</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">external_access_token</span><span class="p">:</span>
            <span class="c1"># Next, try to get the external access token from the authorization</span>
            <span class="c1"># header</span>
            <span class="n">authorization_header</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Authorization&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">authorization_header</span><span class="p">:</span>
                <span class="n">scheme</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">token</span> <span class="o">=</span> <span class="n">authorization_header</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">token</span> <span class="ow">and</span> <span class="n">scheme</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;bearer&quot;</span><span class="p">:</span>
                    <span class="n">external_access_token</span> <span class="o">=</span> <span class="n">token</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;External access token found in authorization header.&quot;</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;External access token found in cookie.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">external_access_token</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;External access token not found. Redirecting to &quot;</span>
                <span class="s2">&quot;external authenticator.&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Redirect the user to the external authentication login endpoint</span>
            <span class="k">return</span> <span class="n">OAuthRedirectResponse</span><span class="p">(</span><span class="n">authorization_url</span><span class="o">=</span><span class="n">authorization_url</span><span class="p">)</span>

        <span class="n">auth_context</span> <span class="o">=</span> <span class="n">authenticate_external_user</span><span class="p">(</span>
            <span class="n">external_access_token</span><span class="o">=</span><span class="n">external_access_token</span>
        <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Shouldn&#39;t happen, because we verify all grants in the form data</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid grant type.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">generate_access_token</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">response</span><span class="o">=</span><span class="n">response</span><span class="p">,</span>
        <span class="n">device</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">device</span><span class="p">,</span>
        <span class="n">api_key</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.code_repositories_endpoints" class="doc doc-heading">
        <code>code_repositories_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for code repositories.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.code_repositories_endpoints.delete_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_code_repository</span><span class="p">(</span><span class="n">code_repository_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/code_repositories_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{code_repository_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span>
    <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_code_repository</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_code_repository</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.code_repositories_endpoints.get_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_code_repository</span><span class="p">(</span><span class="n">code_repository_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific code repository using its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponse</code></td>
      <td><p>A specific code repository object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/code_repositories_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{code_repository_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
    <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository using its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific code repository object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_code_repository</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.code_repositories_endpoints.list_code_repositories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_code_repositories</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a page of code repositories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>CodeRepositoryFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[CodeRepositoryResponse]</code></td>
      <td><p>Page of code repository objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/code_repositories_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">CodeRepositoryFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a page of code repositories.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Page of code repository objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_code_repositories</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.code_repositories_endpoints.update_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_code_repository</span><span class="p">(</span><span class="n">code_repository_id</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>CodeRepositoryUpdate</code></td>
        <td><p>The model containing the attributes to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponse</code></td>
      <td><p>The updated code repository object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/code_repositories_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{code_repository_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
    <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to update.</span>
<span class="sd">        update: The model containing the attributes to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated code repository object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_code_repository</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_code_repository</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.devices_endpoints" class="doc doc-heading">
        <code>devices_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for code repositories.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.devices_endpoints.delete_authorized_device" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific OAuth2 authorized device using its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>device_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the OAuth2 authorized device to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The current auth context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the device with the given ID does not exist or does not
belong to the current user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/devices_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{device_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_authorized_device</span><span class="p">(</span>
    <span class="n">device_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific OAuth2 authorized device using its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_id: The ID of the OAuth2 authorized device to delete.</span>
<span class="sd">        auth_context: The current auth context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the device with the given ID does not exist or does not</span>
<span class="sd">            belong to the current user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span> <span class="ow">or</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to get device with ID </span><span class="si">{</span><span class="n">device_id</span><span class="si">}</span><span class="s2">: No device with &quot;</span>
            <span class="s2">&quot;this ID found.&quot;</span>
        <span class="p">)</span>

    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.devices_endpoints.get_authorization_device" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_authorization_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">user_code</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific OAuth2 authorized device using its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>device_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the OAuth2 authorized device to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_code</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The user code of the OAuth2 authorized device to get. Needs
to be specified with devices that have not been verified yet.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The current auth context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OAuthDeviceResponse</code></td>
      <td><p>A specific OAuth2 authorized device object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the device with the given ID does not exist, does not
belong to the current user or could not be verified using the
given user code.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/devices_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{device_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">OAuthDeviceResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_authorization_device</span><span class="p">(</span>
    <span class="n">device_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">user_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuthDeviceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific OAuth2 authorized device using its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_id: The ID of the OAuth2 authorized device to get.</span>
<span class="sd">        user_code: The user code of the OAuth2 authorized device to get. Needs</span>
<span class="sd">            to be specified with devices that have not been verified yet.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: The current auth context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific OAuth2 authorized device object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the device with the given ID does not exist, does not</span>
<span class="sd">            belong to the current user or could not be verified using the</span>
<span class="sd">            given user code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_authorized_device</span><span class="p">(</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
        <span class="c1"># A device that hasn&#39;t been verified and associated with a user yet</span>
        <span class="c1"># can only be retrieved if the user code is specified and valid.</span>
        <span class="k">if</span> <span class="n">user_code</span><span class="p">:</span>
            <span class="n">internal_device</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_internal_authorized_device</span><span class="p">(</span>
                <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">internal_device</span><span class="o">.</span><span class="n">verify_user_code</span><span class="p">(</span><span class="n">user_code</span><span class="o">=</span><span class="n">user_code</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">device</span>
    <span class="k">elif</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">device</span>

    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Unable to get device with ID </span><span class="si">{</span><span class="n">device_id</span><span class="si">}</span><span class="s2">: No device with &quot;</span>
        <span class="s2">&quot;this ID found.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.devices_endpoints.list_authorized_devices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_authorized_devices</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a page of OAuth2 authorized devices belonging to the current user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>OAuthDeviceFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The current auth context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[OAuthDeviceResponse]</code></td>
      <td><p>Page of OAuth2 authorized device objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/devices_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">OAuthDeviceResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_authorized_devices</span><span class="p">(</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">OAuthDeviceFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">OAuthDeviceFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">OAuthDeviceResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a page of OAuth2 authorized devices belonging to the current user.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: The current auth context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Page of OAuth2 authorized device objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_model</span><span class="o">.</span><span class="n">set_scope_user</span><span class="p">(</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_authorized_devices</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.devices_endpoints.update_authorized_device" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a specific OAuth2 authorized device using its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>device_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the OAuth2 authorized device to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>OAuthDeviceUpdate</code></td>
        <td><p>The model containing the attributes to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The current auth context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OAuthDeviceResponse</code></td>
      <td><p>The updated OAuth2 authorized device object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the device with the given ID does not exist or does not
belong to the current user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/devices_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{device_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">OAuthDeviceResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_authorized_device</span><span class="p">(</span>
    <span class="n">device_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n">OAuthDeviceUpdate</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuthDeviceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a specific OAuth2 authorized device using its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_id: The ID of the OAuth2 authorized device to update.</span>
<span class="sd">        update: The model containing the attributes to update.</span>
<span class="sd">        auth_context: The current auth context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated OAuth2 authorized device object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the device with the given ID does not exist or does not</span>
<span class="sd">            belong to the current user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">device</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span> <span class="ow">or</span> <span class="n">device</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to get device with ID </span><span class="si">{</span><span class="n">device_id</span><span class="si">}</span><span class="s2">: No device with &quot;</span>
            <span class="s2">&quot;this ID found.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_authorized_device</span><span class="p">(</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">update</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.devices_endpoints.verify_authorized_device" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_authorized_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies a specific OAuth2 authorized device using its unique ID.</p>
<p>This endpoint implements the OAuth2 device authorization grant flow as
defined in https://tools.ietf.org/html/rfc8628. It is called to verify
the user code for a given device ID.</p>
<p>If the user code is valid, the device is marked as verified and associated
with the user that authorized the device. This association is required to
be able to issue access tokens or revoke the device later on.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>device_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the OAuth2 authorized device to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>request</code></td>
        <td><code>OAuthDeviceVerificationRequest</code></td>
        <td><p>The model containing the verification request.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The current auth context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>OAuthDeviceResponse</code></td>
      <td><p>The updated OAuth2 authorized device object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the device verification request fails.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/devices_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{device_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">DEVICE_VERIFY</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">OAuthDeviceResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">verify_authorized_device</span><span class="p">(</span>
    <span class="n">device_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">OAuthDeviceVerificationRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OAuthDeviceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies a specific OAuth2 authorized device using its unique ID.</span>

<span class="sd">    This endpoint implements the OAuth2 device authorization grant flow as</span>
<span class="sd">    defined in https://tools.ietf.org/html/rfc8628. It is called to verify</span>
<span class="sd">    the user code for a given device ID.</span>

<span class="sd">    If the user code is valid, the device is marked as verified and associated</span>
<span class="sd">    with the user that authorized the device. This association is required to</span>
<span class="sd">    be able to issue access tokens or revoke the device later on.</span>

<span class="sd">    Args:</span>
<span class="sd">        device_id: The ID of the OAuth2 authorized device to update.</span>
<span class="sd">        request: The model containing the verification request.</span>
<span class="sd">        auth_context: The current auth context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated OAuth2 authorized device object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the device verification request fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">server_config</span><span class="p">()</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>

    <span class="c1"># Check if a device is registered for the ID</span>
    <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">get_internal_authorized_device</span><span class="p">(</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Check if the device is in a state that allows verification.</span>
    <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid request: device not pending verification.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Check if the device verification has expired.</span>
    <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span> <span class="ow">and</span> <span class="n">device_model</span><span class="o">.</span><span class="n">expires</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid request: device verification expired.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Check if the device already has a user associated with it. If so, the</span>
    <span class="c1"># current user and the user associated with the device must be the same.</span>
    <span class="k">if</span> <span class="n">device_model</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="n">device_model</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid request: this device is associated with another user.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Check if the device code is valid.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">device_model</span><span class="o">.</span><span class="n">verify_user_code</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">user_code</span><span class="p">):</span>
        <span class="c1"># If the device code is invalid, increment the failed auth attempts</span>
        <span class="c1"># counter and lock the device if the maximum number of failed auth</span>
        <span class="c1"># attempts has been reached.</span>
        <span class="n">failed_auth_attempts</span> <span class="o">=</span> <span class="n">device_model</span><span class="o">.</span><span class="n">failed_auth_attempts</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
            <span class="n">failed_auth_attempts</span><span class="o">=</span><span class="n">failed_auth_attempts</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">failed_auth_attempts</span> <span class="o">&gt;=</span> <span class="n">config</span><span class="o">.</span><span class="n">max_failed_device_auth_attempts</span><span class="p">:</span>
            <span class="n">update</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">store</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
            <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">failed_auth_attempts</span> <span class="o">&gt;=</span> <span class="n">config</span><span class="o">.</span><span class="n">max_failed_device_auth_attempts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid request: device locked due to too many failed &quot;</span>
                <span class="s2">&quot;authentication attempts.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid request: invalid user code.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># If the device code is valid, associate the device with the current user.</span>
    <span class="c1"># We don&#39;t reset the expiration date yet, because we want to make sure</span>
    <span class="c1"># that the client has received the access token before we do so, to avoid</span>
    <span class="c1"># brute force attacks on the device code.</span>
    <span class="n">update</span> <span class="o">=</span> <span class="n">OAuthDeviceInternalUpdate</span><span class="p">(</span>
        <span class="n">status</span><span class="o">=</span><span class="n">OAuthDeviceStatus</span><span class="o">.</span><span class="n">VERIFIED</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">failed_auth_attempts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">trusted_device</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">trusted_device</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">device_model</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">update_internal_authorized_device</span><span class="p">(</span>
        <span class="n">device_id</span><span class="o">=</span><span class="n">device_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">device_model</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.flavors_endpoints" class="doc doc-heading">
        <code>flavors_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for flavors.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.create_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_flavor</span><span class="p">(</span><span class="n">flavor</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor</code></td>
        <td><code>FlavorRequest</code></td>
        <td><p>Stack component flavor to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponse</code></td>
      <td><p>The created stack component flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: Stack component flavor to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack component flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">flavor</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_flavor</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.delete_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_flavor</span><span class="p">(</span><span class="n">flavor_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the flavor.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{flavor_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span>
    <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: ID of the flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_flavor</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_flavor</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.get_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavor</span><span class="p">(</span><span class="n">flavor_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the flavor.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponse</code></td>
      <td><p>The requested stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{flavor_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span>
    <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: ID of the flavor.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_flavor</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.list_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_flavors</span><span class="p">(</span><span class="n">flavor_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns all flavors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_filter_model</code></td>
        <td><code>FlavorFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
                 filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[FlavorResponse]</code></td>
      <td><p>All flavors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
    <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">FlavorFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns all flavors.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">                             filtering</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All flavors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">flavor_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_flavors</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.sync_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sync_flavors</span><span class="p">(</span><span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Purge all in-built and integration flavors from the DB and sync.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None if successful. Raises an exception otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
    <span class="s2">&quot;/sync&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">sync_flavors</span><span class="p">(</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Purge all in-built and integration flavors from the DB and sync.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None if successful. Raises an exception otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permission</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">FLAVOR</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">_sync_flavors</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.flavors_endpoints.update_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_flavor</span><span class="p">(</span><span class="n">flavor_id</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a flavor.</p>
<h6 id="zenml.zen_server.routers.flavors_endpoints.update_flavor--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the flavor to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flavor_update</code></td>
        <td><code>FlavorUpdate</code></td>
        <td><p>Flavor update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponse</code></td>
      <td><p>The updated flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/flavors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{flavor_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
    <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a flavor.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: ID of the flavor to update.</span>
<span class="sd">        flavor_update: Flavor update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">flavor_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_flavor</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_flavor</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.model_versions_endpoints" class="doc doc-heading">
        <code>model_versions_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for models.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.delete_model_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a model by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The name or ID of the model version to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_model_version</span><span class="p">(</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a model by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_id: The name or ID of the model version to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">DELETE</span><span class="p">)</span>
    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.delete_model_version_artifact_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model_version_artifact_link</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">,</span> <span class="n">model_version_artifact_link_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a model version link.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the model version containing the link.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_artifact_link_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>name or ID of the model
version to artifact link to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">ARTIFACTS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{model_version_artifact_link_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_model_version_artifact_link</span><span class="p">(</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_version_artifact_link_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a model version link.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_id: ID of the model version containing the link.</span>
<span class="sd">        model_version_artifact_link_name_or_id: name or ID of the model</span>
<span class="sd">            version to artifact link to be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_model_version_artifact_link</span><span class="p">(</span>
        <span class="n">model_version_id</span><span class="p">,</span>
        <span class="n">model_version_artifact_link_name_or_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.delete_model_version_pipeline_run_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model_version_pipeline_run_link</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">,</span> <span class="n">model_version_pipeline_run_link_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a model version link.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>name or ID of the model version containing the link.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_pipeline_run_link_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>name or ID of the model
version link to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">RUNS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{model_version_pipeline_run_link_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_model_version_pipeline_run_link</span><span class="p">(</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_version_pipeline_run_link_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a model version link.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_id: name or ID of the model version containing the link.</span>
<span class="sd">        model_version_pipeline_run_link_name_or_id: name or ID of the model</span>
<span class="sd">            version link to be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_model_version_pipeline_run_link</span><span class="p">(</span>
        <span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_id</span><span class="p">,</span>
        <span class="n">model_version_pipeline_run_link_name_or_id</span><span class="o">=</span><span class="n">model_version_pipeline_run_link_name_or_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.get_model_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a model version by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>id of the model version to be retrieved.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelVersionResponse</code></td>
      <td><p>The model version with the given name or ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_model_version</span><span class="p">(</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a model version by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_id: id of the model version to be retrieved.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model version with the given name or ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
        <span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_id</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.list_model_version_artifact_links" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_model_version_artifact_links</span><span class="p">(</span><span class="n">model_version_artifact_link_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get model version to artifact links according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_artifact_link_filter_model</code></td>
        <td><code>ModelVersionArtifactFilter</code></td>
        <td><p>Filter model used for
pagination, sorting, filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ModelVersionArtifactResponse]</code></td>
      <td><p>The model version to artifact links according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_version_artifacts_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionArtifactResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_model_version_artifact_links</span><span class="p">(</span>
    <span class="n">model_version_artifact_link_filter_model</span><span class="p">:</span> <span class="n">ModelVersionArtifactFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ModelVersionArtifactFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionArtifactResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get model version to artifact links according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_artifact_link_filter_model: Filter model used for</span>
<span class="sd">            pagination, sorting, filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model version to artifact links according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_model_version_artifact_links</span><span class="p">(</span>
        <span class="n">model_version_artifact_link_filter_model</span><span class="o">=</span><span class="n">model_version_artifact_link_filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.list_model_version_pipeline_run_links" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_model_version_pipeline_run_links</span><span class="p">(</span><span class="n">model_version_pipeline_run_link_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get model version to pipeline run links according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_pipeline_run_link_filter_model</code></td>
        <td><code>ModelVersionPipelineRunFilter</code></td>
        <td><p>Filter model used for
pagination, sorting, and filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ModelVersionPipelineRunResponse]</code></td>
      <td><p>The model version to pipeline run links according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_version_pipeline_runs_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionPipelineRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_model_version_pipeline_run_links</span><span class="p">(</span>
    <span class="n">model_version_pipeline_run_link_filter_model</span><span class="p">:</span> <span class="n">ModelVersionPipelineRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ModelVersionPipelineRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionPipelineRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get model version to pipeline run links according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_pipeline_run_link_filter_model: Filter model used for</span>
<span class="sd">            pagination, sorting, and filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model version to pipeline run links according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_model_version_pipeline_run_links</span><span class="p">(</span>
        <span class="n">model_version_pipeline_run_link_filter_model</span><span class="o">=</span><span class="n">model_version_pipeline_run_link_filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.list_model_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_model_versions</span><span class="p">(</span><span class="n">model_version_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get model versions according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_filter_model</code></td>
        <td><code>ModelVersionFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ModelVersionResponse]</code></td>
      <td><p>The model versions according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_model_versions</span><span class="p">(</span>
    <span class="n">model_version_filter_model</span><span class="p">:</span> <span class="n">ModelVersionFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ModelVersionFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get model versions according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model versions according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allowed_model_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL</span>
    <span class="p">)</span>
    <span class="n">model_version_filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">model_id</span><span class="o">=</span><span class="n">allowed_model_ids</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">model_versions</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_model_versions</span><span class="p">(</span>
        <span class="n">model_version_filter_model</span><span class="o">=</span><span class="n">model_version_filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">model_versions</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.model_versions_endpoints.update_model_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">,</span> <span class="n">model_version_update_model</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get all model versions by filter.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of model version to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_update_model</code></td>
        <td><code>ModelVersionUpdate</code></td>
        <td><p>The model version to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelVersionResponse</code></td>
      <td><p>An updated model version.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/model_versions_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_model_version</span><span class="p">(</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_version_update_model</span><span class="p">:</span> <span class="n">ModelVersionUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all model versions by filter.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version_id: The ID of model version to be updated.</span>
<span class="sd">        model_version_update_model: The model version to be updated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An updated model version.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">model_version_update_model</span><span class="o">.</span><span class="n">stage</span><span class="p">:</span>
        <span class="c1"># Make sure the user has permissions to promote the model</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">PROMOTE</span><span class="p">)</span>

    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="n">updated_model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_model_version</span><span class="p">(</span>
        <span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_id</span><span class="p">,</span>
        <span class="n">model_version_update_model</span><span class="o">=</span><span class="n">model_version_update_model</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_model_version</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.models_endpoints" class="doc doc-heading">
        <code>models_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for models.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.models_endpoints.delete_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_model</span><span class="p">(</span><span class="n">model_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a model by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the model to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/models_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_model</span><span class="p">(</span>
    <span class="n">model_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a model by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_name_or_id: The name or ID of the model to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">model_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.models_endpoints.get_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model</span><span class="p">(</span><span class="n">model_name_or_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a model by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the model to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelResponse</code></td>
      <td><p>The model with the given name or ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/models_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_model</span><span class="p">(</span>
    <span class="n">model_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a model by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_name_or_id: The name or ID of the model to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model with the given name or ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">model_name_or_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.models_endpoints.list_model_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_model_versions</span><span class="p">(</span><span class="n">model_name_or_id</span><span class="p">,</span> <span class="n">model_version_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get model versions according to query filters.</p>
<p>This endpoint serves the purpose of allowing scoped filtering by model_id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the model to list in.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_filter_model</code></td>
        <td><code>ModelVersionFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ModelVersionResponse]</code></td>
      <td><p>The model versions according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/models_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">MODEL_VERSIONS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_model_versions</span><span class="p">(</span>
    <span class="n">model_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model_version_filter_model</span><span class="p">:</span> <span class="n">ModelVersionFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ModelVersionFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ModelVersionResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get model versions according to query filters.</span>

<span class="sd">    This endpoint serves the purpose of allowing scoped filtering by model_id.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_name_or_id: The name or ID of the model to list in.</span>
<span class="sd">        model_version_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model versions according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allowed_model_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL</span>
    <span class="p">)</span>
    <span class="n">model_version_filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">model_id</span><span class="o">=</span><span class="n">allowed_model_ids</span>
    <span class="p">)</span>

    <span class="n">model_versions</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_model_versions</span><span class="p">(</span>
        <span class="n">model_name_or_id</span><span class="o">=</span><span class="n">model_name_or_id</span><span class="p">,</span>
        <span class="n">model_version_filter_model</span><span class="o">=</span><span class="n">model_version_filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">model_versions</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.models_endpoints.list_models" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_models</span><span class="p">(</span><span class="n">model_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get models according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_filter_model</code></td>
        <td><code>ModelFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ModelResponse]</code></td>
      <td><p>The models according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/models_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ModelResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_models</span><span class="p">(</span>
    <span class="n">model_filter_model</span><span class="p">:</span> <span class="n">ModelFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">ModelFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ModelResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get models according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The models according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">model_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_models</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.models_endpoints.update_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_model</span><span class="p">(</span><span class="n">model_id</span><span class="p">,</span> <span class="n">model_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Name of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_update</code></td>
        <td><code>ModelUpdate</code></td>
        <td><p>Stack to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelResponse</code></td>
      <td><p>The updated model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/models_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{model_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span>
    <span class="n">model_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_update</span><span class="p">:</span> <span class="n">ModelUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_id: Name of the stack.</span>
<span class="sd">        model_update: Stack to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">model_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">model_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.pipeline_builds_endpoints" class="doc doc-heading">
        <code>pipeline_builds_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for builds.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_builds_endpoints.delete_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_build</span><span class="p">(</span><span class="n">build_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific build.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the build to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_builds_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{build_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span>
    <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific build.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: ID of the build to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_build</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_build</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_builds_endpoints.get_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_build</span><span class="p">(</span><span class="n">build_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific build using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the build to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponse</code></td>
      <td><p>A specific build object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_builds_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{build_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span>
    <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific build using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: ID of the build to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific build object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_build</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_builds_endpoints.list_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_builds</span><span class="p">(</span><span class="n">build_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a list of builds.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_filter_model</code></td>
        <td><code>PipelineBuildFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineBuildResponse]</code></td>
      <td><p>List of build objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_builds_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
    <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineBuildFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of builds.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of build objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_BUILD</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_builds</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.pipeline_deployments_endpoints" class="doc doc-heading">
        <code>pipeline_deployments_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for deployments.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_deployments_endpoints.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the deployment to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_deployments_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{deployment_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span>
    <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: ID of the deployment to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_deployment</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_deployments_endpoints.get_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific deployment using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the deployment to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponse</code></td>
      <td><p>A specific deployment object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_deployments_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{deployment_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
    <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific deployment using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: ID of the deployment to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific deployment object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipeline_deployments_endpoints.list_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_deployments</span><span class="p">(</span><span class="n">deployment_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a list of deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_filter_model</code></td>
        <td><code>PipelineDeploymentFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineDeploymentResponse]</code></td>
      <td><p>List of deployment objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipeline_deployments_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
    <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineDeploymentFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of deployment objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_DEPLOYMENT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_deployments</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.pipelines_endpoints" class="doc doc-heading">
        <code>pipelines_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for pipelines.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.delete_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_pipeline</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{pipeline_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_pipeline</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.get_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific pipeline using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponse</code></td>
      <td><p>A specific pipeline object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{pipeline_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific pipeline using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific pipeline object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.get_pipeline_spec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_spec</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets the spec of a specific pipeline using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineSpec</code></td>
      <td><p>The spec of the pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{pipeline_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_SPEC</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineSpec</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_pipeline_spec</span><span class="p">(</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineSpec</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the spec of a specific pipeline using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The spec of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">spec</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.list_pipeline_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_pipeline_runs</span><span class="p">(</span><span class="n">pipeline_run_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get pipeline runs according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run_filter_model</code></td>
        <td><code>PipelineRunFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponse]</code></td>
      <td><p>The pipeline runs according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{pipeline_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">RUNS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_pipeline_runs</span><span class="p">(</span>
    <span class="n">pipeline_run_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get pipeline runs according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline runs according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_runs</span><span class="p">(</span><span class="n">pipeline_run_filter_model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.list_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_pipelines</span><span class="p">(</span><span class="n">pipeline_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a list of pipelines.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_filter_model</code></td>
        <td><code>PipelineFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineResponse]</code></td>
      <td><p>List of pipeline objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
    <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of pipelines.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of pipeline objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_pipelines</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.pipelines_endpoints.update_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_pipeline</span><span class="p">(</span><span class="n">pipeline_id</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates the attribute on a specific pipeline using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_update</code></td>
        <td><code>PipelineUpdate</code></td>
        <td><p>the model containing the attributes to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponse</code></td>
      <td><p>The updated pipeline object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/pipelines_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{pipeline_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the attribute on a specific pipeline using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline to get.</span>
<span class="sd">        pipeline_update: the model containing the attributes to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">pipeline_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_pipeline</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.run_metadata_endpoints" class="doc doc-heading">
        <code>run_metadata_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for run metadata.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.run_metadata_endpoints.get_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_metadata</span><span class="p">(</span><span class="n">run_metadata_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get run metadata by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of run metadata.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataResponse</code></td>
      <td><p>The run metadata response.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/run_metadata_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_metadata_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">RunMetadataResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_run_metadata</span><span class="p">(</span>
    <span class="n">run_metadata_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get run metadata by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata_id: The ID of run metadata.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run metadata response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_metadata</span><span class="p">(</span>
        <span class="n">run_metadata_id</span><span class="o">=</span><span class="n">run_metadata_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.run_metadata_endpoints.list_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_metadata</span><span class="p">(</span><span class="n">run_metadata_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get run metadata according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata_filter_model</code></td>
        <td><code>RunMetadataFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RunMetadataResponse]</code></td>
      <td><p>The pipeline runs according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/run_metadata_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
    <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">RunMetadataFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get run metadata according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline runs according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">run_metadata_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">RUN_METADATA</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_run_metadata</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.runs_endpoints" class="doc doc-heading">
        <code>runs_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for pipeline runs.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_run</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.get_pipeline_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_configuration</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the pipeline configuration of a specific pipeline run using its ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The pipeline configuration of the pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_CONFIGURATION</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_pipeline_configuration</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the pipeline configuration of a specific pipeline run using its ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the pipeline run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline configuration of the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">run</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.get_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a specific pipeline run using its ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline run to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponse</code></td>
      <td><p>The pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a specific pipeline run using its ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the pipeline run to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.get_run_dag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_dag</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the DAG for a given pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline run to use to get the DAG.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>LineageGraph</code></td>
      <td><p>The DAG for a given pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">GRAPH</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">LineageGraph</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_run_dag</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LineageGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the DAG for a given pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the pipeline run to use to get the DAG.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The DAG for a given pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">LineageGraph</span><span class="p">()</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">generate_run_nodes_and_edges</span><span class="p">(</span><span class="n">run</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">graph</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.get_run_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_status</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the status of a specific pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline run for which to get the status.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExecutionStatus</code></td>
      <td><p>The status of the pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STATUS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ExecutionStatus</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_run_status</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExecutionStatus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the status of a specific pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the pipeline run for which to get the status.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The status of the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.get_run_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_steps</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get all steps for a given pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_run_filter_model</code></td>
        <td><code>StepRunFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StepRunResponse]</code></td>
      <td><p>The steps for a given pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STEPS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_run_steps</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">StepRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all steps for a given pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the pipeline run.</span>
<span class="sd">        step_run_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>

<span class="sd">    Returns:</span>
<span class="sd">        The steps for a given pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">step_run_filter_model</span><span class="o">.</span><span class="n">pipeline_run_id</span> <span class="o">=</span> <span class="n">run_id</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_run_steps</span><span class="p">(</span><span class="n">step_run_filter_model</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="n">runs_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get pipeline runs according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runs_filter_model</code></td>
        <td><code>PipelineRunFilter</code></td>
        <td><p>Filter model used for pagination, sorting, filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponse]</code></td>
      <td><p>The pipeline runs according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
    <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get pipeline runs according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        runs_filter_model: Filter model used for pagination, sorting, filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline runs according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_runs</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.runs_endpoints.update_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">,</span> <span class="n">run_model</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_model</code></td>
        <td><code>PipelineRunUpdate</code></td>
        <td><p>Run model to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponse</code></td>
      <td><p>The updated run model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/runs_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{run_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">run_model</span><span class="p">:</span> <span class="n">PipelineRunUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: ID of the run.</span>
<span class="sd">        run_model: Run model to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated run model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">run_model</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_run</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.schedule_endpoints" class="doc doc-heading">
        <code>schedule_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for pipeline run schedules.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.schedule_endpoints.delete_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_schedule</span><span class="p">(</span><span class="n">schedule_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific schedule using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/schedule_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific schedule using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_schedule</span><span class="p">(</span><span class="n">schedule_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.schedule_endpoints.get_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_schedule</span><span class="p">(</span><span class="n">schedule_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific schedule using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponse</code></td>
      <td><p>A specific schedule object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/schedule_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific schedule using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific schedule object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_schedule</span><span class="p">(</span><span class="n">schedule_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.schedule_endpoints.list_schedules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_schedules</span><span class="p">(</span><span class="n">schedule_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a list of schedules.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_filter_model</code></td>
        <td><code>ScheduleFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ScheduleResponse]</code></td>
      <td><p>List of schedule objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/schedule_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
    <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ScheduleFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of schedules.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of schedule objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_schedules</span><span class="p">(</span>
        <span class="n">schedule_filter_model</span><span class="o">=</span><span class="n">schedule_filter_model</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.schedule_endpoints.update_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_schedule</span><span class="p">(</span><span class="n">schedule_id</span><span class="p">,</span> <span class="n">schedule_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates the attribute on a specific schedule using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schedule_update</code></td>
        <td><code>ScheduleUpdate</code></td>
        <td><p>the model containing the attributes to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponse</code></td>
      <td><p>The updated schedule object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/schedule_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the attribute on a specific schedule using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule to get.</span>
<span class="sd">        schedule_update: the model containing the attributes to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated schedule object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_schedule</span><span class="p">(</span>
        <span class="n">schedule_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span> <span class="n">schedule_update</span><span class="o">=</span><span class="n">schedule_update</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.secrets_endpoints" class="doc doc-heading">
        <code>secrets_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for pipeline run secrets.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.secrets_endpoints.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific secret using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/secrets_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{secret_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific secret using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: ID of the secret to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.secrets_endpoints.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific secret using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the secret to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>A specific secret object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/secrets_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{secret_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific secret using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: ID of the secret to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific secret object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">has_permissions_for_model</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ_SECRET_VALUE</span><span class="p">):</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">remove_secrets</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">secret</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.secrets_endpoints.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="n">secret_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a list of secrets.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>List of secret objects.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/secrets_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">SecretFilterModel</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a list of secrets.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of secret objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secrets</span> <span class="o">=</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SECRET</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># This will be `None` if the user is allowed to read secret values</span>
    <span class="c1"># for all secrets</span>
    <span class="n">allowed_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SECRET</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ_SECRET_VALUE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">allowed_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">allowed_ids</span> <span class="ow">or</span> <span class="n">is_owned_by_authenticated_user</span><span class="p">(</span>
                <span class="n">secret</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">secret</span><span class="o">.</span><span class="n">remove_secrets</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">secrets</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.secrets_endpoints.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">,</span> <span class="n">patch_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates the attribute on a specific secret using its unique id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the secret to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>the model containing the attributes to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>patch_values</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Whether to patch the secret values or replace them.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/secrets_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{secret_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
    <span class="n">patch_values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates the attribute on a specific secret using its unique id.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: ID of the secret to get.</span>
<span class="sd">        secret_update: the model containing the attributes to update.</span>
<span class="sd">        patch_values: Whether to patch the secret values or replace them.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">patch_values</span><span class="p">:</span>
        <span class="c1"># If patch_values is False, interpret the update values as a complete</span>
        <span class="c1"># replacement of the existing secret values. The only adjustment we</span>
        <span class="c1"># need to make is to set the value of any keys that are not present in</span>
        <span class="c1"># the update to None, so that they are deleted.</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
                <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_secret</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.server_endpoints" class="doc doc-heading">
        <code>server_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for authentication (login).</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.server_endpoints.server_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">server_info</span><span class="p">()</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get information about the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerModel</code></td>
      <td><p>Information about the server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/server_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">INFO</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServerModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">server_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Information about the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.server_endpoints.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">()</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get version of the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>String representing the version of the server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/server_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/version&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get version of the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        String representing the version of the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zenml</span><span class="o">.</span><span class="n">__version__</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.service_accounts_endpoints" class="doc doc-heading">
        <code>service_accounts_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for API keys.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.create_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_api_key</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates an API key for a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account for which to create the
API key.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>api_key</code></td>
        <td><code>APIKeyRequest</code></td>
        <td><p>API key to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>APIKeyResponse</code></td>
      <td><p>The created API key.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">API_KEYS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">APIKeyResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_api_key</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">api_key</span><span class="p">:</span> <span class="n">APIKeyRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">APIKeyResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an API key for a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account for which to create the</span>
<span class="sd">            API key.</span>
<span class="sd">        api_key: API key to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created API key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="n">created_api_key</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_api_key</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">created_api_key</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.create_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_service_account</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account</code></td>
        <td><code>ServiceAccountRequest</code></td>
        <td><p>Service account to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceAccountResponse</code></td>
      <td><p>The created service account.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceAccountResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_service_account</span><span class="p">(</span>
    <span class="n">service_account</span><span class="p">:</span> <span class="n">ServiceAccountRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceAccountResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account: Service account to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">service_account</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_ACCOUNT</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_service_account</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.delete_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_api_key</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">api_key_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes an API key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account to which the API key
belongs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>api_key_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the API key to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">API_KEYS</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{api_key_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_api_key</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">api_key_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes an API key.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account to which the API key</span>
<span class="sd">            belongs.</span>
<span class="sd">        api_key_name_or_id: Name or ID of the API key to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_api_key</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">api_key_name_or_id</span><span class="o">=</span><span class="n">api_key_name_or_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.delete_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_service_account</span><span class="p">(</span><span class="n">service_account_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_service_account</span><span class="p">(</span>
    <span class="n">service_account_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_name_or_id: Name or ID of the service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">service_account_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_service_account</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.get_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_api_key</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">api_key_name_or_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested API key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account to which the API key
belongs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>api_key_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the API key to return.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>APIKeyResponse</code></td>
      <td><p>The requested API key.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">API_KEYS</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{api_key_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">APIKeyResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_api_key</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">api_key_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">APIKeyResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested API key.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account to which the API key</span>
<span class="sd">            belongs.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        api_key_name_or_id: Name or ID of the API key to return.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested API key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_api_key</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">api_key_name_or_id</span><span class="o">=</span><span class="n">api_key_name_or_id</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">api_key</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.get_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns a specific service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceAccountResponse</code></td>
      <td><p>The service account matching the given name or ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceAccountResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_service_account</span><span class="p">(</span>
    <span class="n">service_account_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceAccountResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a specific service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_name_or_id: Name or ID of the service account.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The service account matching the given name or ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">service_account_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.list_api_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_api_keys</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List API keys associated with a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account to which the API keys
belong.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>APIKeyFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[APIKeyResponse]</code></td>
      <td><p>All API keys matching the filter and associated with the supplied
service account.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">API_KEYS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">APIKeyResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_api_keys</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">APIKeyFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">APIKeyFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">APIKeyResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List API keys associated with a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account to which the API keys</span>
<span class="sd">            belong.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>

<span class="sd">    Returns:</span>
<span class="sd">        All API keys matching the filter and associated with the supplied</span>
<span class="sd">        service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_api_keys</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.list_service_accounts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_accounts</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns a list of service accounts.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>ServiceAccountFilter</code></td>
        <td><p>Model that takes care of filtering, sorting and
pagination.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceAccountResponse]</code></td>
      <td><p>A list of service accounts matching the filter.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ServiceAccountResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_service_accounts</span><span class="p">(</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceAccountFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ServiceAccountFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceAccountResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a list of service accounts.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: Model that takes care of filtering, sorting and</span>
<span class="sd">            pagination.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of service accounts matching the filter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_ACCOUNT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_service_accounts</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.rotate_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rotate_api_key</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">api_key_name_or_id</span><span class="p">,</span> <span class="n">rotate_request</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Rotate an API key.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account to which the API key
belongs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>api_key_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the API key to rotate.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>rotate_request</code></td>
        <td><code>APIKeyRotateRequest</code></td>
        <td><p>API key rotation request.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>APIKeyResponse</code></td>
      <td><p>The updated API key.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">API_KEYS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{api_key_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">API_KEY_ROTATE</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">APIKeyResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">rotate_api_key</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">api_key_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">rotate_request</span><span class="p">:</span> <span class="n">APIKeyRotateRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">APIKeyResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotate an API key.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account to which the API key</span>
<span class="sd">            belongs.</span>
<span class="sd">        api_key_name_or_id: Name or ID of the API key to rotate.</span>
<span class="sd">        rotate_request: API key rotation request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated API key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">rotate_api_key</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">api_key_name_or_id</span><span class="o">=</span><span class="n">api_key_name_or_id</span><span class="p">,</span>
        <span class="n">rotate_request</span><span class="o">=</span><span class="n">rotate_request</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.update_api_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_api_key</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">,</span> <span class="n">api_key_name_or_id</span><span class="p">,</span> <span class="n">api_key_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an API key for a service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service account to which the API key
belongs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>api_key_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the API key to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>api_key_update</code></td>
        <td><code>APIKeyUpdate</code></td>
        <td><p>API key update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>APIKeyResponse</code></td>
      <td><p>The updated API key.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">API_KEYS</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{api_key_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">APIKeyResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_api_key</span><span class="p">(</span>
    <span class="n">service_account_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">api_key_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">api_key_update</span><span class="p">:</span> <span class="n">APIKeyUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">APIKeyResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an API key for a service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_id: ID of the service account to which the API key</span>
<span class="sd">            belongs.</span>
<span class="sd">        api_key_name_or_id: Name or ID of the API key to update.</span>
<span class="sd">        api_key_update: API key update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated API key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_account</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">(</span><span class="n">service_account_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_account</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_api_key</span><span class="p">(</span>
        <span class="n">service_account_id</span><span class="o">=</span><span class="n">service_account_id</span><span class="p">,</span>
        <span class="n">api_key_name_or_id</span><span class="o">=</span><span class="n">api_key_name_or_id</span><span class="p">,</span>
        <span class="n">api_key_update</span><span class="o">=</span><span class="n">api_key_update</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_accounts_endpoints.update_service_account" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_account</span><span class="p">(</span><span class="n">service_account_name_or_id</span><span class="p">,</span> <span class="n">service_account_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a specific service account.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_account_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the service account.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_account_update</code></td>
        <td><code>ServiceAccountUpdate</code></td>
        <td><p>the service account to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceAccountResponse</code></td>
      <td><p>The updated service account.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_accounts_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{service_account_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceAccountResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_service_account</span><span class="p">(</span>
    <span class="n">service_account_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">service_account_update</span><span class="p">:</span> <span class="n">ServiceAccountUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceAccountResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a specific service account.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_account_name_or_id: Name or ID of the service account.</span>
<span class="sd">        service_account_update: the service account to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated service account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">service_account_name_or_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">service_account_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_account</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_service_account</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.service_connectors_endpoints" class="doc doc-heading">
        <code>service_connectors_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for service connectors.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.delete_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span>
    <span class="n">connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_id: ID of the service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">connector_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_service_connector</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.get_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">,</span> <span class="n">expand_secrets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expand_secrets</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to expand secrets or not.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponse</code></td>
      <td><p>The requested service connector.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
    <span class="n">connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">expand_secrets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_id: ID of the service connector.</span>
<span class="sd">        expand_secrets: Whether to expand secrets or not.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span>
        <span class="n">connector_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">expand_secrets</span>
        <span class="ow">and</span> <span class="n">connector</span><span class="o">.</span><span class="n">secret_id</span>
        <span class="ow">and</span> <span class="n">has_permissions_for_model</span><span class="p">(</span>
            <span class="n">connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ_SECRET_VALUE</span>
        <span class="p">)</span>
    <span class="p">):</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="c1"># Update the connector configuration with the secret.</span>
        <span class="n">connector</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_client</span><span class="p">(</span><span class="n">connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector client for a service connector and given resource.</p>
<p>This requires the service connector implementation to be installed
on the ZenML server, otherwise a 501 Not Implemented error will be
returned.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Type of the resource to list.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>ID of the resource to list.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponse</code></td>
      <td><p>A service connector client that can be used to access the given
resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SERVICE_CONNECTOR_CLIENT</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
    <span class="n">connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">    This requires the service connector implementation to be installed</span>
<span class="sd">    on the ZenML server, otherwise a 501 Not Implemented error will be</span>
<span class="sd">    returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_id: ID of the service connector.</span>
<span class="sd">        resource_type: Type of the resource to list.</span>
<span class="sd">        resource_id: ID of the resource to list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector client that can be used to access the given</span>
<span class="sd">        resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CLIENT</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector_client</span><span class="p">(</span>
        <span class="n">service_connector_id</span><span class="o">=</span><span class="n">connector_id</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.get_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_type</span><span class="p">(</span><span class="n">connector_type</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested service connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>the service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The requested service connector type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@types_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_type}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorTypeModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: the service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span><span class="n">connector_type</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.list_service_connector_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_types</span><span class="p">(</span><span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of service connector types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by connector type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by resource type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by auth method.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.v2.misc.service_connector_type.ServiceConnectorTypeModel]</code></td>
      <td><p>List of service connector types.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@types_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: Filter by connector type.</span>
<span class="sd">        resource_type: Filter by resource type.</span>
<span class="sd">        auth_method: Filter by auth method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of service connector types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_types</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_service_connector_types</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">connector_types</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.list_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connectors</span><span class="p">(</span><span class="n">connector_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">expand_secrets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of all service connectors for a specific type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_filter_model</code></td>
        <td><code>ServiceConnectorFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>expand_secrets</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to expand secrets or not.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceConnectorResponse]</code></td>
      <td><p>Page with list of service connectors for a specific type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
    <span class="n">connector_filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ServiceConnectorFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">expand_secrets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all service connectors for a specific type.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>
<span class="sd">        expand_secrets: Whether to expand secrets or not.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Page with list of service connectors for a specific type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connectors</span> <span class="o">=</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">expand_secrets</span><span class="p">:</span>
        <span class="c1"># This will be `None` if the user is allowed to read secret values</span>
        <span class="c1"># for all service connectors</span>
        <span class="n">allowed_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ_SECRET_VALUE</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">connector</span> <span class="ow">in</span> <span class="n">connectors</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">allowed_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">is_owned_by_authenticated_user</span><span class="p">(</span>
                <span class="n">connector</span>
            <span class="p">):</span>
                <span class="c1"># The user either owns the connector or has permissions to</span>
                <span class="c1"># read secret values for all service connectors</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">connector</span><span class="o">.</span><span class="n">id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_ids</span><span class="p">:</span>
                <span class="c1"># The user is not allowed to read secret values for this</span>
                <span class="c1"># connector. We don&#39;t raise an exception here but don&#39;t include</span>
                <span class="c1"># the secret values</span>
                <span class="k">continue</span>

            <span class="n">secret</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">)</span>

            <span class="c1"># Update the connector configuration with the secret.</span>
            <span class="n">connector</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">connectors</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.update_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">,</span> <span class="n">connector_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_update</code></td>
        <td><code>ServiceConnectorUpdate</code></td>
        <td><p>Service connector to use to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponse</code></td>
      <td><p>Updated service connector.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
    <span class="n">connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">connector_update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_id: ID of the service connector.</span>
<span class="sd">        connector_update: Service connector to use to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Updated service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">connector_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">connector_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_service_connector</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_and_verify_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector instance has access to one or more resources.</p>
<p>This requires the service connector implementation to be installed
on the ZenML server, otherwise a 501 Not Implemented error will be
returned.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector and matching the supplied resource
type and ID are returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector has access to, scoped
to the supplied resource type and ID, if provided.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{connector_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">validate_and_verify_service_connector</span><span class="p">(</span>
    <span class="n">connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">    This requires the service connector implementation to be installed</span>
<span class="sd">    on the ZenML server, otherwise a 501 Not Implemented error will be</span>
<span class="sd">    returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_id: The ID of the service connector to verify.</span>
<span class="sd">        resource_type: The type of resource to verify access to.</span>
<span class="sd">        resource_id: The ID of the resource to verify access to.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector and matching the supplied resource</span>
<span class="sd">            type and ID are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector has access to, scoped</span>
<span class="sd">        to the supplied resource type and ID, if provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">connector_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">verify_service_connector</span><span class="p">(</span>
        <span class="n">service_connector_id</span><span class="o">=</span><span class="n">connector_id</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.service_connectors_endpoints.validate_and_verify_service_connector_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_and_verify_service_connector_config</span><span class="p">(</span><span class="n">connector</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector configuration has access to resources.</p>
<p>This requires the service connector implementation to be installed
on the ZenML server, otherwise a 501 Not Implemented error will be
returned.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector</code></td>
        <td><code>ServiceConnectorRequest</code></td>
        <td><p>The service connector configuration to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector is returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector configuration has
access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/service_connectors_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">validate_and_verify_service_connector_config</span><span class="p">(</span>
    <span class="n">connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequest</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">    This requires the service connector implementation to be installed</span>
<span class="sd">    on the ZenML server, otherwise a 501 Not Implemented error will be</span>
<span class="sd">    returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector: The service connector configuration to verify.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector is returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector configuration has</span>
<span class="sd">        access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permission</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CREATE</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">verify_service_connector_config</span><span class="p">(</span>
        <span class="n">service_connector</span><span class="o">=</span><span class="n">connector</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.stack_components_endpoints" class="doc doc-heading">
        <code>stack_components_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for stack components.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stack_components_endpoints.deregister_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deregister_stack_component</span><span class="p">(</span><span class="n">component_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stack_components_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{component_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">deregister_stack_component</span><span class="p">(</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: ID of the stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_stack_component</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stack_components_endpoints.get_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component</span><span class="p">(</span><span class="n">component_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponse</code></td>
      <td><p>The requested stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stack_components_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{component_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: ID of the stack component.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stack_components_endpoints.get_stack_component_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component_types</span><span class="p">(</span><span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of all stack component types.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of stack components.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stack_components_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@types_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_stack_component_types</span><span class="p">(</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all stack component types.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack components.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">StackComponentType</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stack_components_endpoints.list_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stack_components</span><span class="p">(</span><span class="n">component_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of all stack components for a specific type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_filter_model</code></td>
        <td><code>ComponentFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ComponentResponse]</code></td>
      <td><p>List of stack components for a specific type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stack_components_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
    <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ComponentFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of all stack components for a specific type.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack components for a specific type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK_COMPONENT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_stack_components</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stack_components_endpoints.update_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack_component</span><span class="p">(</span><span class="n">component_id</span><span class="p">,</span> <span class="n">component_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_update</code></td>
        <td><code>ComponentUpdate</code></td>
        <td><p>Stack component to use to update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponse</code></td>
      <td><p>Updated stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stack_components_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{component_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: ID of the stack component.</span>
<span class="sd">        component_update: Stack component to use to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Updated stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.stack.utils</span> <span class="kn">import</span> <span class="n">validate_stack_component_config</span>

        <span class="n">existing_component</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">(</span><span class="n">component_id</span><span class="p">)</span>
        <span class="n">validate_stack_component_config</span><span class="p">(</span>
            <span class="n">configuration_dict</span><span class="o">=</span><span class="n">component_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
            <span class="n">flavor_name</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
            <span class="n">component_type</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">zen_store</span><span class="o">=</span><span class="n">zen_store</span><span class="p">(),</span>
            <span class="c1"># We allow custom flavors to fail import on the server side.</span>
            <span class="n">validate_custom_flavors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
        <span class="n">service_connector</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span>
            <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span>
        <span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">component_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_stack_component</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.stacks_endpoints" class="doc doc-heading">
        <code>stacks_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for stacks.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stacks_endpoints.delete_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack</span><span class="p">(</span><span class="n">stack_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Name of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stacks_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{stack_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span>
    <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: Name of the stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_stack</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stacks_endpoints.get_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack</span><span class="p">(</span><span class="n">stack_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponse</code></td>
      <td><p>The requested stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stacks_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{stack_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span>
    <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: ID of the stack.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stacks_endpoints.list_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stacks</span><span class="p">(</span><span class="n">stack_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns all stacks.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_filter_model</code></td>
        <td><code>StackFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StackResponse]</code></td>
      <td><p>All stacks.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stacks_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">StackResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
    <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">StackFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns all stacks.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All stacks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_stacks</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.stacks_endpoints.update_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack</span><span class="p">(</span><span class="n">stack_id</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Name of the stack.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack_update</code></td>
        <td><code>StackUpdate</code></td>
        <td><p>Stack to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponse</code></td>
      <td><p>The updated stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/stacks_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{stack_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
    <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: Name of the stack.</span>
<span class="sd">        stack_update: Stack to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
        <span class="n">updated_components</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">ids</span>
        <span class="p">]</span>

        <span class="n">batch_verify_permissions_for_models</span><span class="p">(</span>
            <span class="n">updated_components</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_stack</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.steps_endpoints" class="doc doc-heading">
        <code>steps_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for steps (and artifacts) of pipeline runs.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.create_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a run step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>StepRunRequest</code></td>
        <td><p>The run step to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponse</code></td>
      <td><p>The created run step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">StepRunRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a run step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The run step to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created run step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_run_step</span><span class="p">(</span><span class="n">step_run</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.get_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get one specific step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the step to get.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponse</code></td>
      <td><p>The step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{step_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_step</span><span class="p">(</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get one specific step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_id: ID of the step to get.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">)</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.get_step_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_configuration</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the configuration of a specific step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the step to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The step configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{step_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STEP_CONFIGURATION</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_step_configuration</span><span class="p">(</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the configuration of a specific step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_id: ID of the step to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.get_step_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_logs</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the logs of a specific step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the step for which to get the logs.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The logs of the step.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If no logs are available for this step.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{step_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">LOGS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_step_logs</span><span class="p">(</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the logs of a specific step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_id: ID of the step for which to get the logs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The logs of the step.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If no logs are available for this step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="n">store</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span>
    <span class="n">logs</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">logs</span>
    <span class="k">if</span> <span class="n">logs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;No logs available for this step&quot;</span>
        <span class="p">)</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">_load_artifact_store</span><span class="p">(</span><span class="n">logs</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span> <span class="n">store</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span>
        <span class="n">_load_file_from_artifact_store</span><span class="p">(</span>
            <span class="n">logs</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.get_step_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_step_status</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the status of a specific step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the step for which to get the status.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExecutionStatus</code></td>
      <td><p>The status of the step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{step_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STATUS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ExecutionStatus</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_step_status</span><span class="p">(</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExecutionStatus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the status of a specific step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_id: ID of the step for which to get the status.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The status of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">step</span><span class="o">.</span><span class="n">status</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.list_run_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_steps</span><span class="p">(</span><span class="n">step_run_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get run steps according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_filter_model</code></td>
        <td><code>StepRunFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StepRunResponse]</code></td>
      <td><p>The run steps according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
    <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">StepRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get run steps according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run steps according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allowed_pipeline_run_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>
    <span class="p">)</span>
    <span class="n">step_run_filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">allowed_pipeline_run_ids</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">page</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_run_steps</span><span class="p">(</span>
        <span class="n">step_run_filter_model</span><span class="o">=</span><span class="n">step_run_filter_model</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.steps_endpoints.update_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">step_model</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_model</code></td>
        <td><code>StepRunUpdate</code></td>
        <td><p>Step model to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponse</code></td>
      <td><p>The updated step model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/steps_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{step_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_step</span><span class="p">(</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">step_model</span><span class="p">:</span> <span class="n">StepRunUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_id: ID of the step.</span>
<span class="sd">        step_model: Step model to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated step model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">updated_step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_run_step</span><span class="p">(</span>
        <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="n">step_run_update</span><span class="o">=</span><span class="n">step_model</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_step</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.tags_endpoints" class="doc doc-heading">
        <code>tags_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for tags.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.tags_endpoints.create_tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tag</code></td>
        <td><code>TagRequestModel</code></td>
        <td><p>The tag to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TagResponseModel</code></td>
      <td><p>The created tag.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/tags_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">TagResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_tag</span><span class="p">(</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">TagRequestModel</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TagResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag: The tag to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">TAG</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_tag</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.tags_endpoints.delete_tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_tag</span><span class="p">(</span><span class="n">tag_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a tag by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tag_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the tag to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/tags_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{tag_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_tag</span><span class="p">(</span>
    <span class="n">tag_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a tag by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag_name_or_id: The name or ID of the tag to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">tag_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_tag</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_tag</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.tags_endpoints.get_tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_tag</span><span class="p">(</span><span class="n">tag_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a tag by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tag_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the tag to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TagResponseModel</code></td>
      <td><p>The tag with the given name or ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/tags_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{tag_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">TagResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_tag</span><span class="p">(</span>
    <span class="n">tag_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TagResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a tag by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag_name_or_id: The name or ID of the tag to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tag with the given name or ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">tag_name_or_id</span><span class="p">,</span> <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_tag</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.tags_endpoints.list_tags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_tags</span><span class="p">(</span><span class="n">tag_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get tags according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tag_filter_model</code></td>
        <td><code>TagFilterModel</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TagResponseModel]</code></td>
      <td><p>The tags according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/tags_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">TagResponseModel</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_tags</span><span class="p">(</span>
    <span class="n">tag_filter_model</span><span class="p">:</span> <span class="n">TagFilterModel</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">TagFilterModel</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TagResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get tags according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering</span>


<span class="sd">    Returns:</span>
<span class="sd">        The tags according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">tag_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">TAG</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_tags</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.tags_endpoints.update_tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_tag</span><span class="p">(</span><span class="n">tag_id</span><span class="p">,</span> <span class="n">tag_update_model</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tag_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Id or name of the tag.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>tag_update_model</code></td>
        <td><code>TagUpdateModel</code></td>
        <td><p>Tag to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TagResponseModel</code></td>
      <td><p>The updated tag.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/tags_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{tag_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">TagResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_tag</span><span class="p">(</span>
    <span class="n">tag_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">tag_update_model</span><span class="p">:</span> <span class="n">TagUpdateModel</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TagResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag_id: Id or name of the tag.</span>
<span class="sd">        tag_update_model: Tag to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">tag_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">tag_update_model</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_tag</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_tag</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.users_endpoints" class="doc doc-heading">
        <code>users_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for users.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.activate_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">user_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Activates a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdate</code></td>
        <td><p>the user to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@activation_router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">ACTIVATE</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">activate_user</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdate</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Activates a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        user_update: the user to use for the update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>

    <span class="c1"># NOTE: if the activation token is not set, this will raise an</span>
    <span class="c1"># exception</span>
    <span class="n">authenticate_credentials</span><span class="p">(</span>
        <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
        <span class="n">activation_token</span><span class="o">=</span><span class="n">user_update</span><span class="o">.</span><span class="n">activation_token</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user_update</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">user_update</span><span class="o">.</span><span class="n">activation_token</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.create_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a user.</p>
<h6 id="zenml.zen_server.routers.users_endpoints.create_user--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserRequest</code></td>
        <td><p>User to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The created user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">UserRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a user.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Two ways of creating a new user:</span>
    <span class="c1"># 1. Create a new user with a password and have it immediately active</span>
    <span class="c1"># 2. Create a new user without a password and have it activated at a</span>
    <span class="c1"># later time with an activation token</span>

    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">user</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">generate_activation_token</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">user</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">new_user</span> <span class="o">=</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_user</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># add back the original unhashed activation token, if generated, to</span>
    <span class="c1"># send it back to the client</span>
    <span class="k">if</span> <span class="n">token</span><span class="p">:</span>
        <span class="n">new_user</span><span class="o">.</span><span class="n">get_body</span><span class="p">()</span><span class="o">.</span><span class="n">activation_token</span> <span class="o">=</span> <span class="n">token</span>
    <span class="k">return</span> <span class="n">new_user</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.deactivate_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deactivate_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deactivates a user and generates a new activation token for it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The generated activation token.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">DEACTIVATE</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">deactivate_user</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deactivates a user and generates a new activation token for it.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated activation token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">user_update</span> <span class="o">=</span> <span class="n">UserUpdate</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">active</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">user_update</span><span class="o">.</span><span class="n">generate_activation_token</span><span class="p">()</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span>
    <span class="p">)</span>
    <span class="c1"># add back the original unhashed activation token</span>
    <span class="n">user</span><span class="o">.</span><span class="n">get_body</span><span class="p">()</span><span class="o">.</span><span class="n">activation_token</span> <span class="o">=</span> <span class="n">token</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.delete_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the user is not authorized to delete the user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the user is not authorized to delete the user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;You cannot delete the user account currently used to authenticate &quot;</span>
            <span class="s2">&quot;to the ZenML server. If you wish to delete this account, &quot;</span>
            <span class="s2">&quot;please authenticate with another account or contact your ZenML &quot;</span>
            <span class="s2">&quot;administrator.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">DELETE</span><span class="p">)</span>

    <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.email_opt_in_response" class="doc doc-heading">
<code class="highlight language-python"><span class="n">email_opt_in_response</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">user_response</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Sets the response of the user to the email prompt.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_response</code></td>
        <td><code>UserUpdate</code></td>
        <td><p>User Response to email prompt</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context of the user</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>if the user does not have the required
permissions</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">EMAIL_ANALYTICS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">email_opt_in_response</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">user_response</span><span class="p">:</span> <span class="n">UserUpdate</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the response of the user to the email prompt.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        user_response: User Response to email prompt</span>
<span class="sd">        auth_context: The authentication context of the user</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: if the user does not have the required</span>
<span class="sd">            permissions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">):</span>
        <span class="n">user_update</span> <span class="o">=</span> <span class="n">UserUpdate</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">email</span><span class="o">=</span><span class="n">user_response</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
            <span class="n">email_opted_in</span><span class="o">=</span><span class="n">user_response</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">user_response</span><span class="o">.</span><span class="n">email_opted_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">email_opt_int</span><span class="p">(</span>
                <span class="n">opted_in</span><span class="o">=</span><span class="n">user_response</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="n">user_response</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;zenml server&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">updated_user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_user</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Users can not opt in on behalf of another user.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.get_current_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_user</span><span class="p">(</span><span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the model of the authenticated user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The model of the authenticated user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@current_user_router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/current-user&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_current_user</span><span class="p">(</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the model of the authenticated user.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model of the authenticated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.get_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>A specific user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A specific user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span>
        <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.list_users" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_users</span><span class="p">(</span><span class="n">user_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns a list of all users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_filter_model</code></td>
        <td><code>UserFilter</code></td>
        <td><p>Model that takes care of filtering, sorting and
pagination.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserResponse]</code></td>
      <td><p>A list of all users.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">UserResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
    <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">UserFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a list of all users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_filter_model: Model that takes care of filtering, sorting and</span>
<span class="sd">            pagination.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all users.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allowed_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">USER</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">allowed_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Make sure users can see themselves</span>
        <span class="n">allowed_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="n">user_filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">allowed_ids</span>
    <span class="p">)</span>

    <span class="n">page</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_users</span><span class="p">(</span>
        <span class="n">user_filter_model</span><span class="o">=</span><span class="n">user_filter_model</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_page</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.update_myself" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_myself</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserUpdate</code></td>
        <td><p>the user to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>The authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@current_user_router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/current-user&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_myself</span><span class="p">(</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">UserUpdate</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: the user to use for the update.</span>
<span class="sd">        auth_context: The authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">updated_user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_update</span><span class="o">=</span><span class="n">user</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.users_endpoints.update_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">user_update</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the user.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdate</code></td>
        <td><p>the user to use for the update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponse</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/users_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="s2">&quot;/</span><span class="si">{user_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdate</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: Name or ID of the user.</span>
<span class="sd">        user_update: the user to use for the update.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">updated_user</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dehydrate_response_model</span><span class="p">(</span><span class="n">updated_user</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_server.routers.workspaces_endpoints" class="doc doc-heading">
        <code>workspaces_endpoints</code>



</h4>

    <div class="doc doc-contents ">

      <p>Endpoint definitions for workspaces.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_build</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">build</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a build.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>build</code></td>
        <td><code>PipelineBuildRequest</code></td>
        <td><p>Build to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponse</code></td>
      <td><p>The created build.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the build
does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a build.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        build: Build to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created build.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the build</span>
<span class="sd">            does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">build</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating builds outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_BUILD</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_build</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_code_repository</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>code_repository</code></td>
        <td><code>CodeRepositoryRequest</code></td>
        <td><p>Code repository to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponse</code></td>
      <td><p>The created code repository.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
code repository does not match the current workspace or
authenticated user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        code_repository: Code repository to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created code repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            code repository does not match the current workspace or</span>
<span class="sd">            authenticated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">code_repository</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating code repositories outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">code_repository</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_code_repository</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_deployment</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentRequest</code></td>
        <td><p>Deployment to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponse</code></td>
      <td><p>The created deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the
deployment does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        deployment: Deployment to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the</span>
<span class="sd">            deployment does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating deployments outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_DEPLOYMENT</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_model</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>ModelRequest</code></td>
        <td><p>The model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelResponse</code></td>
      <td><p>The created model.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
model does not match the current workspace or authenticated
user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">MODELS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_model</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">ModelRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new model.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        model: The model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created model.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            model does not match the current workspace or authenticated</span>
<span class="sd">            user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating models outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_model_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_model_version</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">model_name_or_id</span><span class="p">,</span> <span class="n">model_version</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version</code></td>
        <td><code>ModelVersionRequest</code></td>
        <td><p>The model version to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelVersionResponse</code></td>
      <td><p>The created model version.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the
model version does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">MODELS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{model_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">MODEL_VERSIONS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelVersionResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_model_version</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">ModelVersionRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelVersionResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_name_or_id: Name or ID of the model.</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        model_version: The model version to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created model version.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the</span>
<span class="sd">            model version does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">model_version</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating model versions outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">model_version</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_model_version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_model_version_artifact_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_model_version_artifact_link</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">model_version_id</span><span class="p">,</span> <span class="n">model_version_artifact_link</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new model version to artifact link.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the model version.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_artifact_link</code></td>
        <td><code>ModelVersionArtifactRequest</code></td>
        <td><p>The model version to artifact link to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelVersionArtifactResponse</code></td>
      <td><p>The created model version to artifact link.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
model version does not match the current workspace or authenticated
user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">MODEL_VERSIONS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">ARTIFACTS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelVersionArtifactResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_model_version_artifact_link</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_version_artifact_link</span><span class="p">:</span> <span class="n">ModelVersionArtifactRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelVersionArtifactResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new model version to artifact link.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        model_version_id: ID of the model version.</span>
<span class="sd">        model_version_artifact_link: The model version to artifact link to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created model version to artifact link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            model version does not match the current workspace or authenticated</span>
<span class="sd">            user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span><span class="n">model_version_artifact_link</span><span class="o">.</span><span class="n">model_version</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The model version id in your path `</span><span class="si">{</span><span class="n">model_version_id</span><span class="si">}</span><span class="s2">` does not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;match the model version specified in the request model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">model_version_artifact_link</span><span class="o">.</span><span class="n">model_version</span><span class="si">}</span><span class="s2">`&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">model_version_artifact_link</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating model version to artifact links outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">model_version_artifact_link</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating model to artifact links for a user other than yourself &quot;</span>
            <span class="s2">&quot;is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">mv</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_model_version_artifact_link</span><span class="p">(</span>
        <span class="n">model_version_artifact_link</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">mv</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_model_version_pipeline_run_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_model_version_pipeline_run_link</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">model_version_id</span><span class="p">,</span> <span class="n">model_version_pipeline_run_link</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new model version to pipeline run link.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the model version.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version_pipeline_run_link</code></td>
        <td><code>ModelVersionPipelineRunRequest</code></td>
        <td><p>The model version to pipeline run link to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ModelVersionPipelineRunResponse</code></td>
      <td><ul>
<li>If Model Version to Pipeline Run Link already exists - returns the existing link.</li>
<li>Otherwise, returns the newly created model version to pipeline run link.</li>
</ul></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
model version does not match the current workspace or authenticated
user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">MODEL_VERSIONS</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{model_version_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">RUNS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ModelVersionPipelineRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_model_version_pipeline_run_link</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model_version_pipeline_run_link</span><span class="p">:</span> <span class="n">ModelVersionPipelineRunRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelVersionPipelineRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new model version to pipeline run link.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        model_version_id: ID of the model version.</span>
<span class="sd">        model_version_pipeline_run_link: The model version to pipeline run link to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        - If Model Version to Pipeline Run Link already exists - returns the existing link.</span>
<span class="sd">        - Otherwise, returns the newly created model version to pipeline run link.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            model version does not match the current workspace or authenticated</span>
<span class="sd">            user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span>
        <span class="n">model_version_pipeline_run_link</span><span class="o">.</span><span class="n">model_version</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The model version id in your path `</span><span class="si">{</span><span class="n">model_version_id</span><span class="si">}</span><span class="s2">` does not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;match the model version specified in the request model &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">model_version_pipeline_run_link</span><span class="o">.</span><span class="n">model_version</span><span class="si">}</span><span class="s2">`&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">model_version_pipeline_run_link</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating model versions outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">model_version_pipeline_run_link</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating models for a user other than yourself &quot;</span>
            <span class="s2">&quot;is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>

    <span class="n">mv</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_model_version_pipeline_run_link</span><span class="p">(</span>
        <span class="n">model_version_pipeline_run_link</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">mv</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>PipelineRequest</code></td>
        <td><p>Pipeline to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponse</code></td>
      <td><p>The created pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the pipeline
does not match the current workspace or authenticated user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        pipeline: Pipeline to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the pipeline</span>
<span class="sd">            does not match the current workspace or authenticated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipelines outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_pipeline</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline_run</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequest</code></td>
        <td><p>Pipeline run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponse</code></td>
      <td><p>The created pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the
pipeline run does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">RUNS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_pipeline_run</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        pipeline_run: Pipeline run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the</span>
<span class="sd">            pipeline run does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipeline runs outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_run</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_metadata</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_metadata</code></td>
        <td><code>RunMetadataRequest</code></td>
        <td><p>The run metadata to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.v2.core.run_metadata.RunMetadataResponse]</code></td>
      <td><p>The created run metadata.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the run
metadata does not match the current workspace or authenticated user.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the resource type is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">RUN_METADATA</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">RunMetadataResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RunMetadataResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        run_metadata: The run metadata to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created run metadata.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the run</span>
<span class="sd">            metadata does not match the current workspace or authenticated user.</span>
<span class="sd">        RuntimeError: If the resource type is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">run_metadata</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating run metadata outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating run metadata for a user other than yourself &quot;</span>
            <span class="s2">&quot;is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">:</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">STEP_RUN</span><span class="p">:</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">:</span>
        <span class="n">artifact_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
            <span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_id</span>
        <span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">:</span>
        <span class="n">model_version</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">model_version</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unknown resource type: </span><span class="si">{</span><span class="n">run_metadata</span><span class="o">.</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">verify_permission</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">RUN_METADATA</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CREATE</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span><span class="n">run_metadata</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_schedule</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schedule</code></td>
        <td><code>ScheduleRequest</code></td>
        <td><p>Schedule to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponse</code></td>
      <td><p>The created schedule.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
schedule does not match the current workspace or authenticated user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SCHEDULES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        schedule: Schedule to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            schedule does not match the current workspace or authenticated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipeline runs outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipeline runs for a user other than yourself &quot;</span>
            <span class="s2">&quot;is not supported.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_schedule</span><span class="p">(</span><span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>Secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the
secret does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SECRETS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        secret: Secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the</span>
<span class="sd">            secret does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating a secret outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SECRET</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_secret</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_service_connector</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector</code></td>
        <td><code>ServiceConnectorRequest</code></td>
        <td><p>Service connector to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponse</code></td>
      <td><p>The created service connector.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the service
connector does not match the current workspace or authenticated
user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        connector: Service connector to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created service connector.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the service</span>
<span class="sd">            connector does not match the current workspace or authenticated</span>
<span class="sd">            user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">connector</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating connectors outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">connector</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_service_connector</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a stack for a particular workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>StackRequest</code></td>
        <td><p>Stack to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponse</code></td>
      <td><p>The created stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the stack
does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STACKS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a stack for a particular workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        stack: Stack to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the stack</span>
<span class="sd">            does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating stacks outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
        <span class="n">components</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack_component</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">ids</span>
        <span class="p">]</span>

        <span class="n">batch_verify_permissions_for_models</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_stack</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack_component</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component</code></td>
        <td><code>ComponentRequest</code></td>
        <td><p>Stack component to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponse</code></td>
      <td><p>The created stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace specified in the stack
component does not match the current workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STACK_COMPONENTS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        component: Stack component to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace specified in the stack</span>
<span class="sd">            component does not match the current workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating components outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
        <span class="n">service_connector</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span>
            <span class="n">component</span><span class="o">.</span><span class="n">connector</span>
        <span class="p">)</span>
        <span class="n">verify_permission_for_model</span><span class="p">(</span><span class="n">service_connector</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>

    <span class="kn">from</span> <span class="nn">zenml.stack.utils</span> <span class="kn">import</span> <span class="n">validate_stack_component_config</span>

    <span class="n">validate_stack_component_config</span><span class="p">(</span>
        <span class="n">configuration_dict</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
        <span class="n">flavor_name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
        <span class="n">component_type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">zen_store</span><span class="o">=</span><span class="n">zen_store</span><span class="p">(),</span>
        <span class="c1"># We allow custom flavors to fail import on the server side.</span>
        <span class="n">validate_custom_flavors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK_COMPONENT</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_stack_component</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.create_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a workspace based on the requestBody.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.create_workspace--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceRequest</code></td>
        <td><p>Workspace to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponse</code></td>
      <td><p>The created workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequest</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a workspace based on the requestBody.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: Workspace to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_create_entity</span><span class="p">(</span>
        <span class="n">request_model</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span>
        <span class="n">create_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">create_workspace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.delete_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">verify_permissions_and_delete_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">,</span>
        <span class="n">delete_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">delete_workspace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.get_or_create_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_or_create_pipeline_run</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get or create a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequest</code></td>
        <td><p>Pipeline run to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.models.v2.core.pipeline_run.PipelineRunResponse, bool]</code></td>
      <td><p>The pipeline run and a boolean indicating whether the run was created
or not.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace or user specified in the
pipeline run does not match the current workspace or authenticated
user.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">RUNS</span> <span class="o">+</span> <span class="n">GET_OR_CREATE</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="nb">bool</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">409</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_or_create_pipeline_run</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequest</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get or create a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        pipeline_run: Pipeline run to create.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run and a boolean indicating whether the run was created</span>
<span class="sd">        or not.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace or user specified in the</span>
<span class="sd">            pipeline run does not match the current workspace or authenticated</span>
<span class="sd">            user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">workspace</span> <span class="o">!=</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipeline runs outside of the workspace scope &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of this endpoint `</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}</span><span class="s2">` is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not supported.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">user</span> <span class="o">!=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Creating pipeline runs for a user other than yourself &quot;</span>
            <span class="s2">&quot;is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="n">verify_permission</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">Action</span><span class="o">.</span><span class="n">CREATE</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_or_create_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.get_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a workspace for given name.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.get_workspace--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponse</code></td>
      <td><p>The requested workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponse</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a workspace for given name.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_get_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_workspace_statistics</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets statistics of a workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.get_workspace_statistics--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace to get statistics for.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, int]</code></td>
      <td><p>All pipelines within the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STATISTICS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">get_workspace_statistics</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets statistics of a workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to get statistics for.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All pipelines within the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="n">user_id</span> <span class="o">=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span>
    <span class="n">component_filter</span> <span class="o">=</span> <span class="n">ComponentFilter</span><span class="p">(</span><span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">component_filter</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">get_allowed_resource_ids</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK_COMPONENT</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">stack_filter</span> <span class="o">=</span> <span class="n">StackFilter</span><span class="p">(</span><span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">stack_filter</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">run_filter</span> <span class="o">=</span> <span class="n">PipelineRunFilter</span><span class="p">(</span><span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">run_filter</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">pipeline_filter</span> <span class="o">=</span> <span class="n">PipelineFilter</span><span class="p">(</span><span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">pipeline_filter</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">get_allowed_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;stacks&quot;</span><span class="p">:</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">count_stacks</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter</span><span class="p">),</span>
        <span class="s2">&quot;components&quot;</span><span class="p">:</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">count_stack_components</span><span class="p">(</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter</span>
        <span class="p">),</span>
        <span class="s2">&quot;pipelines&quot;</span><span class="p">:</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">count_pipelines</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter</span><span class="p">),</span>
        <span class="s2">&quot;runs&quot;</span><span class="p">:</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">count_runs</span><span class="p">(</span><span class="n">filter_model</span><span class="o">=</span><span class="n">run_filter</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get pipeline runs according to query filters.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>runs_filter_model</code></td>
        <td><code>PipelineRunFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponse]</code></td>
      <td><p>The pipeline runs according to query filters.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">RUNS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineRunFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get pipeline runs according to query filters.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        runs_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline runs according to query filters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">runs_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_RUN</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_runs</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_service_connector_resources" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_resources</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_context</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List resources that can be accessed by service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the service connector type identifier to filter by.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the resource type identifier to filter by.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the resource identifier to filter by.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_context</code></td>
        <td><code>AuthContext</code></td>
        <td><p>Authentication context.</p></td>
        <td><code>Security(oauth2_authentication)</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.v2.misc.service_connector_type.ServiceConnectorResourcesModel]</code></td>
      <td><p>The matching list of resources that available service
connectors have access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span>
    <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span>
    <span class="o">+</span> <span class="n">SERVICE_CONNECTORS</span>
    <span class="o">+</span> <span class="n">SERVICE_CONNECTOR_RESOURCES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_context</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        connector_type: the service connector type identifier to filter by.</span>
<span class="sd">        resource_type: the resource type identifier to filter by.</span>
<span class="sd">        resource_id: the resource identifier to filter by.</span>
<span class="sd">        auth_context: Authentication context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The matching list of resources that available service</span>
<span class="sd">        connectors have access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>

    <span class="n">filter_model</span> <span class="o">=</span> <span class="n">ServiceConnectorFilter</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="n">allowed_ids</span> <span class="o">=</span> <span class="n">get_allowed_resource_ids</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span>
    <span class="p">)</span>
    <span class="n">filter_model</span><span class="o">.</span><span class="n">configure_rbac</span><span class="p">(</span>
        <span class="n">authenticated_user_id</span><span class="o">=</span><span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">allowed_ids</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_service_connector_resources</span><span class="p">(</span>
        <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_builds</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets builds defined for a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_builds--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>build_filter_model</code></td>
        <td><code>PipelineBuildFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineBuildResponse]</code></td>
      <td><p>All builds within the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_builds</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineBuildFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets builds defined for a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        build_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All builds within the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">build_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_BUILD</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_builds</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_code_repositories</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets code repositories defined for a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_code_repositories--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>CodeRepositoryFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[CodeRepositoryResponse]</code></td>
      <td><p>All code repositories within the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_code_repositories</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">CodeRepositoryFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets code repositories defined for a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All code repositories within the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_code_repositories</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_deployments</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets deployments defined for a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_deployments--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>deployment_filter_model</code></td>
        <td><code>PipelineDeploymentFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineDeploymentResponse]</code></td>
      <td><p>All deployments within the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_deployments</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineDeploymentFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets deployments defined for a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        deployment_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All deployments within the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">deployment_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE_DEPLOYMENT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_deployments</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_pipelines</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets pipelines defined for a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_pipelines--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_filter_model</code></td>
        <td><code>PipelineFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineResponse]</code></td>
      <td><p>All pipelines within the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">PIPELINES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_pipelines</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">PipelineFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets pipelines defined for a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        pipeline_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All pipelines within the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">pipeline_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">PIPELINE</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_pipelines</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_service_connectors</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List service connectors that are part of a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_service_connectors--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_filter_model</code></td>
        <td><code>ServiceConnectorFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceConnectorResponse]</code></td>
      <td><p>All service connectors part of the specified workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_service_connectors</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector_filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ServiceConnectorFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List service connectors that are part of a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        connector_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All service connectors part of the specified workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">connector_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">SERVICE_CONNECTOR</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_stack_components</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List stack components that are part of a specific workspace.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_stack_components--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_filter_model</code></td>
        <td><code>ComponentFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ComponentResponse]</code></td>
      <td><p>All stack components part of the specified workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STACK_COMPONENTS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_stack_components</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">ComponentFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List stack components that are part of a specific workspace.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        component_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All stack components part of the specified workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">component_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK_COMPONENT</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_stack_components</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspace_stacks</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get stacks that are part of a specific workspace for the user.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.list_workspace_stacks--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack_filter_model</code></td>
        <td><code>StackFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering.</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StackResponse]</code></td>
      <td><p>All stacks part of the specified workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">STACKS</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">StackResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspace_stacks</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">make_dependable</span><span class="p">(</span><span class="n">StackFilter</span><span class="p">)),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get stacks that are part of a specific workspace for the user.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">        stack_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering.</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        All stacks part of the specified workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">stack_filter_model</span><span class="o">.</span><span class="n">set_scope_workspace</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">STACK</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_stacks</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.list_workspaces" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspaces</span><span class="p">(</span><span class="n">workspace_filter_model</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">),</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Lists all workspaces in the organization.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_filter_model</code></td>
        <td><code>WorkspaceFilter</code></td>
        <td><p>Filter model used for pagination, sorting,
filtering,</p></td>
        <td><code>Depends(init_cls_and_handle_errors)</code></td>
      </tr>
      <tr>
        <td><code>hydrate</code></td>
        <td><code>bool</code></td>
        <td><p>Flag deciding whether to hydrate the output model(s)
by including metadata fields in the response.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[WorkspaceResponse]</code></td>
      <td><p>A list of workspaces.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">WORKSPACES</span><span class="p">,</span>
    <span class="n">response_model</span><span class="o">=</span><span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponse</span><span class="p">],</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
    <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilter</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span>
        <span class="n">make_dependable</span><span class="p">(</span><span class="n">WorkspaceFilter</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists all workspaces in the organization.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_filter_model: Filter model used for pagination, sorting,</span>
<span class="sd">            filtering,</span>
<span class="sd">        hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">            by including metadata fields in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of workspaces.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_list_entities</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">workspace_filter_model</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">ResourceType</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span>
        <span class="n">list_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">list_workspaces</span><span class="p">,</span>
        <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_server.routers.workspaces_endpoints.update_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">,</span> <span class="n">_</span><span class="o">=</span><span class="n">Security</span><span class="p">(</span><span class="n">oauth2_authentication</span><span class="p">))</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a workspace for given name.</p>
<h6 id="zenml.zen_server.routers.workspaces_endpoints.update_workspace--noqa-dar401">noqa: DAR401</h6>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Name or ID of the workspace to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_update</code></td>
        <td><code>WorkspaceUpdate</code></td>
        <td><p>the workspace to use to update</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponse</code></td>
      <td><p>The updated workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/routers/workspaces_endpoints.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@router</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
    <span class="n">WORKSPACES</span> <span class="o">+</span> <span class="s2">&quot;/</span><span class="si">{workspace_name_or_id}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">responses</span><span class="o">=</span><span class="p">{</span><span class="mi">401</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">404</span><span class="p">:</span> <span class="n">error_response</span><span class="p">,</span> <span class="mi">422</span><span class="p">:</span> <span class="n">error_response</span><span class="p">},</span>
<span class="p">)</span>
<span class="nd">@handle_exceptions</span>
<span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdate</span><span class="p">,</span>
    <span class="n">_</span><span class="p">:</span> <span class="n">AuthContext</span> <span class="o">=</span> <span class="n">Security</span><span class="p">(</span><span class="n">authorize</span><span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a workspace for given name.</span>

<span class="sd">    # noqa: DAR401</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to update.</span>
<span class="sd">        workspace_update: the workspace to use to update</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">verify_permissions_and_update_entity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">update_model</span><span class="o">=</span><span class="n">workspace_update</span><span class="p">,</span>
        <span class="n">get_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">,</span>
        <span class="n">update_method</span><span class="o">=</span><span class="n">zen_store</span><span class="p">()</span><span class="o">.</span><span class="n">update_workspace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Util functions for the ZenML Server.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.get_active_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_active_deployment</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the active local or remote server deployment.</p>
<p>Call this function to retrieve the local or remote server deployment that
was last provisioned on this machine.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>local</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to return the local active deployment or the remote one.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ServerDeployment]</code></td>
      <td><p>The local or remote active server deployment or None, if no deployment
was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_active_deployment</span><span class="p">(</span><span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServerDeployment&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the active local or remote server deployment.</span>

<span class="sd">    Call this function to retrieve the local or remote server deployment that</span>
<span class="sd">    was last provisioned on this machine.</span>

<span class="sd">    Args:</span>
<span class="sd">        local: Whether to return the local active deployment or the remote one.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local or remote active server deployment or None, if no deployment</span>
<span class="sd">        was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_server.deploy.deployer</span> <span class="kn">import</span> <span class="n">ServerDeployer</span>

    <span class="n">deployer</span> <span class="o">=</span> <span class="n">ServerDeployer</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">local</span><span class="p">:</span>
        <span class="n">servers</span> <span class="o">=</span> <span class="n">deployer</span><span class="o">.</span><span class="n">list_servers</span><span class="p">(</span><span class="n">provider_type</span><span class="o">=</span><span class="n">ServerProviderType</span><span class="o">.</span><span class="n">LOCAL</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">servers</span><span class="p">:</span>
            <span class="n">servers</span> <span class="o">=</span> <span class="n">deployer</span><span class="o">.</span><span class="n">list_servers</span><span class="p">(</span>
                <span class="n">provider_type</span><span class="o">=</span><span class="n">ServerProviderType</span><span class="o">.</span><span class="n">DOCKER</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">servers</span> <span class="o">=</span> <span class="n">deployer</span><span class="o">.</span><span class="n">list_servers</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">servers</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">server</span> <span class="ow">in</span> <span class="n">servers</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">provider</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">LOCAL</span><span class="p">,</span>
            <span class="n">ServerProviderType</span><span class="o">.</span><span class="n">DOCKER</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="n">local</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">server</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">local</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">server</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.get_active_server_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_active_server_details</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the URL of the current ZenML Server.</p>
<p>When multiple servers are present, the following precedence is used to
determine which server to use:
- If the client is connected to a server, that server has precedence.
- If no server is connected, a server that was deployed remotely has
    precedence over a server that was deployed locally.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[str, Optional[int]]</code></td>
      <td><p>The URL and port of the currently active server.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If no server is active.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_active_server_details</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the URL of the current ZenML Server.</span>

<span class="sd">    When multiple servers are present, the following precedence is used to</span>
<span class="sd">    determine which server to use:</span>
<span class="sd">    - If the client is connected to a server, that server has precedence.</span>
<span class="sd">    - If no server is connected, a server that was deployed remotely has</span>
<span class="sd">        precedence over a server that was deployed locally.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URL and port of the currently active server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no server is active.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check for connected servers first</span>
    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gc</span><span class="o">.</span><span class="n">uses_default_store</span><span class="p">()</span> <span class="ow">and</span> <span class="n">gc</span><span class="o">.</span><span class="n">store</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting URL of connected server.&quot;</span><span class="p">)</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">scheme</span><span class="si">}</span><span class="s2">://</span><span class="si">{</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">hostname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">port</span>
    <span class="c1"># Else, check for deployed servers</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">get_active_deployment</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">server</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting URL of remote server.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">get_active_deployment</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting URL of local server.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">server</span> <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">LocalServerDeploymentConfig</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">server</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span>
        <span class="k">return</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
        <span class="s2">&quot;ZenML is not connected to any server right now. Please use &quot;</span>
        <span class="s2">&quot;`zenml connect` to connect to a server or spin up a new local server &quot;</span>
        <span class="s2">&quot;via `zenml up`.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.get_ip_location" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_ip_location</span><span class="p">(</span><span class="n">ip_address</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the location of the given IP address.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ip_address</code></td>
        <td><code>str</code></td>
        <td><p>The IP address to get the location for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[str, str, str]</code></td>
      <td><p>A tuple of city, region, country.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_ip_location</span><span class="p">(</span><span class="n">ip_address</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the location of the given IP address.</span>

<span class="sd">    Args:</span>
<span class="sd">        ip_address: The IP address to get the location for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple of city, region, country.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">ipinfo</span>  <span class="c1"># type: ignore[import-untyped]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">ipinfo</span><span class="o">.</span><span class="n">getHandler</span><span class="p">()</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">getDetails</span><span class="p">(</span><span class="n">ip_address</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">details</span><span class="o">.</span><span class="n">city</span><span class="p">,</span>
            <span class="n">details</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">details</span><span class="o">.</span><span class="n">country_name</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not get IP location for </span><span class="si">{</span><span class="n">ip_address</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.handle_exceptions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">handle_exceptions</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Decorator to handle exceptions in the API.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>func</code></td>
        <td><code>~F</code></td>
        <td><p>Function to decorate.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~F</code></td>
      <td><p>Decorated function.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">handle_exceptions</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorator to handle exceptions in the API.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: Function to decorate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorated function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">decorated</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="c1"># These imports can&#39;t happen at module level as this module is also</span>
        <span class="c1"># used by the CLI when installed without the `server` extra</span>
        <span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">HTTPException</span>
        <span class="kn">from</span> <span class="nn">fastapi.responses</span> <span class="kn">import</span> <span class="n">JSONResponse</span>

        <span class="kn">from</span> <span class="nn">zenml.zen_server.auth</span> <span class="kn">import</span> <span class="n">AuthContext</span><span class="p">,</span> <span class="n">set_auth_context</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">AuthContext</span><span class="p">):</span>
                <span class="n">set_auth_context</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">AuthContext</span><span class="p">):</span>
                    <span class="n">set_auth_context</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
                    <span class="k">break</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">OAuthError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="c1"># The OAuthError is special because it needs to have a JSON response</span>
            <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="n">error</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
                <span class="n">content</span><span class="o">=</span><span class="n">error</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPException</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;API error&quot;</span><span class="p">)</span>
            <span class="n">http_exception</span> <span class="o">=</span> <span class="n">http_exception_from_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">http_exception</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">decorated</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.initialize_rbac" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initialize_rbac</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Initialize the RBAC component.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">initialize_rbac</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the RBAC component.&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_rbac</span>

    <span class="k">if</span> <span class="n">rbac_source</span> <span class="o">:=</span> <span class="n">server_config</span><span class="p">()</span><span class="o">.</span><span class="n">rbac_implementation_source</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">source_utils</span>

        <span class="n">implementation_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
            <span class="n">rbac_source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">RBACInterface</span>
        <span class="p">)</span>
        <span class="n">_rbac</span> <span class="o">=</span> <span class="n">implementation_class</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.initialize_zen_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initialize_zen_store</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Initialize the ZenML Store.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the ZenML Store is using a REST back-end.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">initialize_zen_store</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the ZenML Store.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the ZenML Store is using a REST back-end.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing ZenML Store for FastAPI...&quot;</span><span class="p">)</span>

    <span class="c1"># Use an environment variable to flag the instance as a server</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_SERVER</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span>

    <span class="n">zen_store_</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zen_store_</span><span class="p">,</span> <span class="n">SqlZenStore</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Server cannot be started with a REST store type. Make sure you &quot;</span>
            <span class="s2">&quot;configure ZenML to use a non-networked store backend &quot;</span>
            <span class="s2">&quot;when trying to start the ZenML Server.&quot;</span>
        <span class="p">)</span>

    <span class="k">global</span> <span class="n">_zen_store</span>
    <span class="n">_zen_store</span> <span class="o">=</span> <span class="n">zen_store_</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.make_dependable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_dependable</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>This function makes a pydantic model usable for fastapi query parameters.</p>
<p>Additionally, it converts <code>InternalServerError</code>s that would happen due to
<code>pydantic.ValidationError</code> into 422 responses that signal an invalid
request.</p>
<p>Check out https://github.com/tiangolo/fastapi/issues/1474 for context.</p>
<p>!!! usage
    def f(model: Model = Depends(make_dependable(Model))):
        ...</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cls</code></td>
        <td><code>Type[pydantic.main.BaseModel]</code></td>
        <td><p>The model class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[..., Any]</code></td>
      <td><p>Function to use in FastAPI <code>Depends</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_dependable</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function makes a pydantic model usable for fastapi query parameters.</span>

<span class="sd">    Additionally, it converts `InternalServerError`s that would happen due to</span>
<span class="sd">    `pydantic.ValidationError` into 422 responses that signal an invalid</span>
<span class="sd">    request.</span>

<span class="sd">    Check out https://github.com/tiangolo/fastapi/issues/1474 for context.</span>

<span class="sd">    Usage:</span>
<span class="sd">        def f(model: Model = Depends(make_dependable(Model))):</span>
<span class="sd">            ...</span>

<span class="sd">    Args:</span>
<span class="sd">        cls: The model class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Function to use in FastAPI `Depends`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">init_cls_and_handle_errors</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseModel</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">HTTPException</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">init_cls_and_handle_errors</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">errors</span><span class="p">():</span>
                <span class="n">error</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="s2">&quot;query&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s2">&quot;loc&quot;</span><span class="p">]))</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">errors</span><span class="p">())</span>

    <span class="n">init_cls_and_handle_errors</span><span class="o">.</span><span class="n">__signature__</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>  <span class="c1"># type: ignore[attr-defined]</span>

    <span class="k">return</span> <span class="n">init_cls_and_handle_errors</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.rbac" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rbac</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Return the initialized RBAC component.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the RBAC component is not initialized.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RBACInterface</code></td>
      <td><p>The RBAC component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rbac</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RBACInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the initialized RBAC component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the RBAC component is not initialized.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The RBAC component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_rbac</span>
    <span class="k">if</span> <span class="n">_rbac</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;RBAC component not initialized&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_rbac</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.server_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">server_config</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the ZenML Server configuration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerConfiguration</code></td>
      <td><p>The ZenML Server configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">server_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ServerConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the ZenML Server configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML Server configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_server_config</span>
    <span class="k">if</span> <span class="n">_server_config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_server_config</span> <span class="o">=</span> <span class="n">ServerConfiguration</span><span class="o">.</span><span class="n">get_server_config</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">_server_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.utils.zen_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">zen_store</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Initialize the ZenML Store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SqlZenStore</code></td>
      <td><p>The ZenML Store.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the ZenML Store has not been initialized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">zen_store</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="s2">&quot;SqlZenStore&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the ZenML Store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML Store.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the ZenML Store has not been initialized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_zen_store</span>
    <span class="k">if</span> <span class="n">_zen_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;ZenML Store not initialized&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_zen_store</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_server.zen_server_api" class="doc doc-heading">
        <code>zen_server_api</code>



</h3>

    <div class="doc doc-contents ">

      <p>Zen Server API.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.catch_all" class="doc doc-heading">
<code class="highlight language-python"><span class="n">catch_all</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Dashboard endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>Request object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>Path to a file in the dashboard root folder.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The ZenML dashboard.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>404 error if requested a non-existent static file or if
the dashboard files are not included.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/{file_path:path}&quot;</span><span class="p">,</span> <span class="n">include_in_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">catch_all</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dashboard endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: Request object.</span>
<span class="sd">        file_path: Path to a file in the dashboard root folder.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML dashboard.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: 404 error if requested a non-existent static file or if</span>
<span class="sd">            the dashboard files are not included.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># some static files need to be served directly from the root dashboard</span>
    <span class="c1"># directory</span>
    <span class="k">if</span> <span class="n">file_path</span> <span class="ow">and</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">root_static_files</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Returning static file: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">full_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">relative_path</span><span class="p">(</span><span class="n">DASHBOARD_DIRECTORY</span><span class="p">),</span> <span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FileResponse</span><span class="p">(</span><span class="n">full_path</span><span class="p">)</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="n">file_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">query_params</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested non-existent static file: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">relative_path</span><span class="p">(</span><span class="n">DASHBOARD_DIRECTORY</span><span class="p">),</span> <span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

    <span class="c1"># everything else is directed to the index.html file that hosts the</span>
    <span class="c1"># single-page application</span>
    <span class="k">return</span> <span class="n">templates</span><span class="o">.</span><span class="n">TemplateResponse</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.dashboard" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dashboard</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Dashboard endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>Request object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The ZenML dashboard.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>If the dashboard files are not included.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">include_in_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">dashboard</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dashboard endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: Request object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML dashboard.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the dashboard files are not included.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">relative_path</span><span class="p">(</span><span class="n">DASHBOARD_DIRECTORY</span><span class="p">),</span> <span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">templates</span><span class="o">.</span><span class="n">TemplateResponse</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.get_root_static_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_root_static_files</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the list of static files in the root dashboard directory.</p>
<p>These files are static files that are not in the /static subdirectory
that need to be served as static files under the root URL path.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of static files in the root directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_root_static_files</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the list of static files in the root dashboard directory.</span>

<span class="sd">    These files are static files that are not in the /static subdirectory</span>
<span class="sd">    that need to be served as static files under the root URL path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of static files in the root directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_path</span> <span class="o">=</span> <span class="n">relative_path</span><span class="p">(</span><span class="n">DASHBOARD_DIRECTORY</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">root_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">root_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">file</span> <span class="o">==</span> <span class="s2">&quot;index.html&quot;</span><span class="p">:</span>
            <span class="c1"># this is served separately</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_path</span><span class="p">,</span> <span class="n">file</span><span class="p">)):</span>
            <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.health" class="doc doc-heading">
<code class="highlight language-python"><span class="n">health</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get health status of the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>String representing the health status of the server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">HEALTH</span><span class="p">,</span> <span class="n">include_in_schema</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">HEALTH</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">health</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get health status of the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        String representing the health status of the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;OK&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.infer_source_context" class="doc doc-heading">
<code class="highlight language-python"><span class="n">infer_source_context</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">call_next</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>A middleware to track the source of an event.</p>
<p>It extracts the source context from the header of incoming requests
and applies it to the ZenML source context on the API side. This way, the
outgoing analytics request can append it as an additional field.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Request</code></td>
        <td><p>the incoming request object.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>call_next</code></td>
        <td><code>Any</code></td>
        <td><p>a function that will receive the request as a parameter and
pass it to the corresponding path operation.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>the response to the request.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">middleware</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">infer_source_context</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">call_next</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A middleware to track the source of an event.</span>

<span class="sd">    It extracts the source context from the header of incoming requests</span>
<span class="sd">    and applies it to the ZenML source context on the API side. This way, the</span>
<span class="sd">    outgoing analytics request can append it as an additional field.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: the incoming request object.</span>
<span class="sd">        call_next: a function that will receive the request as a parameter and</span>
<span class="sd">            pass it to the corresponding path operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the response to the request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">source_context</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">SourceContextTypes</span><span class="o">.</span><span class="n">API</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">source_context</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">SourceContextTypes</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;An unexpected error occurred while getting the source &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">source_context</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">SourceContextTypes</span><span class="o">.</span><span class="n">API</span><span class="p">)</span>

    <span class="k">return</span> <span class="k">await</span> <span class="n">call_next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.initialize" class="doc doc-heading">
<code class="highlight language-python"><span class="n">initialize</span><span class="p">()</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Initialize the ZenML server.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">initialize</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the ZenML server.&quot;&quot;&quot;</span>
    <span class="c1"># IMPORTANT: these need to be run before the fastapi app starts, to avoid</span>
    <span class="c1"># race conditions</span>
    <span class="n">initialize_zen_store</span><span class="p">()</span>
    <span class="n">initialize_rbac</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.invalid_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">invalid_api</span><span class="p">(</span><span class="n">invalid_api_path</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Invalid API endpoint.</p>
<p>All API endpoints that are not defined in the API routers will be
redirected to this endpoint and will return a 404 error.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>invalid_api_path</code></td>
        <td><code>str</code></td>
        <td><p>Invalid API path.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>HTTPException</code></td>
        <td><p>404 error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">API</span> <span class="o">+</span> <span class="s2">&quot;/{invalid_api_path:path}&quot;</span><span class="p">,</span> <span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">include_in_schema</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">invalid_api</span><span class="p">(</span><span class="n">invalid_api_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Invalid API endpoint.</span>

<span class="sd">    All API endpoints that are not defined in the API routers will be</span>
<span class="sd">    redirected to this endpoint and will return a 404 error.</span>

<span class="sd">    Args:</span>
<span class="sd">        invalid_api_path: Invalid API path.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid API path requested: </span><span class="si">{</span><span class="n">invalid_api_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.relative_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">relative_path</span><span class="p">(</span><span class="n">rel</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the absolute path of a path relative to the ZenML server module.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>rel</code></td>
        <td><code>str</code></td>
        <td><p>Relative path.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Absolute path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">relative_path</span><span class="p">(</span><span class="n">rel</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the absolute path of a path relative to the ZenML server module.</span>

<span class="sd">    Args:</span>
<span class="sd">        rel: Relative path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Absolute path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="n">rel</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.zen_server.zen_server_api.validation_exception_handler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validation_exception_handler</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Custom validation exception handler.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>Any</code></td>
        <td><p>The request.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exc</code></td>
        <td><code>Exception</code></td>
        <td><p>The exception.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ORJSONResponse</code></td>
      <td><p>The error response formatted using the ZenML API conventions.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_server/zen_server_api.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">exception_handler</span><span class="p">(</span><span class="n">RequestValidationError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validation_exception_handler</span><span class="p">(</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exc</span><span class="p">:</span> <span class="ne">Exception</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ORJSONResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom validation exception handler.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request.</span>
<span class="sd">        exc: The exception.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The error response formatted using the ZenML API conventions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">error_detail</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">),</span> <span class="n">status_code</span><span class="o">=</span><span class="mi">422</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-utils/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Utils" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Utils
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-zen_stores/" class="md-footer__link md-footer__link--next" aria-label="Next: Zen Stores" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Zen Stores
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>