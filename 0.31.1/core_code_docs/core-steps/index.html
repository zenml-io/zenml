
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.31.1/core_code_docs/core-steps/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Steps - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#steps" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Steps
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Steps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Steps
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_parameters" class="md-nav__link">
    base_parameters
  </a>
  
    <nav class="md-nav" aria-label="base_parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_parameters.BaseParameters" class="md-nav__link">
    BaseParameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step" class="md-nav__link">
    base_step
  </a>
  
    <nav class="md-nav" aria-label="base_step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep" class="md-nav__link">
    BaseStep
  </a>
  
    <nav class="md-nav" aria-label="BaseStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.caching_parameters" class="md-nav__link">
    caching_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.configuration" class="md-nav__link">
    configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.docstring" class="md-nav__link">
    docstring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.enable_cache" class="md-nav__link">
    enable_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.inputs" class="md-nav__link">
    inputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.source_code" class="md-nav__link">
    source_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.source_object" class="md-nav__link">
    source_object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.upstream_steps" class="md-nav__link">
    upstream_steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.after" class="md-nav__link">
    after()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.configure" class="md-nav__link">
    configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.entrypoint" class="md-nav__link">
    entrypoint()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.load_from_source" class="md-nav__link">
    load_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.with_return_materializers" class="md-nav__link">
    with_return_materializers()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStepMeta" class="md-nav__link">
    BaseStepMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseStepMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStepMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context" class="md-nav__link">
    step_context
  </a>
  
    <nav class="md-nav" aria-label="step_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext" class="md-nav__link">
    StepContext
  </a>
  
    <nav class="md-nav" aria-label="StepContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.stack" class="md-nav__link">
    stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.get_output_artifact_uri" class="md-nav__link">
    get_output_artifact_uri()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.get_output_materializer" class="md-nav__link">
    get_output_materializer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput" class="md-nav__link">
    StepContextOutput
  </a>
  
    <nav class="md-nav" aria-label="StepContextOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_decorator" class="md-nav__link">
    step_decorator
  </a>
  
    <nav class="md-nav" aria-label="step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_decorator.step" class="md-nav__link">
    step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment" class="md-nav__link">
    step_environment
  </a>
  
    <nav class="md-nav" aria-label="step_environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment" class="md-nav__link">
    StepEnvironment
  </a>
  
    <nav class="md-nav" aria-label="StepEnvironment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.cache_enabled" class="md-nav__link">
    cache_enabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.pipeline_name" class="md-nav__link">
    pipeline_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.pipeline_run_id" class="md-nav__link">
    pipeline_run_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.run_name" class="md-nav__link">
    run_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.step_name" class="md-nav__link">
    step_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.step_run_info" class="md-nav__link">
    step_run_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output" class="md-nav__link">
    step_output
  </a>
  
    <nav class="md-nav" aria-label="step_output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output.items" class="md-nav__link">
    items()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils.parse_return_type_annotations" class="md-nav__link">
    parse_return_type_annotations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils.resolve_type_annotation" class="md-nav__link">
    resolve_type_annotation()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-dash/" class="md-nav__link">
        Dash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-graphviz/" class="md-nav__link">
        Graphviz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-plotly/" class="md-nav__link">
        Plotly
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_parameters" class="md-nav__link">
    base_parameters
  </a>
  
    <nav class="md-nav" aria-label="base_parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_parameters.BaseParameters" class="md-nav__link">
    BaseParameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step" class="md-nav__link">
    base_step
  </a>
  
    <nav class="md-nav" aria-label="base_step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep" class="md-nav__link">
    BaseStep
  </a>
  
    <nav class="md-nav" aria-label="BaseStep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.caching_parameters" class="md-nav__link">
    caching_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.configuration" class="md-nav__link">
    configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.docstring" class="md-nav__link">
    docstring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.enable_cache" class="md-nav__link">
    enable_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.inputs" class="md-nav__link">
    inputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.source_code" class="md-nav__link">
    source_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.source_object" class="md-nav__link">
    source_object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.upstream_steps" class="md-nav__link">
    upstream_steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.__call__" class="md-nav__link">
    __call__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.after" class="md-nav__link">
    after()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.configure" class="md-nav__link">
    configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.entrypoint" class="md-nav__link">
    entrypoint()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.load_from_source" class="md-nav__link">
    load_from_source()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStep.with_return_materializers" class="md-nav__link">
    with_return_materializers()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStepMeta" class="md-nav__link">
    BaseStepMeta
  </a>
  
    <nav class="md-nav" aria-label="BaseStepMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.base_step.BaseStepMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context" class="md-nav__link">
    step_context
  </a>
  
    <nav class="md-nav" aria-label="step_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext" class="md-nav__link">
    StepContext
  </a>
  
    <nav class="md-nav" aria-label="StepContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.stack" class="md-nav__link">
    stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.get_output_artifact_uri" class="md-nav__link">
    get_output_artifact_uri()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContext.get_output_materializer" class="md-nav__link">
    get_output_materializer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput" class="md-nav__link">
    StepContextOutput
  </a>
  
    <nav class="md-nav" aria-label="StepContextOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_context.StepContextOutput.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_decorator" class="md-nav__link">
    step_decorator
  </a>
  
    <nav class="md-nav" aria-label="step_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_decorator.step" class="md-nav__link">
    step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment" class="md-nav__link">
    step_environment
  </a>
  
    <nav class="md-nav" aria-label="step_environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment" class="md-nav__link">
    StepEnvironment
  </a>
  
    <nav class="md-nav" aria-label="StepEnvironment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.cache_enabled" class="md-nav__link">
    cache_enabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.pipeline_name" class="md-nav__link">
    pipeline_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.pipeline_run_id" class="md-nav__link">
    pipeline_run_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.run_name" class="md-nav__link">
    run_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.step_name" class="md-nav__link">
    step_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.step_run_info" class="md-nav__link">
    step_run_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_environment.StepEnvironment.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output" class="md-nav__link">
    step_output
  </a>
  
    <nav class="md-nav" aria-label="step_output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.step_output.Output.items" class="md-nav__link">
    items()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils.parse_return_type_annotations" class="md-nav__link">
    parse_return_type_annotations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.steps.utils.resolve_type_annotation" class="md-nav__link">
    resolve_type_annotation()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-steps.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="steps">Steps</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.steps" class="doc doc-heading">
        <code>zenml.steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initializer for ZenML steps.</p>
<p>A step is a single piece or stage of a ZenML pipeline. Think of each step as
being one of the nodes of a Directed Acyclic Graph (or DAG). Steps are
responsible for one aspect of processing or interacting with the data /
artifacts in the pipeline.</p>
<p>Conceptually, a Step is a discrete and independent part of a pipeline that is
responsible for one particular aspect of data manipulation inside a ZenML
pipeline.</p>
<p>Steps can be subclassed from the <code>BaseStep</code> class, or used via our <code>@step</code>
decorator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.base_parameters" class="doc doc-heading">
        <code>base_parameters</code>



</h3>

    <div class="doc doc-contents ">

      <p>Step parameters.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.base_parameters.BaseParameters" class="doc doc-heading">
        <code>
BaseParameters            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Base class to pass parameters into a step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_parameters.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseParameters</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class to pass parameters into a step.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.base_step" class="doc doc-heading">
        <code>base_step</code>



</h3>

    <div class="doc doc-contents ">

      <p>Base Step for ZenML.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.base_step.BaseStep" class="doc doc-heading">
        <code>
BaseStep        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Abstract base class for all ZenML steps.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td></td>
        <td><p>The name of this step.</p></td>
      </tr>
      <tr>
        <td><code>pipeline_parameter_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the pipeline parameter for which
this step was passed as an argument.</p></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td></td>
        <td><p>A boolean indicating if caching is enabled for this step.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseStep</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">BaseStepMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract base class for all ZenML steps.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The name of this step.</span>
<span class="sd">        pipeline_parameter_name: The name of the pipeline parameter for which</span>
<span class="sd">            this step was passed as an argument.</span>
<span class="sd">        enable_cache: A boolean indicating if caching is enabled for this step.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">INPUT_SIGNATURE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore[assignment] # noqa</span>
    <span class="n">OUTPUT_SIGNATURE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore[assignment] # noqa</span>
    <span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">PARAMETERS_CLASS</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseParameters&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">CONTEXT_PARAMETER_NAME</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">INSTANCE_CONFIGURATION</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">class</span> <span class="nc">_OutputArtifact</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Internal step output artifact.</span>

<span class="sd">        This class is used for inputs/outputs of the __call__ method of</span>
<span class="sd">        BaseStep. It passes all the information about step outputs so downstream</span>
<span class="sd">        steps can finalize their configuration.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            name: Name of the output.</span>
<span class="sd">            step_name: Name of the step that produced this output.</span>
<span class="sd">            materializer_source: The source of the materializer used to</span>
<span class="sd">                write the output.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
        <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span>
        <span class="n">materializer_source</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a step.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Positional arguments passed to the step.</span>
<span class="sd">            **kwargs: Keyword arguments passed to the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_parameter_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">InputSpec</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_STEP_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="c1"># This value is only used in `BaseStep.__created_by_functional_api()`</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_CREATED_BY_FUNCTIONAL_API</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">requires_context</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span><span class="p">)</span>
        <span class="n">enable_cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_ENABLE_CACHE</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">enable_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">requires_context</span><span class="p">:</span>
                <span class="c1"># Using the StepContext inside a step provides access to</span>
                <span class="c1"># external resources which might influence the step execution.</span>
                <span class="c1"># We therefore disable caching unless it is explicitly enabled</span>
                <span class="n">enable_cache</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Step &#39;</span><span class="si">%s</span><span class="s2">&#39;: Step context required and caching not &quot;</span>
                    <span class="s2">&quot;explicitly enabled.&quot;</span><span class="p">,</span>
                    <span class="n">name</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Step &#39;</span><span class="si">%s</span><span class="s2">&#39;: Caching </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span> <span class="k">if</span> <span class="n">enable_cache</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">PartialStepConfiguration</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_class_configuration</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_verify_and_apply_init_params</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Abstract method for core step logic.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Positional arguments passed to the step.</span>
<span class="sd">            **kwargs: Keyword arguments passed to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The output of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_created_by_functional_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns if the step class was created by the functional API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            `True` if the class was created by the functional API,</span>
<span class="sd">            `False` otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">INSTANCE_CONFIGURATION</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">PARAM_CREATED_BY_FUNCTIONAL_API</span><span class="p">,</span> <span class="kc">False</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load_from_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads a step from source.</span>

<span class="sd">        Args:</span>
<span class="sd">            source: The path to the step source.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
            <span class="n">source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseStep</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">step_class</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">upstream_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Names of the upstream steps of this step.</span>

<span class="sd">        This property will only contain the full set of upstream steps once</span>
<span class="sd">        it&#39;s parent pipeline `connect(...)` method was called.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set of upstream step names.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span>

    <span class="k">def</span> <span class="nf">after</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds an upstream step to this step.</span>

<span class="sd">        Calling this method makes sure this step only starts running once the</span>
<span class="sd">        given step has successfully finished executing.</span>

<span class="sd">        **Note**: This can only be called inside the pipeline connect function</span>
<span class="sd">        which is decorated with the `@pipeline` decorator. Any calls outside</span>
<span class="sd">        this function will be ignored.</span>

<span class="sd">        Example:</span>
<span class="sd">        The following pipeline will run its steps sequentially in the following</span>
<span class="sd">        order: step_2 -&gt; step_1 -&gt; step_3</span>

<span class="sd">        ```python</span>
<span class="sd">        @pipeline</span>
<span class="sd">        def example_pipeline(step_1, step_2, step_3):</span>
<span class="sd">            step_1.after(step_2)</span>
<span class="sd">            step_3(step_1(), step_2())</span>
<span class="sd">        ```</span>

<span class="sd">        Args:</span>
<span class="sd">            step: A step which should finish executing before this step is</span>
<span class="sd">                started.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">InputSpec</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Step input specifications.</span>

<span class="sd">        This depends on the upstream steps in a pipeline and can therefore</span>
<span class="sd">        only be accessed once the step has been called in a pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If this property is accessed before the step was</span>
<span class="sd">                called in a pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step input specifications.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Step inputs can only be accessed once a step has been called &quot;</span>
                <span class="s2">&quot;inside a pipeline.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inputs</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">source_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The source object of this step.</span>

<span class="sd">        This is either a function wrapped by the `@step` decorator or a custom</span>
<span class="sd">        step class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The source object of this step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_created_by_functional_api</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entrypoint</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">source_code</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The source code of this step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The source code of this step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_object</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docstring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The docstring of this step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docstring of this step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">caching_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Caching parameters for this step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary containing the caching parameters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">parameters</span><span class="p">[</span>
            <span class="n">STEP_SOURCE_PARAMETER_NAME</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">get_hashed_source</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_object</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">_materializer_source&quot;</span>
                <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_source_path_class</span><span class="p">(</span>
                    <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span>
                <span class="p">)</span>
                <span class="n">parameters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">get_hashed_source</span><span class="p">(</span>
                    <span class="n">materializer_class</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">parameters</span>

    <span class="k">def</span> <span class="nf">_apply_class_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies the configurations specified on the step class.</span>

<span class="sd">        Args:</span>
<span class="sd">            options: Class configurations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_operator</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_STEP_OPERATOR</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_SETTINGS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">output_materializers</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_OUTPUT_MATERIALIZERS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">output_artifacts</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_OUTPUT_ARTIFACTS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_EXTRA_OPTIONS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">experiment_tracker</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_EXPERIMENT_TRACKER</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
            <span class="n">experiment_tracker</span><span class="o">=</span><span class="n">experiment_tracker</span><span class="p">,</span>
            <span class="n">step_operator</span><span class="o">=</span><span class="n">step_operator</span><span class="p">,</span>
            <span class="n">output_artifacts</span><span class="o">=</span><span class="n">output_artifacts</span><span class="p">,</span>
            <span class="n">output_materializers</span><span class="o">=</span><span class="n">output_materializers</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
            <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_verify_and_apply_init_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies the initialization args and kwargs of this step.</span>

<span class="sd">        This method makes sure that there is only one parameters object passed</span>
<span class="sd">        at initialization and that it was passed using the correct name and</span>
<span class="sd">        type specified in the step declaration.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: The args passed to the init method of this step.</span>
<span class="sd">            **kwargs: The kwargs passed to the init method of this step.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If there are too many arguments or arguments</span>
<span class="sd">                with a wrong name/type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">maximum_arg_count</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">arg_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">arg_count</span> <span class="o">&gt;</span> <span class="n">maximum_arg_count</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Too many arguments (</span><span class="si">{</span><span class="n">arg_count</span><span class="si">}</span><span class="s2">, expected: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">maximum_arg_count</span><span class="si">}</span><span class="s2">) passed when creating a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; step.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">config</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Unknown keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; when creating a &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; step, only expected a single &quot;</span>
                        <span class="s2">&quot;argument with key &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># This step requires configuration parameters but no parameters</span>
                <span class="c1"># object was passed as an argument. The parameters might be</span>
                <span class="c1"># set via default values in the parameters class or in a</span>
                <span class="c1"># configuration file, so we continue for now and verify</span>
                <span class="c1"># that all parameters are set before running the step</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">config</span><span class="si">}</span><span class="s2">` object passed when creating a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; step is not a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` instance.&quot;</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_input_artifacts</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_OutputArtifact</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies and prepares the input artifacts for running this step.</span>

<span class="sd">        Args:</span>
<span class="sd">            *artifacts: Positional input artifacts passed to</span>
<span class="sd">                the __call__ method.</span>
<span class="sd">            **kw_artifacts: Keyword input artifacts passed to</span>
<span class="sd">                the __call__ method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary containing both the positional and keyword input</span>
<span class="sd">            artifacts.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If there are too many or too few artifacts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">input_artifact_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">artifacts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_artifact_keys</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Too many input artifacts for step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This step expects </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">input_artifact_keys</span><span class="p">)</span><span class="si">}</span><span class="s2"> artifact(s) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;but got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">artifacts</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">kw_artifacts</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">combined_artifacts</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">artifacts</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Wrong argument type (`</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span><span class="si">}</span><span class="s2">`) for positional &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;argument </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> of step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Only outputs &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;from previous steps can be used as arguments when &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;connecting steps.&quot;</span>
                <span class="p">)</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">input_artifact_keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">combined_artifacts</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">artifact</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">kw_artifacts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">combined_artifacts</span><span class="p">:</span>
                <span class="c1"># an artifact for this key was already set by</span>
                <span class="c1"># the positional input artifacts</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; for step &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. An artifact for this key was &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;already passed as a positional argument.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Wrong argument type (`</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span><span class="si">}</span><span class="s2">`) for argument &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; of step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Only outputs from &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;previous steps can be used as arguments when &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;connecting steps.&quot;</span>
                <span class="p">)</span>

            <span class="n">combined_artifacts</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">artifact</span>

        <span class="c1"># check if there are any missing or unexpected artifacts</span>
        <span class="n">expected_artifacts</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">actual_artifacts</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">combined_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">missing_artifacts</span> <span class="o">=</span> <span class="n">expected_artifacts</span> <span class="o">-</span> <span class="n">actual_artifacts</span>
        <span class="n">unexpected_artifacts</span> <span class="o">=</span> <span class="n">actual_artifacts</span> <span class="o">-</span> <span class="n">expected_artifacts</span>

        <span class="k">if</span> <span class="n">missing_artifacts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Missing input artifact(s) for step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">missing_artifacts</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">unexpected_artifacts</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected input artifact(s) for step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">unexpected_artifacts</span><span class="si">}</span><span class="s2">. This step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only requires the following artifacts: </span><span class="si">{</span><span class="n">expected_artifacts</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">combined_artifacts</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">_OutputArtifact</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">_OutputArtifact</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finalizes the step input and output configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            *artifacts: Positional input artifacts passed to</span>
<span class="sd">                the __call__ method.</span>
<span class="sd">            **kw_artifacts: Keyword input artifacts passed to</span>
<span class="sd">                the __call__ method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A single output artifact or a list of output artifacts.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If the step has already been called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has already been called. A ZenML step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;instance can only be called once per pipeline run.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Prepare the input artifacts and spec</span>
        <span class="n">input_artifacts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_input_artifacts</span><span class="p">(</span>
            <span class="o">*</span><span class="n">artifacts</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">input_</span> <span class="ow">in</span> <span class="n">input_artifacts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_inputs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">InputSpec</span><span class="p">(</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
                <span class="n">output_name</span><span class="o">=</span><span class="n">input_</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_configuration</span><span class="p">(</span><span class="n">input_artifacts</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">)</span>

        <span class="c1"># Resolve the returns in the right order.</span>
        <span class="n">returns</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">:</span>
            <span class="n">materializer_source</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">outputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">materializer_source</span>
            <span class="n">output_artifact</span> <span class="o">=</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                <span class="n">step_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">materializer_source</span><span class="o">=</span><span class="n">materializer_source</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">returns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output_artifact</span><span class="p">)</span>

        <span class="c1"># If its one return we just return the one channel not as a list</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">returns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">returns</span>

    <span class="k">def</span> <span class="nf">with_return_materializers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
        <span class="n">materializers</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">]]</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;DEPRECATED: Register materializers for step outputs.</span>

<span class="sd">        If a single materializer is passed, it will be used for all step</span>
<span class="sd">        outputs. Otherwise, the dictionary keys specify the output names</span>
<span class="sd">        for which the materializers will be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            materializers: The materializers for the outputs of this step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step that this method was called on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;The `with_return_materializers(...)` method is deprecated. &quot;</span>
            <span class="s2">&quot;Use `step.configure(output_materializers=...)` instead.&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">output_materializers</span><span class="o">=</span><span class="n">materializers</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enable_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If caching is enabled for the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If caching is enabled for the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">enable_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PartialStepConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The configuration of the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ParametersOrDict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_materializers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="s2">&quot;OutputMaterializersSpecification&quot;</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;OutputArtifactsSpecification&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configures the step.</span>

<span class="sd">        Configuration merging example:</span>
<span class="sd">        * `merge==True`:</span>
<span class="sd">            step.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">            step.configure(extra={&quot;key2&quot;: 2}, merge=True)</span>
<span class="sd">            step.configuration.extra # {&quot;key1&quot;: 1, &quot;key2&quot;: 2}</span>
<span class="sd">        * `merge==False`:</span>
<span class="sd">            step.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">            step.configure(extra={&quot;key2&quot;: 2}, merge=False)</span>
<span class="sd">            step.configuration.extra # {&quot;key2&quot;: 2}</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the step.</span>
<span class="sd">            enable_cache: If caching should be enabled for this step.</span>
<span class="sd">            experiment_tracker: The experiment tracker to use for this step.</span>
<span class="sd">            step_operator: The step operator to use for this step.</span>
<span class="sd">            parameters: Function parameters for this step</span>
<span class="sd">            output_materializers: Output materializers for this step. If</span>
<span class="sd">                given as a dict, the keys must be a subset of the output names</span>
<span class="sd">                of this step. If a single value (type or string) is given, the</span>
<span class="sd">                materializer will be used for all outputs.</span>
<span class="sd">            output_artifacts: Output artifacts for this step. If</span>
<span class="sd">                given as a dict, the keys must be a subset of the output names</span>
<span class="sd">                of this step. If a single value (type or string) is given, the</span>
<span class="sd">                artifact class will be used for all outputs.</span>
<span class="sd">            settings: settings for this step.</span>
<span class="sd">            extra: Extra configurations for this step.</span>
<span class="sd">            merge: If `True`, will merge the given dictionary configurations</span>
<span class="sd">                like `parameters` and `settings` with existing</span>
<span class="sd">                configurations. If `False` the given configurations will</span>
<span class="sd">                overwrite all existing ones. See the general description of this</span>
<span class="sd">                method for an example.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step instance that this method was called on.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If a materializer or artifact for a non-existent</span>
<span class="sd">                output name are configured.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_resolve_if_necessary</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">value</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                <span class="k">else</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
        <span class="n">allowed_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">output_materializers</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
                <span class="c1"># string of materializer class to be used for all outputs</span>
                <span class="n">source</span> <span class="o">=</span> <span class="n">_resolve_if_necessary</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">)</span>
                <span class="n">output_materializers</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">output_name</span><span class="p">:</span> <span class="n">source</span> <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">allowed_output_names</span>
                <span class="p">}</span>

            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">materializer</span> <span class="ow">in</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_output_names</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Got unexpected materializers for non-existent &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;output &#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; in step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Only materializers for the outputs &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">allowed_output_names</span><span class="si">}</span><span class="s2"> of this step can&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot; be registered.&quot;</span>
                    <span class="p">)</span>

                <span class="n">source</span> <span class="o">=</span> <span class="n">_resolve_if_necessary</span><span class="p">(</span><span class="n">materializer</span><span class="p">)</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">output_name</span><span class="p">][</span><span class="s2">&quot;materializer_source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>

        <span class="k">if</span> <span class="n">output_artifacts</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The `output_artifacts` argument has no effect and will be &quot;</span>
                <span class="s2">&quot;removed in a future version.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">BaseParameters</span><span class="p">):</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

        <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot;enable_cache&quot;</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
                <span class="s2">&quot;experiment_tracker&quot;</span><span class="p">:</span> <span class="n">experiment_tracker</span><span class="p">,</span>
                <span class="s2">&quot;step_operator&quot;</span><span class="p">:</span> <span class="n">step_operator</span><span class="p">,</span>
                <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">,</span>
                <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
                <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="n">merge</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_apply_configuration</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">StepConfigurationUpdate</span><span class="p">,</span>
        <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies an update to the step configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The configuration update.</span>
<span class="sd">            merge: Whether to merge the updates with the existing configuration</span>
<span class="sd">                or not. See the `BaseStep.configure(...)` method for a detailed</span>
<span class="sd">                explanation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">merge</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated step configuration:&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">StepConfigurationUpdate</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates a configuration update.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The configuration update to validate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">settings_utils</span><span class="o">.</span><span class="n">validate_setting_keys</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_function_parameters</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_outputs</span><span class="p">(</span><span class="n">outputs</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">outputs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_function_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates step function parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            parameters: The parameters to validate.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If the step requires no function parameters or</span>
<span class="sd">                invalid function parameters were given.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">parameters</span><span class="p">:</span>
            <span class="c1"># No parameters set (yet), defer validation to a later point</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Function parameters configured for step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> which &quot;</span>
                <span class="s2">&quot;does not accept any function parameters.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">(</span><span class="o">**</span><span class="n">parameters</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span><span class="s2">&quot;Failed to validate function parameters.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ArtifactConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the step input configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            inputs: The configured step inputs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If an input for a non-existent name is</span>
<span class="sd">                configured.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">input_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_input_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Got unexpected artifact for non-existent &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;input &#39;</span><span class="si">{</span><span class="n">input_name</span><span class="si">}</span><span class="s2">&#39; in step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Only artifacts for the inputs &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">allowed_input_names</span><span class="si">}</span><span class="s2"> of this step can&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; be registered.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_outputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">outputs</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">PartialArtifactConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the step output configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            outputs: The configured step outputs.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If an output for a non-existent name is</span>
<span class="sd">                configured of an output artifact/materializer source does not</span>
<span class="sd">                resolve to the correct class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_output_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Found explicit artifact type for unrecognized output &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; in step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Output &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;artifact types can only be specified for the outputs &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of this step: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">validate_source_class</span><span class="p">(</span>
                    <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseMaterializer</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Materializer source `</span><span class="si">{</span><span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="si">}</span><span class="s2">` &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;for output &#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; of step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                        <span class="s2">&quot;does not resolve to a  `BaseMaterializer` subclass.&quot;</span>
                    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_finalize_configuration</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">input_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">_OutputArtifact</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finalizes the configuration after the step was called.</span>

<span class="sd">        Once the step was called, we know the outputs of previous steps</span>
<span class="sd">        and that no additional user configurations will be made. That means</span>
<span class="sd">        we can now collect the remaining artifact and materializer types</span>
<span class="sd">        as well as check for the completeness of the step function parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_artifacts: The input artifacts of this step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The finalized step configuration.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: If an output does not have an explicit</span>
<span class="sd">                materializer assigned to it and there is no default</span>
<span class="sd">                materializer registered for the output type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">output_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">output_name</span><span class="p">,</span> <span class="n">PartialArtifactConfiguration</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">default_materializer_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">output_class</span><span class="p">):</span>
                    <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">default_materializer_registry</span><span class="p">[</span>
                        <span class="n">output_class</span>
                    <span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Unable to find materializer for output &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; of type `</span><span class="si">{</span><span class="n">output_class</span><span class="si">}</span><span class="s2">` in step &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to either &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;explicitly set a materializer for step outputs &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;using `step.with_return_materializers(...)` or &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;registering a default materializer for specific &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;types by subclassing `BaseMaterializer` and setting &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;its `ASSOCIATED_TYPES` class variable.&quot;</span><span class="p">,</span>
                        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://docs.zenml.io/advanced-guide/pipelines/materializers&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="n">outputs</span><span class="p">[</span><span class="n">output_name</span><span class="p">][</span>
                    <span class="s2">&quot;materializer_source&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="n">materializer_class</span><span class="p">)</span>

        <span class="n">function_parameters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_function_parameters</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">function_parameters</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="n">input_artifacts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ArtifactConfiguration</span><span class="p">(</span>
                <span class="n">materializer_source</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">materializer_source</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
            <span class="n">update</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;inputs&quot;</span><span class="p">:</span> <span class="n">inputs</span><span class="p">,</span>
                <span class="s2">&quot;caching_parameters&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">caching_parameters</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">complete_configuration</span> <span class="o">=</span> <span class="n">StepConfiguration</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">complete_configuration</span>

    <span class="k">def</span> <span class="nf">_finalize_function_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies and prepares the config parameters for running this step.</span>

<span class="sd">        When the step requires config parameters, this method:</span>
<span class="sd">            - checks if config parameters were set via a config object or file</span>
<span class="sd">            - tries to set missing config parameters from default values of the</span>
<span class="sd">              config class</span>

<span class="sd">        Returns:</span>
<span class="sd">            Values for the previously unconfigured function parameters.</span>

<span class="sd">        Raises:</span>
<span class="sd">            MissingStepParameterError: If no value could be found for one or</span>
<span class="sd">                more config parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="c1"># we need to store a value for all config keys inside the</span>
        <span class="c1"># metadata store to make sure caching works as expected</span>
        <span class="n">missing_keys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
                <span class="c1"># a value for this parameter has been set already</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">required</span><span class="p">:</span>
                <span class="c1"># this field has no default value set and therefore needs</span>
                <span class="c1"># to be passed via an initialized config object</span>
                <span class="n">missing_keys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># use default value from the pydantic config class</span>
                <span class="n">values</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">default</span>

        <span class="k">if</span> <span class="n">missing_keys</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingStepParameterError</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">missing_keys</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.caching_parameters" class="doc doc-heading">
<code class="highlight language-python"><span class="n">caching_parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Caching parameters for this step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary containing the caching parameters</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configuration</span><span class="p">:</span> <span class="n">PartialStepConfiguration</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The configuration of the step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PartialStepConfiguration</code></td>
      <td><p>The configuration of the step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.docstring" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docstring</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The docstring of this step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The docstring of this step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.enable_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If caching is enabled for the step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[bool]</code></td>
      <td><p>If caching is enabled for the step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.inputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">zenml</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">InputSpec</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Step input specifications.</p>
<p>This depends on the upstream steps in a pipeline and can therefore
only be accessed once the step has been called in a pipeline.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If this property is accessed before the step was
called in a pipeline.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, zenml.config.step_configurations.InputSpec]</code></td>
      <td><p>The step input specifications.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.source_code" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_code</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The source code of this step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The source code of this step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.source_object" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source_object</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The source object of this step.</p>
<p>This is either a function wrapped by the <code>@step</code> decorator or a custom
step class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The source object of this step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.base_step.BaseStep.upstream_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">upstream_steps</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Names of the upstream steps of this step.</p>
<p>This property will only contain the full set of upstream steps once
it's parent pipeline <code>connect(...)</code> method was called.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>Set of upstream step names.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.__call__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">artifacts</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Finalizes the step input and output configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*artifacts</code></td>
        <td><code>_OutputArtifact</code></td>
        <td><p>Positional input artifacts passed to
the <strong>call</strong> method.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kw_artifacts</code></td>
        <td><code>_OutputArtifact</code></td>
        <td><p>Keyword input artifacts passed to
the <strong>call</strong> method.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[zenml.steps.base_step.BaseStep._OutputArtifact, List[zenml.steps.base_step.BaseStep._OutputArtifact]]</code></td>
      <td><p>A single output artifact or a list of output artifacts.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StepInterfaceError</code></td>
        <td><p>If the step has already been called.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span><span class="p">:</span> <span class="n">_OutputArtifact</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">_OutputArtifact</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">_OutputArtifact</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finalizes the step input and output configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        *artifacts: Positional input artifacts passed to</span>
<span class="sd">            the __call__ method.</span>
<span class="sd">        **kw_artifacts: Keyword input artifacts passed to</span>
<span class="sd">            the __call__ method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A single output artifact or a list of output artifacts.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StepInterfaceError: If the step has already been called.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has already been called. A ZenML step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;instance can only be called once per pipeline run.&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Prepare the input artifacts and spec</span>
    <span class="n">input_artifacts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_input_artifacts</span><span class="p">(</span>
        <span class="o">*</span><span class="n">artifacts</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_artifacts</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">input_</span> <span class="ow">in</span> <span class="n">input_artifacts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inputs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">InputSpec</span><span class="p">(</span>
            <span class="n">step_name</span><span class="o">=</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
            <span class="n">output_name</span><span class="o">=</span><span class="n">input_</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_configuration</span><span class="p">(</span><span class="n">input_artifacts</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">)</span>

    <span class="c1"># Resolve the returns in the right order.</span>
    <span class="n">returns</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">:</span>
        <span class="n">materializer_source</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">outputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">materializer_source</span>
        <span class="n">output_artifact</span> <span class="o">=</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
            <span class="n">step_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">materializer_source</span><span class="o">=</span><span class="n">materializer_source</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">returns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output_artifact</span><span class="p">)</span>

    <span class="c1"># If its one return we just return the one channel not as a list</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">returns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">returns</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes a step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments passed to the step.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments passed to the step.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments passed to the step.</span>
<span class="sd">        **kwargs: Keyword arguments passed to the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_parameter_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_called</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">InputSpec</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_STEP_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="c1"># This value is only used in `BaseStep.__created_by_functional_api()`</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_CREATED_BY_FUNCTIONAL_API</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">requires_context</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span><span class="p">)</span>
    <span class="n">enable_cache</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_ENABLE_CACHE</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">enable_cache</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">requires_context</span><span class="p">:</span>
            <span class="c1"># Using the StepContext inside a step provides access to</span>
            <span class="c1"># external resources which might influence the step execution.</span>
            <span class="c1"># We therefore disable caching unless it is explicitly enabled</span>
            <span class="n">enable_cache</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Step &#39;</span><span class="si">%s</span><span class="s2">&#39;: Step context required and caching not &quot;</span>
                <span class="s2">&quot;explicitly enabled.&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Step &#39;</span><span class="si">%s</span><span class="s2">&#39;: Caching </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;enabled&quot;</span> <span class="k">if</span> <span class="n">enable_cache</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">PartialStepConfiguration</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_apply_class_configuration</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_verify_and_apply_init_params</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.after" class="doc doc-heading">
<code class="highlight language-python"><span class="n">after</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Adds an upstream step to this step.</p>
<p>Calling this method makes sure this step only starts running once the
given step has successfully finished executing.</p>
<p><strong>Note</strong>: This can only be called inside the pipeline connect function
which is decorated with the <code>@pipeline</code> decorator. Any calls outside
this function will be ignored.</p>

<p><strong>Examples:</strong></p>
    
      <p>The following pipeline will run its steps sequentially in the following
order: step_2 -&gt; step_1 -&gt; step_3</p>
<pre><code class="language-python">@pipeline
def example_pipeline(step_1, step_2, step_3):
    step_1.after(step_2)
    step_3(step_1(), step_2())
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>BaseStep</code></td>
        <td><p>A step which should finish executing before this step is
started.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">after</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds an upstream step to this step.</span>

<span class="sd">    Calling this method makes sure this step only starts running once the</span>
<span class="sd">    given step has successfully finished executing.</span>

<span class="sd">    **Note**: This can only be called inside the pipeline connect function</span>
<span class="sd">    which is decorated with the `@pipeline` decorator. Any calls outside</span>
<span class="sd">    this function will be ignored.</span>

<span class="sd">    Example:</span>
<span class="sd">    The following pipeline will run its steps sequentially in the following</span>
<span class="sd">    order: step_2 -&gt; step_1 -&gt; step_3</span>

<span class="sd">    ```python</span>
<span class="sd">    @pipeline</span>
<span class="sd">    def example_pipeline(step_1, step_2, step_3):</span>
<span class="sd">        step_1.after(step_2)</span>
<span class="sd">        step_3(step_1(), step_2())</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        step: A step which should finish executing before this step is</span>
<span class="sd">            started.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.configure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">experiment_tracker</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_materializers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_artifacts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Configures the step.</p>
<p>Configuration merging example:
* <code>merge==True</code>:
    step.configure(extra={"key1": 1})
    step.configure(extra={"key2": 2}, merge=True)
    step.configuration.extra # {"key1": 1, "key2": 2}
* <code>merge==False</code>:
    step.configure(extra={"key1": 1})
    step.configure(extra={"key2": 2}, merge=False)
    step.configuration.extra # {"key2": 2}</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If caching should be enabled for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>experiment_tracker</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The experiment tracker to use for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>step_operator</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The step operator to use for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>parameters</code></td>
        <td><code>Optional[ParametersOrDict]</code></td>
        <td><p>Function parameters for this step</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>output_materializers</code></td>
        <td><code>Optional[OutputMaterializersSpecification]</code></td>
        <td><p>Output materializers for this step. If
given as a dict, the keys must be a subset of the output names
of this step. If a single value (type or string) is given, the
materializer will be used for all outputs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>output_artifacts</code></td>
        <td><code>Optional[OutputArtifactsSpecification]</code></td>
        <td><p>Output artifacts for this step. If
given as a dict, the keys must be a subset of the output names
of this step. If a single value (type or string) is given, the
artifact class will be used for all outputs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Mapping[str, SettingsOrDict]]</code></td>
        <td><p>settings for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Extra configurations for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>merge</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, will merge the given dictionary configurations
like <code>parameters</code> and <code>settings</code> with existing
configurations. If <code>False</code> the given configurations will
overwrite all existing ones. See the general description of this
method for an example.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~T</code></td>
      <td><p>The step instance that this method was called on.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StepInterfaceError</code></td>
        <td><p>If a materializer or artifact for a non-existent
output name are configured.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">configure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ParametersOrDict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_materializers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="s2">&quot;OutputMaterializersSpecification&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;OutputArtifactsSpecification&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the step.</span>

<span class="sd">    Configuration merging example:</span>
<span class="sd">    * `merge==True`:</span>
<span class="sd">        step.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">        step.configure(extra={&quot;key2&quot;: 2}, merge=True)</span>
<span class="sd">        step.configuration.extra # {&quot;key1&quot;: 1, &quot;key2&quot;: 2}</span>
<span class="sd">    * `merge==False`:</span>
<span class="sd">        step.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">        step.configure(extra={&quot;key2&quot;: 2}, merge=False)</span>
<span class="sd">        step.configuration.extra # {&quot;key2&quot;: 2}</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the step.</span>
<span class="sd">        enable_cache: If caching should be enabled for this step.</span>
<span class="sd">        experiment_tracker: The experiment tracker to use for this step.</span>
<span class="sd">        step_operator: The step operator to use for this step.</span>
<span class="sd">        parameters: Function parameters for this step</span>
<span class="sd">        output_materializers: Output materializers for this step. If</span>
<span class="sd">            given as a dict, the keys must be a subset of the output names</span>
<span class="sd">            of this step. If a single value (type or string) is given, the</span>
<span class="sd">            materializer will be used for all outputs.</span>
<span class="sd">        output_artifacts: Output artifacts for this step. If</span>
<span class="sd">            given as a dict, the keys must be a subset of the output names</span>
<span class="sd">            of this step. If a single value (type or string) is given, the</span>
<span class="sd">            artifact class will be used for all outputs.</span>
<span class="sd">        settings: settings for this step.</span>
<span class="sd">        extra: Extra configurations for this step.</span>
<span class="sd">        merge: If `True`, will merge the given dictionary configurations</span>
<span class="sd">            like `parameters` and `settings` with existing</span>
<span class="sd">            configurations. If `False` the given configurations will</span>
<span class="sd">            overwrite all existing ones. See the general description of this</span>
<span class="sd">            method for an example.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step instance that this method was called on.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StepInterfaceError: If a materializer or artifact for a non-existent</span>
<span class="sd">            output name are configured.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_resolve_if_necessary</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="k">else</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">allowed_output_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">output_materializers</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="c1"># string of materializer class to be used for all outputs</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">_resolve_if_necessary</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">)</span>
            <span class="n">output_materializers</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">output_name</span><span class="p">:</span> <span class="n">source</span> <span class="k">for</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="n">allowed_output_names</span>
            <span class="p">}</span>

        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">materializer</span> <span class="ow">in</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_output_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Got unexpected materializers for non-existent &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;output &#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; in step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Only materializers for the outputs &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">allowed_output_names</span><span class="si">}</span><span class="s2"> of this step can&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; be registered.&quot;</span>
                <span class="p">)</span>

            <span class="n">source</span> <span class="o">=</span> <span class="n">_resolve_if_necessary</span><span class="p">(</span><span class="n">materializer</span><span class="p">)</span>
            <span class="n">outputs</span><span class="p">[</span><span class="n">output_name</span><span class="p">][</span><span class="s2">&quot;materializer_source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>

    <span class="k">if</span> <span class="n">output_artifacts</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;The `output_artifacts` argument has no effect and will be &quot;</span>
            <span class="s2">&quot;removed in a future version.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">BaseParameters</span><span class="p">):</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>

    <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;enable_cache&quot;</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
            <span class="s2">&quot;experiment_tracker&quot;</span><span class="p">:</span> <span class="n">experiment_tracker</span><span class="p">,</span>
            <span class="s2">&quot;step_operator&quot;</span><span class="p">:</span> <span class="n">step_operator</span><span class="p">,</span>
            <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">,</span>
            <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
            <span class="s2">&quot;outputs&quot;</span><span class="p">:</span> <span class="n">outputs</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_apply_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="n">merge</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.entrypoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Abstract method for core step logic.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Positional arguments passed to the step.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments passed to the step.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The output of the step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">entrypoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract method for core step logic.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments passed to the step.</span>
<span class="sd">        **kwargs: Keyword arguments passed to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The output of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.load_from_source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_from_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Loads a step from source.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>The path to the step source.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseStep</code></td>
      <td><p>The loaded step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">load_from_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads a step from source.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The path to the step source.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseStep</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">step_class</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStep.with_return_materializers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">with_return_materializers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">materializers</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>DEPRECATED: Register materializers for step outputs.</p>
<p>If a single materializer is passed, it will be used for all step
outputs. Otherwise, the dictionary keys specify the output names
for which the materializers will be used.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>materializers</code></td>
        <td><code>Union[Type[zenml.materializers.base_materializer.BaseMaterializer], Dict[str, Type[zenml.materializers.base_materializer.BaseMaterializer]]]</code></td>
        <td><p>The materializers for the outputs of this step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~T</code></td>
      <td><p>The step that this method was called on.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">with_return_materializers</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">materializers</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">]]</span>
    <span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;DEPRECATED: Register materializers for step outputs.</span>

<span class="sd">    If a single materializer is passed, it will be used for all step</span>
<span class="sd">    outputs. Otherwise, the dictionary keys specify the output names</span>
<span class="sd">    for which the materializers will be used.</span>

<span class="sd">    Args:</span>
<span class="sd">        materializers: The materializers for the outputs of this step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step that this method was called on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
        <span class="s2">&quot;The `with_return_materializers(...)` method is deprecated. &quot;</span>
        <span class="s2">&quot;Use `step.configure(output_materializers=...)` instead.&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">output_materializers</span><span class="o">=</span><span class="n">materializers</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.base_step.BaseStepMeta" class="doc doc-heading">
        <code>
BaseStepMeta            (<span title="type">type</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Metaclass for <code>BaseStep</code>.</p>
<p>Checks whether everything passed in:
* Has a matching materializer,
* Is a subclass of the Config class,
* Is typed correctly.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseStepMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Metaclass for `BaseStep`.</span>

<span class="sd">    Checks whether everything passed in:</span>
<span class="sd">    * Has a matching materializer,</span>
<span class="sd">    * Is a subclass of the Config class,</span>
<span class="sd">    * Is typed correctly.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseStepMeta&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up a new class with a qualified spec.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the class.</span>
<span class="sd">            bases: The base classes of the class.</span>
<span class="sd">            dct: The attributes of the class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The new class.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepInterfaceError: When unable to create the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.steps.base_parameters</span> <span class="kn">import</span> <span class="n">BaseParameters</span>

        <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">))</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Get the signature of the step function</span>
        <span class="n">step_function_signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">unwrap</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">bases</span><span class="p">:</span>
            <span class="c1"># We&#39;re not creating the abstract `BaseStep` class</span>
            <span class="c1"># but a concrete implementation. Make sure the step function</span>
            <span class="c1"># signature does not contain variable *args or **kwargs</span>
            <span class="n">variable_arguments</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">varargs</span><span class="p">:</span>
                <span class="n">variable_arguments</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;*</span><span class="si">{</span><span class="n">step_function_signature</span><span class="o">.</span><span class="n">varargs</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">elif</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">varkw</span><span class="p">:</span>
                <span class="n">variable_arguments</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">step_function_signature</span><span class="o">.</span><span class="n">varkw</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="k">if</span> <span class="n">variable_arguments</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; with variable arguments &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">variable_arguments</span><span class="si">}</span><span class="s2">&#39;. Please make sure your step &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;functions are defined with a fixed amount of arguments.&quot;</span>
                <span class="p">)</span>

        <span class="n">step_function_args</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">step_function_signature</span><span class="o">.</span><span class="n">args</span> <span class="o">+</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">kwonlyargs</span>
        <span class="p">)</span>

        <span class="c1"># Remove &#39;self&#39; from the signature if it exists</span>
        <span class="k">if</span> <span class="n">step_function_args</span> <span class="ow">and</span> <span class="n">step_function_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
            <span class="n">step_function_args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Verify the input arguments of the step function</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">step_function_args</span><span class="p">:</span>
            <span class="n">arg_type</span> <span class="o">=</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">arg_type</span> <span class="o">=</span> <span class="n">resolve_type_annotation</span><span class="p">(</span><span class="n">arg_type</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">arg_type</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Missing type annotation for argument &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39; when &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;include type annotations for all your step inputs &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;and outputs.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg_type</span><span class="p">,</span> <span class="n">BaseParameters</span><span class="p">):</span>
                <span class="c1"># Raise an error if we already found a config in the signature</span>
                <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Found multiple parameter arguments &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;(&#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39;) when &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;only have one `Parameters` subclass as input &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;argument for a step.&quot;</span>
                    <span class="p">)</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span> <span class="o">=</span> <span class="n">arg</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="o">=</span> <span class="n">arg_type</span>

            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg_type</span><span class="p">,</span> <span class="n">StepContext</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Found multiple context arguments &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;(&#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39;) when &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;only have one `StepContext` as input &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;argument for a step.&quot;</span>
                    <span class="p">)</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="o">=</span> <span class="n">arg</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Can&#39;t do any check for existing materializers right now</span>
                <span class="c1"># as they might get be defined later, so we simply store the</span>
                <span class="c1"># argument name and type for later use.</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">arg</span><span class="p">:</span> <span class="n">arg_type</span><span class="p">})</span>

        <span class="c1"># Parse the returns of the step function</span>
        <span class="k">if</span> <span class="s2">&quot;return&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="s2">&quot;Missing return type annotation when trying to create step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to include type annotations for &quot;</span>
                <span class="s2">&quot;all your step inputs and outputs. If your step returns &quot;</span>
                <span class="s2">&quot;nothing, please annotate it with `-&gt; None`.&quot;</span>
            <span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span> <span class="o">=</span> <span class="n">parse_return_type_annotations</span><span class="p">(</span>
            <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.base_step.BaseStepMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Set up a new class with a qualified spec.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>bases</code></td>
        <td><code>Tuple[Type[Any], ...]</code></td>
        <td><p>The base classes of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dct</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The attributes of the class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseStepMeta</code></td>
      <td><p>The new class.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StepInterfaceError</code></td>
        <td><p>When unable to create the step.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/base_step.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseStepMeta&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up a new class with a qualified spec.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class.</span>
<span class="sd">        bases: The base classes of the class.</span>
<span class="sd">        dct: The attributes of the class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The new class.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StepInterfaceError: When unable to create the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.steps.base_parameters</span> <span class="kn">import</span> <span class="n">BaseParameters</span>

    <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="p">{})</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">))</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Get the signature of the step function</span>
    <span class="n">step_function_signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">unwrap</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">bases</span><span class="p">:</span>
        <span class="c1"># We&#39;re not creating the abstract `BaseStep` class</span>
        <span class="c1"># but a concrete implementation. Make sure the step function</span>
        <span class="c1"># signature does not contain variable *args or **kwargs</span>
        <span class="n">variable_arguments</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">varargs</span><span class="p">:</span>
            <span class="n">variable_arguments</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;*</span><span class="si">{</span><span class="n">step_function_signature</span><span class="o">.</span><span class="n">varargs</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">varkw</span><span class="p">:</span>
            <span class="n">variable_arguments</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;**</span><span class="si">{</span><span class="n">step_function_signature</span><span class="o">.</span><span class="n">varkw</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="n">variable_arguments</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; with variable arguments &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">variable_arguments</span><span class="si">}</span><span class="s2">&#39;. Please make sure your step &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;functions are defined with a fixed amount of arguments.&quot;</span>
            <span class="p">)</span>

    <span class="n">step_function_args</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">step_function_signature</span><span class="o">.</span><span class="n">args</span> <span class="o">+</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">kwonlyargs</span>
    <span class="p">)</span>

    <span class="c1"># Remove &#39;self&#39; from the signature if it exists</span>
    <span class="k">if</span> <span class="n">step_function_args</span> <span class="ow">and</span> <span class="n">step_function_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
        <span class="n">step_function_args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Verify the input arguments of the step function</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">step_function_args</span><span class="p">:</span>
        <span class="n">arg_type</span> <span class="o">=</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">arg_type</span> <span class="o">=</span> <span class="n">resolve_type_annotation</span><span class="p">(</span><span class="n">arg_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">arg_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Missing type annotation for argument &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39; when &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;include type annotations for all your step inputs &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;and outputs.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg_type</span><span class="p">,</span> <span class="n">BaseParameters</span><span class="p">):</span>
            <span class="c1"># Raise an error if we already found a config in the signature</span>
            <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Found multiple parameter arguments &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;(&#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39;) when &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;only have one `Parameters` subclass as input &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;argument for a step.&quot;</span>
                <span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_FUNCTION_PARAMETER_NAME</span> <span class="o">=</span> <span class="n">arg</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span> <span class="o">=</span> <span class="n">arg_type</span>

        <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg_type</span><span class="p">,</span> <span class="n">StepContext</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Found multiple context arguments &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;(&#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&#39;) when &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;trying to create step &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;only have one `StepContext` as input &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;argument for a step.&quot;</span>
                <span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">CONTEXT_PARAMETER_NAME</span> <span class="o">=</span> <span class="n">arg</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Can&#39;t do any check for existing materializers right now</span>
            <span class="c1"># as they might get be defined later, so we simply store the</span>
            <span class="c1"># argument name and type for later use.</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">arg</span><span class="p">:</span> <span class="n">arg_type</span><span class="p">})</span>

    <span class="c1"># Parse the returns of the step function</span>
    <span class="k">if</span> <span class="s2">&quot;return&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">StepInterfaceError</span><span class="p">(</span>
            <span class="s2">&quot;Missing return type annotation when trying to create step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Please make sure to include type annotations for &quot;</span>
            <span class="s2">&quot;all your step inputs and outputs. If your step returns &quot;</span>
            <span class="s2">&quot;nothing, please annotate it with `-&gt; None`.&quot;</span>
        <span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span> <span class="o">=</span> <span class="n">parse_return_type_annotations</span><span class="p">(</span>
        <span class="n">step_function_signature</span><span class="o">.</span><span class="n">annotations</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.step_context" class="doc doc-heading">
        <code>step_context</code>



</h3>

    <div class="doc doc-contents ">

      <p>Step context class.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.step_context.StepContext" class="doc doc-heading">
        <code>
StepContext        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Provides additional context inside a step function.</p>
<p>This class is used to access pipelines, materializers, and artifacts
inside a step function. To use it, add a <code>StepContext</code> object
to the signature of your step function like this:</p>
<pre><code class="language-python">@step
def my_step(context: StepContext, ...)
    context.get_output_materializer(...)
</code></pre>
<p>You do not need to create a <code>StepContext</code> object yourself and pass it
when creating the step, as long as you specify it in the signature ZenML
will create the <code>StepContext</code> and automatically pass it when executing your
step.</p>
<p><strong>Note</strong>: When using a <code>StepContext</code> inside a step, ZenML disables caching
for this step by default as the context provides access to external
resources which might influence the result of your step execution. To
enable caching anyway, explicitly enable it in the <code>@step</code> decorator or when
initializing your custom step class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provides additional context inside a step function.</span>

<span class="sd">    This class is used to access pipelines, materializers, and artifacts</span>
<span class="sd">    inside a step function. To use it, add a `StepContext` object</span>
<span class="sd">    to the signature of your step function like this:</span>

<span class="sd">    ```python</span>
<span class="sd">    @step</span>
<span class="sd">    def my_step(context: StepContext, ...)</span>
<span class="sd">        context.get_output_materializer(...)</span>
<span class="sd">    ```</span>

<span class="sd">    You do not need to create a `StepContext` object yourself and pass it</span>
<span class="sd">    when creating the step, as long as you specify it in the signature ZenML</span>
<span class="sd">    will create the `StepContext` and automatically pass it when executing your</span>
<span class="sd">    step.</span>

<span class="sd">    **Note**: When using a `StepContext` inside a step, ZenML disables caching</span>
<span class="sd">    for this step by default as the context provides access to external</span>
<span class="sd">    resources which might influence the result of your step execution. To</span>
<span class="sd">    enable caching anyway, explicitly enable it in the `@step` decorator or when</span>
<span class="sd">    initializing your custom step class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_materializers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]],</span>
        <span class="n">output_artifact_uris</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a StepContext instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_name: The name of the step that this context is used in.</span>
<span class="sd">            output_materializers: The output materializers of the step that</span>
<span class="sd">                this context is used in.</span>
<span class="sd">            output_artifact_uris: The output artifacts of the step that this</span>
<span class="sd">                context is used in.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepContextError: If the keys of the output materializers and</span>
<span class="sd">                output artifacts do not match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">!=</span> <span class="n">output_artifact_uris</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">StepContextError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Mismatched keys in output materializers and output &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;artifacts URIs for step &#39;</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;. Output materializer &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;keys: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">)</span><span class="si">}</span><span class="s2">, output artifact URI &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;keys: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">output_artifact_uris</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">step_name</span> <span class="o">=</span> <span class="n">step_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">StepContextOutput</span><span class="p">(</span>
                <span class="n">output_materializers</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">output_artifact_uris</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>

    <span class="k">def</span> <span class="nf">_get_output</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepContextOutput</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the materializer and artifact URI for a given step output.</span>

<span class="sd">        Args:</span>
<span class="sd">            output_name: Optional name of the output for which to get the</span>
<span class="sd">                materializer and URI.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple containing the materializer and artifact URI for the</span>
<span class="sd">                given output.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StepContextError: If the step has no outputs, no output for</span>
<span class="sd">                the given `output_name` or if no `output_name` was given but</span>
<span class="sd">                the step has multiple outputs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">output_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">output_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepContextError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get step output for step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This step does not have any outputs.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">output_name</span> <span class="ow">and</span> <span class="n">output_count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StepContextError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get step output for step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This step has multiple outputs (</span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="p">)</span><span class="si">}</span><span class="s2">), &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;please specify which output to return.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">output_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">output_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">StepContextError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get step output &#39;</span><span class="si">{</span><span class="n">output_name</span><span class="si">}</span><span class="s2">&#39; for &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;step &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;. This step does not have an &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;output with the given name, please specify one of the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;available outputs: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="p">[</span><span class="n">output_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stack</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Stack&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current active stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The current active stack or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span>

    <span class="k">def</span> <span class="nf">get_output_materializer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">output_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">custom_materializer_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a materializer for a given step output.</span>

<span class="sd">        Args:</span>
<span class="sd">            output_name: Optional name of the output for which to get the</span>
<span class="sd">                materializer. If no name is given and the step only has a</span>
<span class="sd">                single output, the materializer of this output will be</span>
<span class="sd">                returned. If the step has multiple outputs, an exception</span>
<span class="sd">                will be raised.</span>
<span class="sd">            custom_materializer_class: If given, this `BaseMaterializer`</span>
<span class="sd">                subclass will be initialized with the output artifact instead</span>
<span class="sd">                of the materializer that was registered for this step output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A materializer initialized with the output artifact for</span>
<span class="sd">            the given output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">materializer_class</span><span class="p">,</span> <span class="n">artifact_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_output</span><span class="p">(</span><span class="n">output_name</span><span class="p">)</span>
        <span class="c1"># use custom materializer class if provided or fallback to default</span>
        <span class="c1"># materializer for output</span>
        <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">custom_materializer_class</span> <span class="ow">or</span> <span class="n">materializer_class</span>
        <span class="k">return</span> <span class="n">materializer_class</span><span class="p">(</span><span class="n">artifact_uri</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_output_artifact_uri</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the artifact URI for a given step output.</span>

<span class="sd">        Args:</span>
<span class="sd">            output_name: Optional name of the output for which to get the URI.</span>
<span class="sd">                If no name is given and the step only has a single output,</span>
<span class="sd">                the URI of this output will be returned. If the step has</span>
<span class="sd">                multiple outputs, an exception will be raised.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Artifact URI for the given output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_output</span><span class="p">(</span><span class="n">output_name</span><span class="p">)</span><span class="o">.</span><span class="n">artifact_uri</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_context.StepContext.stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Stack</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the current active stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Stack]</code></td>
      <td><p>The current active stack or None.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContext.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">output_materializers</span><span class="p">,</span> <span class="n">output_artifact_uris</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes a StepContext instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the step that this context is used in.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>output_materializers</code></td>
        <td><code>Dict[str, Type[BaseMaterializer]]</code></td>
        <td><p>The output materializers of the step that
this context is used in.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>output_artifact_uris</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>The output artifacts of the step that this
context is used in.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StepContextError</code></td>
        <td><p>If the keys of the output materializers and
output artifacts do not match.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">output_materializers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]],</span>
    <span class="n">output_artifact_uris</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a StepContext instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_name: The name of the step that this context is used in.</span>
<span class="sd">        output_materializers: The output materializers of the step that</span>
<span class="sd">            this context is used in.</span>
<span class="sd">        output_artifact_uris: The output artifacts of the step that this</span>
<span class="sd">            context is used in.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StepContextError: If the keys of the output materializers and</span>
<span class="sd">            output artifacts do not match.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">!=</span> <span class="n">output_artifact_uris</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">StepContextError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Mismatched keys in output materializers and output &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;artifacts URIs for step &#39;</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;. Output materializer &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;keys: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">output_materializers</span><span class="p">)</span><span class="si">}</span><span class="s2">, output artifact URI &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;keys: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">output_artifact_uris</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">step_name</span> <span class="o">=</span> <span class="n">step_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_outputs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">StepContextOutput</span><span class="p">(</span>
            <span class="n">output_materializers</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">output_artifact_uris</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">output_materializers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContext.get_output_artifact_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_output_artifact_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the artifact URI for a given step output.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>output_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of the output for which to get the URI.
If no name is given and the step only has a single output,
the URI of this output will be returned. If the step has
multiple outputs, an exception will be raised.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Artifact URI for the given output.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_output_artifact_uri</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the artifact URI for a given step output.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_name: Optional name of the output for which to get the URI.</span>
<span class="sd">            If no name is given and the step only has a single output,</span>
<span class="sd">            the URI of this output will be returned. If the step has</span>
<span class="sd">            multiple outputs, an exception will be raised.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Artifact URI for the given output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_output</span><span class="p">(</span><span class="n">output_name</span><span class="p">)</span><span class="o">.</span><span class="n">artifact_uri</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContext.get_output_materializer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_output_materializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">custom_materializer_class</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns a materializer for a given step output.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>output_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional name of the output for which to get the
materializer. If no name is given and the step only has a
single output, the materializer of this output will be
returned. If the step has multiple outputs, an exception
will be raised.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>custom_materializer_class</code></td>
        <td><code>Optional[Type[BaseMaterializer]]</code></td>
        <td><p>If given, this <code>BaseMaterializer</code>
subclass will be initialized with the output artifact instead
of the materializer that was registered for this step output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseMaterializer</code></td>
      <td><p>A materializer initialized with the output artifact for
the given output.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_output_materializer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">output_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">custom_materializer_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a materializer for a given step output.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_name: Optional name of the output for which to get the</span>
<span class="sd">            materializer. If no name is given and the step only has a</span>
<span class="sd">            single output, the materializer of this output will be</span>
<span class="sd">            returned. If the step has multiple outputs, an exception</span>
<span class="sd">            will be raised.</span>
<span class="sd">        custom_materializer_class: If given, this `BaseMaterializer`</span>
<span class="sd">            subclass will be initialized with the output artifact instead</span>
<span class="sd">            of the materializer that was registered for this step output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A materializer initialized with the output artifact for</span>
<span class="sd">        the given output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">materializer_class</span><span class="p">,</span> <span class="n">artifact_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_output</span><span class="p">(</span><span class="n">output_name</span><span class="p">)</span>
    <span class="c1"># use custom materializer class if provided or fallback to default</span>
    <span class="c1"># materializer for output</span>
    <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">custom_materializer_class</span> <span class="ow">or</span> <span class="n">materializer_class</span>
    <span class="k">return</span> <span class="n">materializer_class</span><span class="p">(</span><span class="n">artifact_uri</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.step_context.StepContextOutput" class="doc doc-heading">
        <code>
StepContextOutput            (<span title="tuple">tuple</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Tuple containing materializer class and URI for a step output.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepContextOutput</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tuple containing materializer class and URI for a step output.&quot;&quot;&quot;</span>

    <span class="n">materializer_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]</span>
    <span class="n">artifact_uri</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContextOutput.__getnewargs__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Return self as a plain tuple.  Used by copy and pickle.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return self as a plain tuple.  Used by copy and pickle.&#39;</span>
    <span class="k">return</span> <span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContextOutput.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">materializer_class</span><span class="p">,</span> <span class="n">artifact_uri</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create new instance of StepContextOutput(materializer_class, artifact_uri)</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_context.StepContextOutput.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Return a nicely formatted representation string</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a nicely formatted representation string&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">repr_fmt</span> <span class="o">%</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.step_decorator" class="doc doc-heading">
        <code>step_decorator</code>



</h3>

    <div class="doc doc-contents ">

      <p>Step decorator function.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.steps.step_decorator.step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step</span><span class="p">(</span><span class="n">_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">experiment_tracker</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_artifacts</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_materializers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Outer decorator function for the creation of a ZenML step.</p>
<p>In order to be able to work with parameters such as <code>name</code>, it features a
nested decorator structure.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_func</code></td>
        <td><code>Optional[~F]</code></td>
        <td><p>The decorated function.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the step. If left empty, the name of the decorated
function will be used as a fallback.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Specify whether caching is enabled for this step. If no
value is passed, caching is enabled by default unless the step
requires a <code>StepContext</code> (see
<code>zenml.steps.step_context.StepContext</code> for more information).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>experiment_tracker</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The experiment tracker to use for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>step_operator</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The step operator to use for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>output_materializers</code></td>
        <td><code>Optional[OutputMaterializersSpecification]</code></td>
        <td><p>Output materializers for this step. If
given as a dict, the keys must be a subset of the output names
of this step. If a single value (type or string) is given, the
materializer will be used for all outputs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>output_artifacts</code></td>
        <td><code>Optional[OutputArtifactsSpecification]</code></td>
        <td><p>Output artifacts for this step. If
given as a dict, the keys must be a subset of the output names
of this step. If a single value (type or string) is given, the
artifact class will be used for all outputs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Dict[str, SettingsOrDict]]</code></td>
        <td><p>Settings for this step.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Extra configurations for this step.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Type[zenml.steps.base_step.BaseStep], Callable[[~F], Type[zenml.steps.base_step.BaseStep]]]</code></td>
      <td><p>the inner decorator which creates the step class based on the
ZenML BaseStep</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">step</span><span class="p">(</span>
    <span class="n">_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">F</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">experiment_tracker</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;OutputArtifactsSpecification&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">output_materializers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;OutputMaterializersSpecification&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Outer decorator function for the creation of a ZenML step.</span>

<span class="sd">    In order to be able to work with parameters such as `name`, it features a</span>
<span class="sd">    nested decorator structure.</span>

<span class="sd">    Args:</span>
<span class="sd">        _func: The decorated function.</span>
<span class="sd">        name: The name of the step. If left empty, the name of the decorated</span>
<span class="sd">            function will be used as a fallback.</span>
<span class="sd">        enable_cache: Specify whether caching is enabled for this step. If no</span>
<span class="sd">            value is passed, caching is enabled by default unless the step</span>
<span class="sd">            requires a `StepContext` (see</span>
<span class="sd">            `zenml.steps.step_context.StepContext` for more information).</span>
<span class="sd">        experiment_tracker: The experiment tracker to use for this step.</span>
<span class="sd">        step_operator: The step operator to use for this step.</span>
<span class="sd">        output_materializers: Output materializers for this step. If</span>
<span class="sd">            given as a dict, the keys must be a subset of the output names</span>
<span class="sd">            of this step. If a single value (type or string) is given, the</span>
<span class="sd">            materializer will be used for all outputs.</span>
<span class="sd">        output_artifacts: Output artifacts for this step. If</span>
<span class="sd">            given as a dict, the keys must be a subset of the output names</span>
<span class="sd">            of this step. If a single value (type or string) is given, the</span>
<span class="sd">            artifact class will be used for all outputs.</span>
<span class="sd">        settings: Settings for this step.</span>
<span class="sd">        extra: Extra configurations for this step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the inner decorator which creates the step class based on the</span>
<span class="sd">        ZenML BaseStep</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inner decorator function for the creation of a ZenML Step.</span>

<span class="sd">        Args:</span>
<span class="sd">            func: types.FunctionType, this function will be used as the</span>
<span class="sd">                &quot;process&quot; method of the generated Step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The class of a newly generated ZenML Step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">(</span><span class="n">BaseStep</span><span class="p">,),</span>
            <span class="p">{</span>
                <span class="n">STEP_INNER_FUNC_NAME</span><span class="p">:</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">func</span><span class="p">),</span>
                <span class="n">INSTANCE_CONFIGURATION</span><span class="p">:</span> <span class="p">{</span>
                    <span class="n">PARAM_STEP_NAME</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
                    <span class="n">PARAM_CREATED_BY_FUNCTIONAL_API</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="n">PARAM_ENABLE_CACHE</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
                    <span class="n">PARAM_EXPERIMENT_TRACKER</span><span class="p">:</span> <span class="n">experiment_tracker</span><span class="p">,</span>
                    <span class="n">PARAM_STEP_OPERATOR</span><span class="p">:</span> <span class="n">step_operator</span><span class="p">,</span>
                    <span class="n">PARAM_OUTPUT_ARTIFACTS</span><span class="p">:</span> <span class="n">output_artifacts</span><span class="p">,</span>
                    <span class="n">PARAM_OUTPUT_MATERIALIZERS</span><span class="p">:</span> <span class="n">output_materializers</span><span class="p">,</span>
                    <span class="n">PARAM_SETTINGS</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
                    <span class="n">PARAM_EXTRA_OPTIONS</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;__module__&quot;</span><span class="p">:</span> <span class="n">func</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
                <span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.step_environment" class="doc doc-heading">
        <code>step_environment</code>



</h3>

    <div class="doc doc-contents ">

      <p>Step environment class.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.step_environment.StepEnvironment" class="doc doc-heading">
        <code>
StepEnvironment            (<a class="autorefs autorefs-internal" title="zenml.environment.BaseEnvironmentComponent" href="../core-environment/#zenml.environment.BaseEnvironmentComponent">BaseEnvironmentComponent</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Added information about a step runtime inside a step function.</p>
<p>This takes the form of an Environment component. This class can be used from
within a pipeline step implementation to access additional information about
the runtime parameters of a pipeline step, such as the pipeline name,
pipeline run ID and other pipeline runtime information. To use it, access it
inside your step function like this:</p>
<pre><code class="language-python">from zenml.environment import Environment

@step
def my_step(...)
    env = Environment().step_environment
    do_something_with(env.pipeline_name, env.pipeline_run_id, env.step_name)
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_environment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepEnvironment</span><span class="p">(</span><span class="n">BaseEnvironmentComponent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Added information about a step runtime inside a step function.</span>

<span class="sd">    This takes the form of an Environment component. This class can be used from</span>
<span class="sd">    within a pipeline step implementation to access additional information about</span>
<span class="sd">    the runtime parameters of a pipeline step, such as the pipeline name,</span>
<span class="sd">    pipeline run ID and other pipeline runtime information. To use it, access it</span>
<span class="sd">    inside your step function like this:</span>

<span class="sd">    ```python</span>
<span class="sd">    from zenml.environment import Environment</span>

<span class="sd">    @step</span>
<span class="sd">    def my_step(...)</span>
<span class="sd">        env = Environment().step_environment</span>
<span class="sd">        do_something_with(env.pipeline_name, env.pipeline_run_id, env.step_name)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">STEP_ENVIRONMENT_NAME</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_run_info</span><span class="p">:</span> <span class="s2">&quot;StepRunInfo&quot;</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the environment of the currently running step.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_info: Info about the currently running step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span> <span class="o">=</span> <span class="n">step_run_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the currently running pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the currently running pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">run_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the current pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the current pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span><span class="o">.</span><span class="n">run_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pipeline_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ID of the current pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the current pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;`StepContext.pipeline_run_id` is deprecated. Use &quot;</span>
            <span class="s2">&quot;`StepContext.run_name` instead.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the currently running step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the currently running step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">step_run_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunInfo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Info about the currently running step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Info about the currently running step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cache_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns whether cache is enabled for the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if cache is enabled for the step, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.orchestrators</span> <span class="kn">import</span> <span class="n">cache_utils</span>

        <span class="n">cache_enabled</span> <span class="o">=</span> <span class="n">cache_utils</span><span class="o">.</span><span class="n">is_cache_enabled</span><span class="p">(</span>
            <span class="n">step_enable_cache</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
            <span class="n">pipeline_enable_cache</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">cache_enabled</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.cache_enabled" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_enabled</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns whether cache is enabled for the step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if cache is enabled for the step, otherwise False.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.pipeline_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the currently running pipeline.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the currently running pipeline.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.pipeline_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline_run_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The ID of the current pipeline run.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The ID of the current pipeline run.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the current pipeline run.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the current pipeline run.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.step_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the currently running step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the currently running step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.steps.step_environment.StepEnvironment.step_run_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">step_run_info</span><span class="p">:</span> <span class="n">StepRunInfo</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Info about the currently running step.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunInfo</code></td>
      <td><p>Info about the currently running step.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_environment.StepEnvironment.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the environment of the currently running step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_info</code></td>
        <td><code>StepRunInfo</code></td>
        <td><p>Info about the currently running step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_environment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_run_info</span><span class="p">:</span> <span class="s2">&quot;StepRunInfo&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the environment of the currently running step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_info: Info about the currently running step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_step_run_info</span> <span class="o">=</span> <span class="n">step_run_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.step_output" class="doc doc-heading">
        <code>step_output</code>



</h3>

    <div class="doc doc-contents ">

      <p>Step output class.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.steps.step_output.Output" class="doc doc-heading">
        <code>
Output        </code>



</h4>

    <div class="doc doc-contents ">

      <p>A named tuple with a default name that cannot be overridden.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_output.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Output</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A named tuple with a default name that cannot be overridden.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the output.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs: The output values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-161]: do we even need the named tuple here or is</span>
        <span class="c1">#  a list of tuples (name, Type) sufficient?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span> <span class="o">=</span> <span class="n">NamedTuple</span><span class="p">(</span><span class="s2">&quot;ZenOutput&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>

    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Yields a tuple of type (output_name, output_type).</span>

<span class="sd">        Yields:</span>
<span class="sd">            A tuple of type (output_name, output_type).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="vm">__annotations__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_output.Output.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initializes the output.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The output values.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_output.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the output.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs: The output values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-161]: do we even need the named tuple here or is</span>
    <span class="c1">#  a list of tuples (name, Type) sufficient?</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span> <span class="o">=</span> <span class="n">NamedTuple</span><span class="p">(</span><span class="s2">&quot;ZenOutput&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.steps.step_output.Output.items" class="doc doc-heading">
<code class="highlight language-python"><span class="n">items</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Yields a tuple of type (output_name, output_type).</p>

<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Tuple[str, Type[Any]]]</code></td>
      <td><p>A tuple of type (output_name, output_type).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/step_output.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Yields a tuple of type (output_name, output_type).</span>

<span class="sd">    Yields:</span>
<span class="sd">        A tuple of type (output_name, output_type).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="vm">__annotations__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.steps.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions and classes to run ZenML steps.</p>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-function">



<h4 id="zenml.steps.utils.parse_return_type_annotations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_return_type_annotations</span><span class="p">(</span><span class="n">step_annotations</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Parse the returns of a step function into a dict of resolved types.</p>
<p>Called within <code>BaseStepMeta.__new__()</code> to define <code>cls.OUTPUT_SIGNATURE</code>.
Called within <code>Do()</code> to resolve type annotations.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_annotations</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Type annotations of the step function.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Output signature of the new step class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_return_type_annotations</span><span class="p">(</span>
    <span class="n">step_annotations</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the returns of a step function into a dict of resolved types.</span>

<span class="sd">    Called within `BaseStepMeta.__new__()` to define `cls.OUTPUT_SIGNATURE`.</span>
<span class="sd">    Called within `Do()` to resolve type annotations.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_annotations: Type annotations of the step function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Output signature of the new step class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">return_type</span> <span class="o">=</span> <span class="n">step_annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;return&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">return_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="c1"># Cast simple output types to `Output`.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span> <span class="n">Output</span><span class="p">):</span>
        <span class="n">return_type</span> <span class="o">=</span> <span class="n">Output</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">SINGLE_RETURN_OUT_NAME</span><span class="p">:</span> <span class="n">return_type</span><span class="p">})</span>

    <span class="c1"># Resolve type annotations of all outputs and save in new dict.</span>
    <span class="n">output_signature</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">output_name</span><span class="p">:</span> <span class="n">resolve_type_annotation</span><span class="p">(</span><span class="n">output_type</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">output_type</span> <span class="ow">in</span> <span class="n">return_type</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">output_signature</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.steps.utils.resolve_type_annotation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resolve_type_annotation</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns the non-generic class for generic aliases of the typing module.</p>
<p>If the input is no generic typing alias, the input itself is returned.</p>
<p>Example: if the input object is <code>typing.Dict</code>, this method will return the
concrete class <code>dict</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>Any</code></td>
        <td><p>The object to resolve.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The non-generic class for generic aliases of the typing module.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/steps/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_type_annotation</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the non-generic class for generic aliases of the typing module.</span>

<span class="sd">    If the input is no generic typing alias, the input itself is returned.</span>

<span class="sd">    Example: if the input object is `typing.Dict`, this method will return the</span>
<span class="sd">    concrete class `dict`.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to resolve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The non-generic class for generic aliases of the typing module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">_GenericAlias</span>  <span class="c1"># type: ignore[attr-defined]</span>

    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">get_origin</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="n">obj</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># python 3.7</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">_GenericAlias</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">__origin__</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-step_operators/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Step Operators" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Step Operators
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-utils/" class="md-footer__link md-footer__link--next" aria-label="Next: Utils" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Utils
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>